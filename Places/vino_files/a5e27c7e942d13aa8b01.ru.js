(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["card","card-reviews","dialog"],{102:function(e,t){},103:function(e,t,n){},105:function(e,t,n){},1053:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(6),i=n(10),o=n(4),s=n.n(o),c=n(12),l=n(18),u=n(17),d=n(20),p=n(9),m=n(147),f=n(23),v=n(383),h=n(220),g=n(132),_=n(115),E=n(91),b=n(170),k=n(121),y=n(30),C=n(49),w=n(16),S=n(205),N=n(8),T=n(520),O=n(2093),R=n(2136),j=n(513),I=n.n(j),x=n(134),P=n(37),A=n(118),B=n(99),M=n(586),L=n(429),D=n(233),U=n.n(D),F=n(347),z=n(599),q=n.n(z),W=n(855),H=n(61),V=Object(d.a)({resolved:{},chunkName:function(){return"search"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search").then(n.bind(null,518))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 518}}),G=Object(d.a)({resolved:{},chunkName:function(){return"search"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search").then(n.bind(null,783))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 783}}),X=Object(d.a)({resolved:{},chunkName:function(){return"search"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search").then(n.bind(null,784))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 784}}),Q=Object(d.a)({resolved:{},chunkName:function(){return"base"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,33))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 33}}),Y={close:P.a.close,search:E.a.search,openCategory:E.a.openCategory,openOrgpage:E.a.openOrgpage,openBusinessFeedback:H.a.openBusinessFeedback,showPhoto:g.a.show,showCustomPhotos:g.a.showCustomPhotos,showAddPhotosForm:g.a.showAddPhotosForm,setLoadingPanorama:h.a.setLoadingPanorama,buildRoute:_.a.buildRoute,buildRouteTo:_.a.buildRouteTo,processMapObjectClick:_.a.processMapObjectClick,openCard:k.a.openCard,openPreloadedCard:k.a.openPreloadedCard,showInexactSearchResults:k.a.showInexactSearchResults,searchChain:E.a.searchChain,setMobileViewState:f.a.setMobileViewState,runPromoAction:v.a.runPromoAction,loadDiscovery:b.a.load,addVisitedId:E.a.addVisitedId,checkAuthorization:f.a.checkAuthorization,zoomToEntrances:E.a.zoomToEntrances,switchBusinessTab:E.a.switchBusinessTab,switchToponymTab:E.a.switchToponymTab,updateSelectedPostId:E.a.updateSelectedPostId,openAddObjectFeedback:H.a.openAddObjectFeedback,openEditObjectFeedback:H.a.openEditObjectFeedback,reduceStackByLastMode:f.a.reduceStackByLastMode,updateText:f.a.updateSearchText},K=Object(u.a)(c.b(function(e){var t,n,r=w.g(e,"search-result"),a=r[r.length-1],o=w.h(e,"orgpage"),s=w.g(e,"search"),c="search",l=s[s.length-1],u={request:{},from:"search"},d=l&&y.F(l)?l.results.filters:void 0;a&&(c="search-result",u={from:a.request.from,request:a.request,results:a.response,isLoading:!a.response,hasError:a.error,tab:a.tab,selectedPostId:a.selectedPostId,scrollTo:a.scrollTo,isPhoneInitiallyExpanded:a.isPhoneInitiallyExpanded});var p=w.e(e),m="search-result"===(null==p?void 0:p.mode)?null===(t=p.response)||void 0===t?void 0:t.items[0]:void 0;return Object(i.a)({mode:c,prevResult:m,searchRequest:null!==(n=null==l?void 0:l.request)&&void 0!==n?n:"search"===(null==a?void 0:a.request.from)?a.request:void 0,hideAdverts:Boolean(e.panoramas.isLayerEnabled||e.photos.isLayerEnabled||e.mrc.isLayerEnabled),mapLocation:e.map.location,isMapEditing:e.map.isEditing,isMapReady:e.map.ready,mapMode:e.map.mode,isSnapToRoundZoom:e.map.isSnapToRoundZoom,isActive:Boolean(u.results),orgpageResultId:o&&o.result?o.result.id:void 0,searchFilters:d,wide:w.o(e)},u)},Y),p.b),J=function(e){function t(t){var n;return(n=e.call(this,t)||this)._showPhotos=function(e){var t=n.props;t.showCustomPhotos(Object(i.a)(Object(i.a)({},e),{},{meta:Object(i.a)(Object(i.a)({},e.meta),{},{skipAdvert:y.w(t.results.items[0])})}))},n._onTypoClick=function(){var e=n.props;e.search(Object(i.a)(Object(i.a)({},e.searchRequest),{},{searchType:"TEXT",correctMisspell:0,context:null}))},n._onRouteClick=function(){var e=n.props,t=e.results.items[0];e.buildRouteTo({value:t.title,coords:e.request.coordinates||t.displayCoordinates,searchResult:t})},n._onDistanceClick=function(e,t){var r=n.props,a=r.results.items[0];r.buildRoute({points:[{value:t,coords:e},{value:a.title,coords:r.request.coordinates||a.displayCoordinates}],travelMode:"pedestrian"})},n._onShowAllBusinessesClick=function(){n.props.switchToponymTab("inside")},n._onCategoryClick=function(e,t){var r=n.props.results.items[0];n.props.openCategory(e,"toponym"===r.type?{stackAction:"push"}:void 0,t)},n._onEditClick=function(e){var t=n.props,r=t.results.items[0];switch(r.type){case"toponym":t.openEditObjectFeedback({result:r,context:{formContextId:"entrance"===r.kind||"house"===r.kind?"toponym.building":void 0}});break;case"business":t.openBusinessFeedback({result:r,type:e})}},n._onClose=function(){var e=n.props;e.reduceStackByLastMode(),e.updateText("")},n._getPhotoShowAction=function(){var e=n.props,t=e.results.items[0];if("business"===t.type){var r=t.advert&&t.advert.photo;return{businessId:t.id,name:t.title,description:t.address,origin:"preview_card",skipAdvert:y.w(t),businessLinks:t.businessLinks,additionalPhotos:r?[{id:"advert",url:r}]:void 0,bookingData:S.a(t)?{requestId:t.requestId,requestQuery:e.results.requestQuery||""}:void 0}}return{point:t.coordinates,description:t.address,origin:"preview_card",skipAdvert:"search"===e.mode}},n._onPhotoClick=function(e,t){var r=n._getPhotoShowAction();n.props.showPhoto(Object(i.a)(Object(i.a)({},r),{},{selectedIndex:e}),t)},n._onPhotosClick=function(){var e=n._getPhotoShowAction();n.props.showPhoto(e)},n._onAddBusinessClick=function(){var e=n.props;e.openBusinessFeedback({type:"organization/add",result:e.results.items[0]})},n._onChainClick=function(){var e=n.props,t=e.results.items[0];e.searchChain({chain:t.chain,center:t.displayCoordinates})},n._onMovedClick=function(e){n.props.openCard({from:"search",id:e,origin:"moved"},{stackAction:"replace"})},n._onAddressClick=function(){var e,t,r=n.props,a=null===(e=r.results)||void 0===e?void 0:e.items[0];a&&!w.m(r.config)&&r.openCard({coordinates:"geoWhere"in a&&(null===(t=a.geoWhere)||void 0===t?void 0:t.coordinates)||a.coordinates,from:"whatshere",zoom:16},{stackAction:"push"})},n._openBusinessById=function(e){n.props.openCard({from:"search",id:e,origin:"places_inside"},{stackAction:"push"})},n._onDetailsClick=function(){var e=n.props,t=e.results.items[0];"business"===t.type&&e.openOrgpage({id:t.id},{requestId:e.results.requestId,requestCorrectedQuery:e.results.requestCorrectedQuery,preloadedData:t})},n._highlightResult=function(e){var t=n.props,r=t.results&&t.results.items[0];r&&y.b(r,e)||n.setState({highlightedResult:e})},n._unhighlightResult=function(e){var t=n.state.highlightedResult;t&&y.b(t,e)&&n.setState({highlightedResult:void 0})},n._fetchNearbyBusinesses=function(e){var t,r=n.props,a=null===(t=r.results)||void 0===t?void 0:t.items[0],i=r.config;l.a.cancel(n._nearbyBusinessesFetchAction),a&&(n._nearbyBusinessesFetchAction=l.a.create(B.a.fetch({autoscale:!1,restrictSpan:1,bbox:a.bounds,count:i.searchResultsCount,origin:"exp-rubricsToponymCardTop",text:e.ids.map(function(e){return"category_id:"+e}).join(" | "),type:["biz"]},i),{success:function(e){return n.setState({nearbyBusinesses:e.items.filter(function(e){return!("lowRelevance"in e)})})},fail:function(){return n.setState({nearbyCategory:void 0})}}))},n._onNearbyCategoryClick=function(e){n.setState({nearbyBusinesses:void 0,nearbyCategory:null==e?void 0:e.id}),e&&(n.props.setMobileViewState("mini"),n._fetchNearbyBusinesses(e))},n._onPlacemarkClick=function(e){var t=n.props,r=t.results.items[0];t.processMapObjectClick({point:{value:e.title,coords:e.displayCoordinates,searchResult:e},action:function(){if(r.id!==e.id)if(t.prevResult&&y.b(e,t.prevResult))t.close();else if("business"===e.type&&e.relatedAdvertType){var n,a,i="relatedAdverts"in r&&(null===(n=r.relatedAdverts)||void 0===n?void 0:null===(a=n.nearbyOnMap)||void 0===a?void 0:a.some(function(t){return t.id===e.id}));t.openCard({from:"search",id:e.id,origin:"related-adverts-"+e.relatedAdvertType,serpId:t.results.requestSerpId},{stackAction:i?"push":"replace",mobileViewState:"mini"})}else t.openPreloadedCard(e)}})},n._addRelatedAdverts=function(e){var t=n.props;if(!t.results)return e;var r=t.results.items[0],a=t.prevResult,i=[].concat(e);if(t.config.experiments.ui.disableRelatedAdvertPins)return a&&(i=i.concat(a)),i;var o=y.y(r)&&y.C(r);return a&&!o&&(i=i.concat(y.n(a),a)),"toponym"!==r.type&&(i=i.concat(y.n(r))),i.filter(function(e){return e.id!==r.id})},n._collectResultsForMapView=function(){var e=[];return n.props.hideAdverts||(e=n._addRelatedAdverts(e)),n.state.nearbyBusinesses&&(e=e.concat(n.state.nearbyBusinesses)),e.filter(function(e){return!y.y(e)||y.y(e)&&!y.z(e)})},n._renderMobileShortcuts=function(){var e,t=n.props;null===(e=t.results)||void 0===e||e.items[0];return null},n._renderMapHighlightView=function(){var e=n.props;return"poi"!==e.from&&e.results&&e.isActive&&!e.isMapEditing?o.createElement(G,{mapLocation:e.mapLocation,searchResults:e.results}):null},n._renderMapView=function(){var e=n.props;if(!e.results||e.isLoading||!e.isActive||e.isMapEditing||!e.isMapReady)return null;var t=e.results.items[0];if(!t||e.orgpageResultId&&e.orgpageResultId===t.id)return null;var r=n._collectResultsForMapView(),a=y.y(t)&&y.z(t);return o.createElement(m.a,{key:C.g(t),name:e.from,nodeState:y.d(e.results)},o.createElement(V,{results:r,selectedResult:a?void 0:t,mapLocation:e.mapLocation,onPlacemarkClick:n._onPlacemarkClick,highlightedResult:n.state.highlightedResult,highlightResult:n._highlightResult,unhighlightResult:n._unhighlightResult}),y.y(t)?o.createElement(W.default,{result:t}):null)},n._renderMapSearchResults=function(){var e=n.props,t=n.props.results;if(!("search"===e.from&&(null==t?void 0:t.exactResult))||!t||e.isMapEditing)return null;var r=t.items[0],a=r&&y.y(r)&&y.z(r)?void 0:r;return o.createElement(X,{searchResponse:Object(i.a)(Object(i.a)({},t),{},{items:[]}),visitedBusinesses:[],highlightedResult:n.state.highlightedResult||void 0,highlightResult:n._highlightResult,unhighlightResult:n._unhighlightResult,selectedResult:a,hiddenResults:a?[a]:void 0,onResultClick:n._onPlacemarkClick,onRouteClick:e.buildRouteTo,mapLocation:e.mapLocation,isLoading:Boolean(e.isLoading)})},n._renderCard=function(e){var t,a=n.props,i=a.results,s=i.requestQuery,c=i.requestCorrectedQuery,l=a.tab,u={requestQuery:s,requestCorrectedQuery:c,onTypoClick:s!==c?n._onTypoClick:void 0,onRouteClick:n._onRouteClick,onDistanceClick:n._onDistanceClick,onEditClick:n._onEditClick,onBrandingClick:a.runPromoAction,onPhotosClick:n._onPhotosClick,onCategoryClick:n._onCategoryClick,onEntrancesClick:a.zoomToEntrances};switch(e.type){case"toponym":var d;return a.results.exactResult&&(d=a.results.items.filter(function(t){return!y.b(t,e)&&"direct"!==t.type})),o.createElement(O.a,Object(r.a)({},u,{tab:Object(M.e)(l)||"overview",result:e,additionalResults:d&&d.length>0?d:void 0,onAddBusinessClick:n._onAddBusinessClick,onBusinessesClick:a.openPreloadedCard,onShowAllBusinessesClick:n._onShowAllBusinessesClick,onShowAllResultsClick:a.showInexactSearchResults,onAdditionalResultClick:a.openPreloadedCard,onTabChange:n.props.switchToponymTab,selectedCategory:n.state.nearbyCategory,onNearbyCategoryClick:n._onNearbyCategoryClick}));case"business":return o.createElement(T.default,Object(r.a)({},u,{result:e,tab:null!==(t=Object(M.a)(l))&&void 0!==t?t:"overview",initialScrollTo:a.scrollTo,isPhoneInitiallyExpanded:a.isPhoneInitiallyExpanded,selectedPostId:a.selectedPostId,filters:a.searchFilters,serpId:a.results.requestSerpId,checkAuthorization:a.checkAuthorization,onDetailsClick:n._onDetailsClick,onChainClick:n._onChainClick,onSimilarResultClick:a.openPreloadedCard,onMovedClick:n._onMovedClick,onDiscoveryClick:a.loadDiscovery,onPhotoClick:n._onPhotoClick,onTabChange:a.switchBusinessTab,onPostClick:n.props.updateSelectedPostId,showPhoto:n._showPhotos,showAddPhotosForm:a.showAddPhotosForm,onPlacesInsideClick:n._openBusinessById,addToVisited:a.addVisitedId,onAddressClick:n._onAddressClick,onClose:n._onClose}));case"direct":return o.createElement(R.a,Object(r.a)({},u,{mini:!1,result:e}));default:return null}},n._renderPanelContent=function(){var e=n.props;if(e.hasError)return o.createElement(x.a,null,"Что-то пошло не так.\nПопробуйте обновить страницу\nили зайти позднее.");if(!e.results)return null;if(0===e.results.items.length)return o.createElement(x.a,null,"Ничего не нашлось. Уточните запрос или измените масштаб карты.");var t=e.results.items[0],r="kind"in t?t.kind:void 0;return o.createElement(N.a,{name:"preview_card",nodeState:{mapMode:e.mapMode},actionSubtreeState:{uri:C.g(t),permalink:t.id,type:y.e(t),gml_id:t.analyticsId,logId:t.logId,reqid:t.requestId,query:e.results.requestCorrectedQuery,kind:r,mapMode:e.mapMode},key:C.g(t)+t.displayCoordinates.join(),subtreeMetrikaGoal:"search"===e.mode?"deepuse":void 0},n._renderCard(t),o.createElement(A.a,{type:"search_card_page"}))},n._renderCollapsedContent=function(){n.props;return null},n._renderPanel=function(){var e,t=n.props;if(!t.results&&!t.hasError&&!t.isLoading)return null;var r="search"===t.from?"serp_panel":t.from+"_panel",a=null===(e=t.results)||void 0===e?void 0:e.items[0],i=Boolean("business"===(null==a?void 0:a.type));return o.createElement(Q,{name:t.mode,analyticsName:r,isLoading:t.isLoading,renderMiniCard:n._renderCollapsedContent,hidePanelExpandButton:i,onClose:i?void 0:n._onClose,view:t.wide?"wide":void 0,hideCloseButton:w.m(t.config)},n._renderPanelContent())},n.state={},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.results?t.results.items[0]:void 0,r=e.results?e.results.items[0]:void 0;!r||n&&y.b(r,n)||this.setState({nearbyBusinesses:void 0,nearbyCategory:void 0})},n.componentWillUnmount=function(){l.a.cancel(this._nearbyBusinessesFetchAction)},n.render=function(){return o.createElement(o.Fragment,null,this._renderPanel(),this._renderMapView(),this._renderMapSearchResults(),this._renderMapHighlightView(),this._renderMobileShortcuts())},t}(o.Component);J.displayName="SearchResultComponent",t.default=K(J)},1054:function(e,t,n){"use strict";var r=n(13),a=n(6),i=n(4),o=n.n(i),s=n(20),c=n(9),l=n(77),u=n(30),d=n(352),p=n(614),m=n(616),f=n(395),v=n(617),h=n(96),g=n(396),_=n(425),E=n(397),b=n(801),k=n(802),y=n(1954),C=n(618),w=n(615),S=n.n(w),N=n(1956),T=n.n(N),O=Object(s.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,1129))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1129}}),R=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getActionButtons=function(){var e,t=n.props;return!t.config.hideAdverts&&(null===(e=t.result.advert)||void 0===e?void 0:e.actionButtons)||[]},n._renderActionButton=function(e,t){var a,o,s=n.props,c=e||n._getActionButtons()[0];return"normal"!==s.view&&c?i.createElement(v.a,Object(r.a)({},c,{view:"wide"===s.view?"primary":"advertisement",metrikaGoal:null===(a=s.result.metrika)||void 0===a?void 0:null===(o=a.goals)||void 0===o?void 0:o.cta,key:t})):null},n._renderActionButtons=function(){return n._getActionButtons().map(n._renderActionButton)},n._renderPhonesButton=function(){var e=n.props;l.e(e.result,e.config),n._getActionButtons()[0]},n._renderLinksButton=function(){var e=n.props,t=e.result.urls||[],a=Boolean(n._renderActionButton());if(0!==t.length&&"wide"!==e.view){var o=e.config.experiments.ui.siteButtonText&&!a?{text:"Сайт",metrikaGoal:"goal_deepuse"}:{icon:T.a,hint:"Сайт",metrikaGoal:"goal_deepuse"};return 1===t.length?i.createElement(h.a,Object(r.a)({},o,{type:"web",analytics:"site_link",url:t[0],target:"_blank"})):i.createElement(m.a,{urls:t},function(e){var t=e.onClick;return i.createElement(h.a,Object(r.a)({},o,{type:"show-web",analytics:"show_site_link",onClick:t}))})}},n._renderUndergroundButton=function(){var e,t=n.props.result.masstransitStop,r=null==t?void 0:null===(e=t.links)||void 0===e?void 0:e.find(function(e){return"underground"===e.type});return r?i.createElement(k.a,{link:r}):null},n._renderRouteButton=function(){var e,t,r=n.props,a=r.result;return u.z(a)?null:i.createElement(g.a,{mini:"mini"===r.view,onClick:r.onRouteClick,additionalMetrikaGoal:null===(e=a.metrika)||void 0===e?void 0:e.goals.route,withoutText:"underground"===(null===(t=a.masstransitStop)||void 0===t?void 0:t.type)||n.state.minimizeRouteButton,pessimizeColor:"wide"===r.view&&n._getActionButtons().length>0})},n._renderBusinessGroupsButtons=function(){var e=n.props,t=e.result;if("wide"!==e.view||e.config.hideAdverts||n._getActionButtons().length>0)return null;var r="open"===t.status?d.a(t.businessLinks,e.config):[];return t.topObjects&&(r=r.filter(function(e){return"menu"!==e.id})),r.map(function(e){return i.createElement(O,{group:e,key:e.id})})},n.state={},n}return Object(a.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.config.experiments.ui.siteButtonPositionBoost,a="wide"===t.view;return i.createElement(f.a,null,a?null:this._renderRouteButton(),this._renderUndergroundButton(),"mini"===t.view&&n.masstransitStop?i.createElement(C.a,{coordinates:t.result.coordinates,onLoad:function(){return e.setState({minimizeRouteButton:!0})}}):null,a?null:this._renderActionButton(),r?this._renderLinksButton():null,this._renderPhonesButton(),r?null:this._renderLinksButton(),n.masstransitStop?null:i.createElement(E.a,{subject:{type:"search",data:n}}),a&&t.onSendToPhoneClick?i.createElement(b.a,{onClick:t.onSendToPhoneClick}):null,a?null:i.createElement(_.a,{result:n}),this._renderBusinessGroupsButtons(),a?this._renderRouteButton():null,a?this._renderActionButtons():null,t.config.experiments.ui.editBusinessFromCardActions?i.createElement(y.a,{result:n}):null)},t}(i.Component);t.a=Object(c.b)(R)},1055:function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(20),o=n(178),s=Object(i.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,1130))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1130}}),c=Object(i.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,854))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 854}}),l=Object(i.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,840))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 840}}),u=Object(i.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,1182))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1182}}),d=function(e){var t=e.data;return"mastercard"===t.type?r.createElement(l,{data:t.advert,inline:!0,isInHeader:!e.wide}):"direct"===t.type?r.createElement(c,{direct:t.advert,isInHeader:!0}):e.wide?r.createElement(u,{data:t.advert}):r.createElement(s,{data:t.advert,advertBadgeUTMs:Object(o.a)(e.wide)})};t.a=d},1056:function(e,t,n){"use strict";var r=n(6),a=(n(1977),n(4)),i=n(8),o=n(162),s=n(35),c=n(9),l=n(7),u=Object(l.a)("business-event-view"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderGalleryPhoto=function(e,n){return a.createElement(i.a,{name:"photo",logClick:!0,key:e.urlTemplate},a.createElement("div",{className:u("gallery-photo",{single:n}),onClick:function(n){var r,a;n.stopPropagation(),null===(r=(a=t.props).onPhotoClick)||void 0===r||r.call(a,e)}},a.createElement(o.a,{height:188,url:e.urlTemplate.replace("%s","L")})))},t._renderGallery=function(){var e=t.props.event.action.blockData.images;return e?1===e.length?t._renderGalleryPhoto(e[0],!0):a.createElement("div",{className:u("gallery")},a.createElement(s.a,{itemsGap:4,padding:16},e.map(function(e){return t._renderGalleryPhoto(e)}))):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.event,r=n.action.blockData,o=null!==(e=r.images)&&void 0!==e?e:[];return a.createElement(i.a,{name:"business_event",logClick:!0},a.createElement("div",{className:u(),onClick:t.onClick},t.largeGallery&&o.length>0?this._renderGallery():null,a.createElement("div",{className:u("texts")},a.createElement("div",{className:u("title")},r.title),a.createElement("div",{className:u("rubric")},r.rubric),a.createElement("div",{className:u("time")},n.formattedDate)),!t.largeGallery&&o.length>0?a.createElement("div",{className:u("photo"),style:{backgroundImage:"url("+o[0].urlTemplate.replace("%s","M")+")"}}):null,a.createElement("div",{className:u("description")},r.description),r.features&&r.features.length>0?a.createElement("div",{className:u("feature")},a.createElement("div",{className:u("feature-value")},r.features[0].value),a.createElement("div",{className:u("feature-name")},r.features[0].name)):null))},t}(a.Component);t.a=Object(c.b)(d)},1057:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(1058),o=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t,n;e.effectiveWidth!==this.props.effectiveWidth&&(null===(t=(n=this.props).onWidthTransitionEnd)||void 0===t||t.call(n))},n.render=function(){var e,t,n;return null!==(e=null===(t=(n=this.props).children)||void 0===t?void 0:t.call(n,{effectiveWidth:this.props.effectiveWidth}))&&void 0!==e?e:null},t}(a.Component);t.a=Object(i.b)(o)},1059:function(e,t,n){"use strict";n(1992);var r=n(4),a=n(7),i=n(9),o=n(222),s=n(779),c=Object(a.a)("business-quarantine-warning-view");function l(e,t){return (function(params){return (function(params){switch (params.type) {case "delivery":return "доставка";case "takeaway":return "еда навынос";case "pickup":return "самовывоз";case "homeVisit":return "выезд на дом";}}(params));})({type:e})}function u(e,t){return e.some(function(e){return t.includes(e)})}t.a=Object(i.b)(function(e){var t=e.result.businessProperties;if(!t||!t.closed_for_quarantine&&!t.closed_for_visitors)return null;var n="Режим работы организации мог измениться. Свяжитесь с ней, чтобы уточнить.";if(t.closed_for_visitors){var a,i=(null!==(a=e.result.features)&&void 0!==a?a:[]).map(function(e){return e.id}).filter(Boolean),d=[];u(i,["food_delivery","food_product_delivery","delivery_medicines","delivery","goods delivery"])&&d.push(l("delivery",e.config)),u(i,["takeaway"])&&d.push(l("takeaway",e.config)),u(i,["pickup"])&&d.push(l("pickup",e.config)),u(i,["home_visit","mobile_tire_service"])&&d.push(l("homeVisit",e.config)),n=0===d.length?"Организация может работать дистанционно или с ограничением на посещение. Свяжитесь с ней, чтобы уточнить.":(function(params){return "Организация работает дистанционно: есть "+params.options+".";})({options:d.join(", ")})}return r.createElement(o.a,{view:"attention",analyticsType:"quarantine",leftSlot:r.createElement(s.a,{view:"attention"})},t.closed_for_visitors?r.createElement("div",{className:c("title")},"Закрыто для посещения"):null,n)})},1060:function(e,t,n){"use strict";var r=n(6),a=(n(1994),n(4)),i=n(9),o=n(330),s=n(8),c=n(7),l=Object(c.a)("business-summary"),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderExpandButton=function(e){return(t.props.alwaysCollapsed||e.isCollapsed)&&e.isOverflown?a.createElement(s.a,{name:"expand",logClick:!0},a.createElement("span",{className:l("expand-button"),onClick:e.onShowClick},"Ещё")):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result;return a.createElement(s.a,{name:"summary"},a.createElement("div",{className:l()},a.createElement(o.a,{sharedKey:t.id,renderButton:this._renderExpandButton},function(n){var r=n.isCollapsed,i=n.ref;return a.createElement("div",{ref:i,className:l("text",{collapsed:!!e.alwaysCollapsed||r})},t.summary)})))},t}(a.Component);t.a=Object(i.b)(u)},1061:function(e,t,n){"use strict";var r=n(6),a=(n(2023),n(4)),i=n(7),o=n(9),s=n(8),c=n(90),l=n(59),u=Object(i.a)("card-realty-snippet-view"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderOffer=function(e){var n=e.url?"a":"div";return a.createElement("div",{className:u("offer"),key:e.text},a.createElement("div",{className:u("text")},e.text),a.createElement(s.a,{name:"offer",logClick:!0,nodeState:{name:e.text}},a.createElement(n,{className:u("price",{link:"a"===n}),href:e.url,target:"_blank"},Object(l.a)(e.price,t.props.config.lang))))},t._renderOffers=function(){var e=t.props.offers;return 0===e.length?null:a.createElement("div",{className:u("offers")},e.map(t._renderOffer))},t._renderCompany=function(){var e=t.props.company,n=e.logo,r=e.name;return a.createElement("div",{className:u("company")},a.createElement("div",null,r),n?a.createElement("img",{className:u("logo"),src:n}):null)},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(s.a,{name:"realty_snippet"},a.createElement("div",{className:u()},a.createElement(c.a,{type:"h2",rightContent:a.createElement("div",{className:u("advert-label")},"Реклама")},"Цены на квартиры"),a.createElement("div",{className:u("content")},this._renderCompany(),this._renderOffers())))},t}(a.Component);t.a=Object(o.b)(d)},1062:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(2067),n(4)),o=n(7),s=n(35),c=n(8),l=Object(o.a)("card-popular-view"),u=3,d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderItems=function(){var e=t.props;return e.renderItems(e.items.slice(0,e.hasPhotos?void 0:u))},t._renderCarousel=function(){var e=t.props,n=t._renderItems();return n.push(i.createElement(c.a,{name:"show_all",logClick:!0,key:"transition"},i.createElement("div",{className:l("transition"),onClick:e.onAllClick},e.renderTransitionItem()))),i.createElement(c.a,{name:"carousel"},i.createElement(s.a,Object(r.a)({clickStep:2,arrowStyle:{horizontalOffset:5,topVerticalOffset:e.arrowTopVerticalOffset},buttonSize:"normal"===e.size?"l":"m",theme:"normal"===e.size?"black":"white",itemsGap:"normal"===e.size?16:8,padding:"normal"===e.size?60:16},e.carouselOptions),n))},t._renderList=function(){return i.createElement(c.a,{name:"list"},i.createElement("div",{className:l("list")},t._renderItems()))},t._renderEmptyState=function(){return i.createElement(c.a,{name:"empty"},i.createElement("div",{className:l("empty")},"Ничего не нашлось"))},t}return Object(a.a)(t,e),t.prototype.render=function(){return i.createElement("div",{className:l({size:this.props.size})},0===this.props.items.length?this._renderEmptyState():this.props.hasPhotos?this._renderCarousel():this._renderList())},t}(i.PureComponent);t.a=d},1063:function(e,t,n){"use strict";n(2071);var r=n(4),a=n(7),i=n(8),o=Object(a.a)("related-item-list-view");t.a=function(e){return r.createElement(i.a,{name:"list_item"},r.createElement("div",{className:o({size:e.size,clickable:e.clickable,first:e.first,view:e.view})},r.createElement("div",{className:o("content")},r.createElement("div",{className:o("title"),title:e.item.title},e.item.title),r.createElement("div",{className:o("subtitle")},e.item.volume?r.createElement("span",{className:o("volume")},e.item.volume):null,e.item.description?r.createElement("span",{className:o("description"),title:e.item.description},e.item.description):null)),r.createElement("div",{className:o("price")},e.item.price?e.item.price+" "+(e.item.currency||"₽"):"цена не указана")))}},1064:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(2073),n(4)),o=n(7),s=n(36),c=n(9),l=n(541),u=Object(o.a)("related-product-view"),d={small:96,normal:160,"full-width":96},p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){var n=t.props;n.item.sourceUrl?window.open(n.item.sourceUrl):n.onClick&&n.onClick(e)},t._renderAdditionalInfo=function(){var e=t.props.item;return i.createElement("div",{className:u("additional")},i.createElement("span",{className:u("price")},e.price?e.price+" "+(e.currency||"₽"):"цена не указана"),i.createElement("span",{className:u("volume")},e.volume))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=s.d({type:"rubrics",name:"food"===e.rubric?"restaurants":"fallback",size:"normal"},e.config)||"";return i.createElement("div",{className:u({size:e.size,stretch:e.twoColumns,view:e.view}),onClick:this._onClick},i.createElement(l.a,Object(r.a)({},e.item,{size:e.size,imageHeight:e.twoColumns?104:d[e.size],iconUrl:t,additional:this._renderAdditionalInfo(),clickable:e.clickable,twoColumns:e.twoColumns,lazyImageLoad:e.lazyImageLoad,first:e.first,view:e.view})))},t}(i.PureComponent);t.a=Object(c.b)(p)},1065:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(2079),n(4)),o=n(7),s=n(36),c=n(21),l=n(9),u=n(541),d=n(113),p=n(38),m=Object(o.a)("place-inside-view"),f={small:120,normal:160},v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderAdditionalInfo=function(){var e=t.props;return"small"===e.size?null:i.createElement("div",{className:m("additional")},e.item.rating?i.createElement("div",{className:m("rating")},i.createElement(d.a,{ratingValue:parseFloat(e.item.rating)})):null,e.item.floor?i.createElement("div",{className:m("floor")},i.createElement("div",{className:m("floor-text")},(function(params){return params.floor+" этаж";})({floor:e.item.floor}))):null)},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=s.d({type:"rubrics",name:"building",size:"normal"===e.size?"large":"small"},e.config),n=c.c({id:e.item.permalink,seoname:e.item.seoname},{},e.config);return i.createElement("div",{className:m({size:e.size,view:e.view})},i.createElement(p.a,{href:n,onLeftClick:function(){return e.onClick(e.item.permalink)}},i.createElement(u.a,Object(r.a)({},e.item,{description:"normal"===e.size?e.item.description:void 0,size:e.size,imageHeight:f[e.size],iconUrl:t,additional:this._renderAdditionalInfo(),lazyImageLoad:e.lazyImageLoad,clickable:!0,first:e.first,view:e.view}))))},t}(i.PureComponent);t.a=Object(l.b)(v)},1066:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(4),o=n(9),s=n(352),c=n(959),l=n(199),u=n(8),d=n(11),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hasShownPopup=!1,n._getContextMenuItems=function(){var e=n.props,t=e.config,r=e.businessLinks;return Object(s.a)(r,t)},n._checkOpenedContextMenu=function(){n._hasShownPopup=n.state.isOpenContextMenu},n._changeOpenContextMenu=function(e){n.setState({isOpenContextMenu:!n._hasShownPopup,coordinates:[e.clientX,e.clientY]})},n._onContextMenuClose=function(){n.setState({isOpenContextMenu:!1,coordinates:[0,0]})},n._onContextItemClick=function(e){var t=e.links[0],r=t.href;t.iframe?n.setState({activeIframe:e}):window.open(r,"_blank")},n._onCloseIframe=function(){n.setState({activeIframe:null})},n._renderContextMenu=function(){var e=n.state,t=e.isOpenContextMenu,a=e.coordinates,o=n._getContextMenuItems().filter(function(e){return"menu"!==e.type}).map(function(e){return Object(r.a)(Object(r.a)({},e),{},{icon:function(t){return e.icon?i.createElement(d.a,{url:e.icon,className:t}):null}})});return t&&0!==o.length?i.createElement(u.a,{name:"context_menu"},i.createElement(c.a,{isPhone:!1,isShown:!0,coordinates:a,items:o,onItemClick:n._onContextItemClick,onClose:n._onContextMenuClose,metrikaGoal:"goal_deepuse"})):null},n._renderIframe=function(){var e=n.state.activeIframe;if(!e)return null;var t=e.links[0];return i.createElement(l.a,{text:e.text,href:t.href,isOpen:!0,iframeStyle:t.iframe,onClose:n._onCloseIframe})},n.state={isOpenContextMenu:!1,coordinates:[0,0],activeIframe:null},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.document.addEventListener("mousedown",this._checkOpenedContextMenu,!0)},n.componentWillUnmount=function(){window.document.removeEventListener("mousedown",this._checkOpenedContextMenu,!0)},n.render=function(){var e=0!==this._getContextMenuItems().filter(function(e){return"menu"!==e.type}).length;return i.createElement(i.Fragment,null,this.props.children({onChangeOpenContextMenu:e?this._changeOpenContextMenu:void 0}),this._renderContextMenu(),this._renderIframe())},t}(i.Component);t.a=Object(o.b)(p)},1067:function(e,t,n){"use strict";var r=n(6),a=(n(2091),n(4)),i=n(330),o=n(8),s=n(7),c=Object(s.a)("card-encyclopedia-view"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderText=function(e){var n=t.props.data;return a.createElement(a.Fragment,null,a.createElement("div",{className:c("description",{collapsed:e.isCollapsed}),ref:e.ref},n.description),e.isOverflown&&e.isCollapsed||!n.source?null:a.createElement("a",{className:c("source"),href:n.source.href,target:"_blank"},n.source.name))},t._renderButton=function(e){return e.isCollapsed&&e.isOverflown?a.createElement(o.a,{name:"expand",logClick:!0},a.createElement("span",{className:c("expand"),onClick:e.onClick},"Показать ещё")):null},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(o.a,{name:"encyclopedia",logClick:!0},a.createElement("div",{className:c()},a.createElement(i.a,{renderButton:this._renderButton},this._renderText)))},t}(a.PureComponent);t.a=l},1068:function(e,t,n){"use strict";var r=n(6),a=n(2107),i=n.n(a),o=n(4),s=n.n(o),c=n(9),l=n(8),u=n(15),d=n(101),p=n(291),m=n(7),f=n(20),v=n(234),h=Object(f.a)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(null,227))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 227}}),g=150,_="all",E=Object(m.a)("card-businesses-list"),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._nodeRef=o.createRef(),t._changeCategory=function(e){var n=t.props,r=e[0],a=r===_?void 0:n.categories.find(function(e){return e.name===r});a!==n.selectedCategory&&n.onCategoryClick(a)},t._onScroll=function(e){var n,r,a=t._nodeRef.current;e&&a&&(e.clientHeight+e.scrollTop>=a.offsetTop+a.scrollHeight-g&&(null===(n=(r=t.props).onEndReached)||void 0===n||n.call(r)))},t._renderCategories=function(){var e=t.props,n=[{id:_,text:"Все категории"}].concat(e.categories.map(function(e){return{id:e.name,text:e.name}}));return o.createElement("div",{className:E("categories")},o.createElement(p.a,{tick:"triangle",buttonView:"secondary-gray",buttonSize:"medium",groups:[{items:n}],checkedItems:e.selectedCategory?[e.selectedCategory.name]:[_],onChange:t._changeCategory,checkedItemsToNode:function(e){var t;return null===(t=n.find(function(t){return t.id===e[0]}))||void 0===t?void 0:t.text},isStretched:!0,isTextAlignLeft:!0}))},t._renderEmptyList=function(){return o.createElement("div",{className:E("empty-list")},"Ничего не нашлось",t.props.onAddBusinessClick?o.createElement("div",{className:E("empty-list-add-button")},o.createElement(l.a,{name:"add_organization",logClick:!0},o.createElement(u.a,{size:"medium",view:"primary",onClick:t.props.onAddBusinessClick},"Добавить организацию"))):null)},t._renderList=function(){var e=t.props,n=t.props.items;return e.isLoading||0!==n.length?o.createElement(o.Fragment,null,o.createElement("div",{className:E("list")},n.map(function(t,n){return o.createElement(h,{key:n,position:n,result:t,onClick:function(){return e.onResultClick(t)},disableAddress:!0,disableModularity:!0,shouldRenderImmediately:!0,showWideMedia:"never"})})),e.isLoading?o.createElement("div",{className:E("placeholder")},e.placeholder):null,e.onAddBusinessClick?o.createElement(l.a,{name:"add_organization",logClick:!0},o.createElement("div",{className:E("list-add-button")},o.createElement(u.a,{size:"medium",view:"secondary-blue",onClick:e.onAddBusinessClick,isStretched:!0},"Добавить организацию"))):null):t._renderEmptyList()},t._renderSearchInput=function(){var e=t.props;return o.createElement("div",{className:E("search-input")},o.createElement(d.a,{onChange:function(t){return e.onSearchTextChange(t)},placeholder:"Поиск по названию",showClear:Boolean(e.searchText),value:e.searchText,view:"stroke"}))},t}return Object(r.a)(t,e),t.prototype.render=function(){return o.createElement(l.a,{name:"business_results"},o.createElement("div",{className:E(),ref:this._nodeRef},this._renderSearchInput(),this._renderCategories(),this._renderList(),o.createElement(v.a,{eventHandler:this._onScroll})))},t}(o.Component);t.a=Object(c.b)(b)},107:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o});var r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function a(e,t){return{sunday:"Воскресенье",monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота"}[t]}function i(e,t){return{sunday:"Вс",monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб"}[t]}function o(e,t){return{sunday:"В воскресенье",monday:"В понедельник",tuesday:"Во вторник",wednesday:"В среду",thursday:"В четверг",friday:"В пятницу",saturday:"В субботу"}[t]}},1074:function(e,t){},112:function(e,t,n){"use strict";t.a=function(e){return e}},1123:function(e,t,n){"use strict";n.r(t);var r=n(6),a=(n(2620),n(4)),i=n(7),o=n(9),s=n(96),c=n(822),l=n(8),u=n(441),d=n(30),p=n(49),m=n(157),f=n(2622),v=n.n(f),h=Object(i.a)("search-map-result-preview"),g=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onRouteClick=function(e){e.stopPropagation();var n=t.props.result;t.props.onRouteClick({value:n.title,coords:n.displayCoordinates,searchResult:n})},t._onActionClick=function(e){e.stopPropagation(),t.props.onAdvertActionClick(t.props.result)},t._renderMedia=function(){var e=t.props,n=e.result.panorama,r=e.result.photos;return n||r?a.createElement("div",{className:h("media")},a.createElement(u.a,{panorama:r?void 0:n,photos:r,onPhotosClick:e.openCard,isPanoramaInteractive:!1})):null},t._renderDescription=function(){var e=t.props,n=e.result,r=n.address,i=n.categories,o=[];i&&o.push(i.slice(0,2).map(function(e){return e.name}).join(", "));var s=m.b(n,e.config),c=(n.features||[]).filter(function(e){return"text"===e.type}).find(function(e){return"average_bill2"===e.id});if("open"!==n.status||n.currentWorkingStatus||c){if(("open"!==n.status||n.currentWorkingStatus)&&o.push(s.text),c){var l="enum"===c.type?c.value.map(function(e){return e.name}):c.value;o.push("Ср. чек"+": "+l)}}else o.push(r);return a.createElement("div",{className:h("description")},o.join(" · "))},t._renderMoreInfo=function(){return a.createElement(l.a,{name:"more_info",logClick:!0},a.createElement("div",{className:h("link")},"Подробнее об организации"))},t._renderActionOrMoreInfo=function(){var e,n,r,i,o=t.props.result,s=null===(e=o.advert)||void 0===e?void 0:null===(n=e.actionButtons)||void 0===n?void 0:n[0];return s&&"url"===s.type?a.createElement(l.a,{name:"advert_action",nodeState:{actionType:s.type,title:s.title},metrikaGoal:null===(r=o.metrika)||void 0===r?void 0:null===(i=r.goals)||void 0===i?void 0:i.cta,logClick:!0},s.iframe?a.createElement("div",{className:h("link"),onClick:t._onActionClick},s.title):a.createElement("a",{className:h("link"),onClick:function(e){return e.stopPropagation()},href:s.value,target:"_blank"},s.title)):t._renderMoreInfo()},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result,n=e.config.experiments.ui;return a.createElement(l.a,{name:"collapsed_card",actionSubtreeState:{uri:p.g(t),permalink:t.id,type:d.e(t),gml_id:t.analyticsId,logId:t.logId,reqid:t.requestId},logClick:!0},a.createElement("div",{className:h(),onClick:e.openCard},this._renderMedia(),a.createElement("div",{className:h("raw")},a.createElement("div",{className:h("info")},a.createElement("div",{className:h("title")},t.shortTitle||t.title),this._renderDescription(),a.createElement("div",{className:h("rating")},a.createElement(c.a,{result:t})),n.searchPlacemarksHoverMoreInfo?this._renderMoreInfo():null,n.searchPlacemarksHoverAction?this._renderActionOrMoreInfo():null),a.createElement("div",{className:h("actions")},a.createElement(l.a,{name:"build_route",logClick:!0},a.createElement(s.a,{view:"primary",icon:v.a,onClick:this._onRouteClick}))))))},t}(a.Component);t.default=Object(o.b)(g)},113:function(e,t,n){"use strict";n(153);var r=n(4),a=n(7),i=n(8),o=n(9),s=n(59),c=Object(a.a)("business-rating-badge-view");t.a=Object(o.b)(function(e){var t=Math.round(2*e.ratingValue),n=Math.floor(t/2),a=!1;2*n!==t&&(a=!0);var o=e.size||"m";return r.createElement(i.a,{name:"business_rating"},r.createElement("span",{className:c({size:o})},r.createElement("div",{className:c("stars")},new Array(5).fill(null).map(function(e,t){return r.createElement("span",{className:c("star",{half:a&&t===n,empty:t>=(a?n+1:n),size:o}),key:t})})),e.onlyStars?null:r.createElement("span",{className:c("rating")},r.createElement("span",{className:c("rating-text",{size:o})},s.b(e.ratingValue,e.config.lang,{min:1,max:1})))))})},1130:function(e,t,n){"use strict";n.r(t);var r=n(6),a=(n(2682),n(4)),i=n(7),o=n(8),s=n(73),c=n(426),l=n(2684),u=n.n(l),d=Object(i.a)("card-offer-view"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderLink=function(){var e=t.props.data.url;return!e||/^\s*javascript/.test(e)?null:a.createElement(o.a,{name:"promotion_link",logClick:!0},a.createElement("a",{className:d("link"),target:"_blank",href:e},"Перейти на сайт"))},t._renderContent=function(){var e=t.props,n=e.data;return a.createElement("div",{className:d("content")},a.createElement("div",{className:d("header")},a.createElement("div",{className:d("details")},"Подробности акции:"),a.createElement("div",{className:d("label")},a.createElement(c.a,{utms:e.advertBadgeUTMs}))),n.banner?a.createElement(o.a,{name:"banner",logClick:!0},a.createElement("img",{className:d("img"),src:n.banner})):null,n.text?a.createElement("div",{className:d("text")},n.text):null,n.disclaimers?a.createElement("div",{className:d("disclaimer")},n.disclaimers[0]):null,t._renderLink())},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(o.a,{name:"promotion"},a.createElement("div",{className:d()},a.createElement(s.a,{iconUrl:u.a,keepIconColor:!0,content:this._renderContent(),hideCardBorder:!0,stretchBorder:!0,noSidePadding:!0,delimiter:null},a.createElement("div",{className:d("title")},this.props.data.title))))},t}(a.Component);t.default=p},1173:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(4),o=n(212),s=(n(1985),n(7)),c=Object(s.a)("business-tab-wrapper"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=i.createRef(),t._onTransitionEnd=function(e){var n,r=t.props;e.target===t._ref.current&&("opacity"===e.propertyName&&"will-hide"===r.displayMode&&(null===(n=r.onHide)||void 0===n||n.call(r)))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.displayMode;return i.createElement("div",{ref:this._ref,className:c({hidden:"will-hide"===t,materialized:"will-hide"===t||"shown"===t}),onTransitionEnd:this._onTransitionEnd},i.createElement("div",{className:c("content")},e.children))},t}(i.Component),u=n(42),d=n(1057),p=function(e){function t(t){var n;(n=e.call(this,t)||this)._stickyTopOffset=0,n._tabScrollPositions={},n._isWideTab=function(e){var t;return Boolean(null===(t=n.props.tabs.find(function(t){return t.key===e}))||void 0===t?void 0:t.wide)},n._getTabDisplayMode=function(e){var t,r=n.state;return e===r.tabBeforeWidthTransition?"will-hide":e===r.tabAfterWidthTransition?"will-show":e===(null!==(t=r.tabBeforeWidthTransition)&&void 0!==t?t:n.props.tab)?"shown":"hidden"},n._isWithinTab=function(){var e=n._ref,t=n.props.getScrollableNode();return!(!t||!e.current)&&t.getBoundingClientRect().top>e.current.getBoundingClientRect().top},n._onTabTitleClick=function(e){e.key===n.props.tab?n._scrollToTabTop({animated:!0}):(n._saveScrollPosition(n.props.tab),n._isWithinTab()?n._onTabChange(e.key):n._scrollToTabTop({animated:!0,onEnd:function(){return n._onTabChange(e.key)}}))},n._onTabChange=function(e){var t=n.props;n._isWideTab(e)!==n._isWideTab(t.tab)?n._startWidthTransition(n.props.tab,e):t.onTabChange(e)},n._startWidthTransition=function(e,t){n.setState({tabBeforeWidthTransition:e,tabAfterWidthTransition:t})},n._notifyParentAboutWidthTransition=function(){n.props.onTabChange(n.state.tabAfterWidthTransition)},n._didTransitionStart=function(){return Boolean(n.state.tabBeforeWidthTransition)},n._finishWidthTransition=function(){n.setState(function(e){var t;return{tabBeforeWidthTransition:void 0,tabAfterWidthTransition:void 0,tabsToRender:Object(r.a)(Object(r.a)({},e.tabsToRender),{},(t={},t[n.props.tab]=!0,t))}},function(){return n._restoreScrollPosition(n.props.tab)})},n._saveScrollPosition=function(e){n._tabScrollPositions[e]=n._isWithinTab()?n.props.getScrollableNode().scrollTop:void 0},n._restoreScrollPosition=function(e){var t=n._tabScrollPositions[e],r=n.props.getScrollableNode();t&&r?r.scrollTop=t:n._scrollToTabTop()},n._scrollToTabTop=function(e){n.props.animatedScrollTo({targetElement:n._ref.current,insideElement:n.props.getScrollableNode(),duration:e&&e.animated?500:0,offset:-n._stickyTopOffset,onEnd:null==e?void 0:e.onEnd})},n._updateStickyOffset=function(e){n._stickyTopOffset=e},n._renderTab=function(e){var t=n.state,r=n._getTabDisplayMode(e.key),a=t.tabsToRender[e.key];return i.createElement(i.Fragment,{key:e.key},i.createElement(l,{displayMode:r,onHide:n._notifyParentAboutWidthTransition},a?e.render(n._scrollToTabTop):null))};var a=t.tabs.map(function(e){return e.key});return n.state={tabsToRender:a.reduce(function(e,n){return e[n]=t.tab===n,e},{})},n._ref=t.nodeRef||i.createRef(),n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.initiallyScrollToTop&&setTimeout(function(){return e._scrollToTabTop({animated:!1})},0)},n.componentDidUpdate=function(e){e.tab!==this.props.tab&&(this._isWideTab(e.tab)!==this._isWideTab(this.props.tab)?this._startWidthTransition(e.tab,this.props.tab):this._finishWidthTransition())},n.render=function(){var e,t=this.props;return i.createElement("div",{ref:this._ref},i.createElement(u.a,{position:"top",order:2,border:"never",onOffsetChange:this._updateStickyOffset},i.createElement(o.a,{tab:null!==(e=this.state.tabBeforeWidthTransition)&&void 0!==e?e:t.tab,tabs:t.tabs,onTabChange:this._onTabTitleClick,hideSingle:!0,wide:t.wide})),t.tabs.map(this._renderTab),i.createElement(d.a,{onWidthTransitionEnd:this._didTransitionStart()?this._finishWidthTransition:void 0}))},t}(i.Component);t.a=p},118:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(141),o=n(9),s=n(160),c=n(16),l=n(218),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!t.isTimingLogged){var e=this.props,n=e.config.pageMode;"search-result"===e.config.pageMode&&(n="search"),"metro_page"===e.type&&(n="metro"),function(e){switch(e){case"routes_page":return"routes";case"org_page":return"orgpage";case"discovery_page":return"discovery";case"home_page":return"home";case"panorama_page":case"panorama_page_new":return"panoramas";case"photos_page":return"photos";case"search_card_page":case"search_list_page":return"search";case"traffic_page":return"traffic";case"masstransit_stop_page":case"masstransit_route_page":return"masstransit";case"catalog_page":return"catalog";case"metro_page":return"metro"}}(e.type)===n&&(t.isTimingLogged=!0,c.n(Object(l.a)(e.config))||this.setState({ready:i.a.getTimeToNow()}))}},n.render=function(){var e=this.props.type;return"undefined"==typeof window?null:a.createElement(s.a,{type:e,ready:this.state.ready,extraState:{show:window.timingsMarks&&e in window.timingsMarks?window.timingsMarks[e]:this.state.ready}})},t}(a.PureComponent);u.isTimingLogged=!1,t.a=Object(o.b)(u)},1186:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(12),o=n(23),s=n(17),c=n(9),l=n(8),u=n(11),d=n(215),p=(n(2003),n(7)),m=Object(p.a)("yes-no-poll"),f=function(e){return e.answered?a.createElement("div",{className:m()},a.createElement("div",{className:m("gratitude")},"Спасибо, вы помогаете делать Карты лучше!")):a.createElement(l.a,{name:"yes_no_poll"},a.createElement("div",{className:m()},a.createElement("div",{className:m("icon")},e.icon),a.createElement("div",{className:m("question")},e.question),a.createElement("div",{className:m("answers")},a.createElement(l.a,{name:"answer_yes",logClick:!0},a.createElement("div",{className:m("answer"),onClick:function(){return e.onAnswer("yes")}},"Да")),a.createElement("div",{className:m("separator")}),a.createElement(l.a,{name:"answer_no",logClick:!0},a.createElement("div",{className:m("answer"),onClick:function(){return e.onAnswer("no")}},"Нет")))))},v=n(2005),h=n.n(v),g={checkAuthorization:o.a.checkAuthorization},_=new Set,E=Object(s.a)(c.b,i.b(null,g)),b=function(e){function t(t){var n;return(n=e.call(this,t)||this)._giveAnswer=function(e){var t=n.props;t.checkAuthorization("feedback",function(){var r=t.result;"temporary-closed"===r.status&&(d.a.sendAnswer({answerType:r.status,answer:e,businessId:r.id,reqId:r.requestId},t.config),_.add(r.id),n.setState({answered:!0}))})},n.state={answered:_.has(t.result.id),visible:!_.has(t.result.id)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.result.id!==this.props.result.id&&this.setState({answered:_.has(this.props.result.id),visible:!_.has(this.props.result.id)})},n.render=function(){return"temporary-closed"===this.props.result.status&&this.state.visible?a.createElement(l.a,{name:"open_again"},a.createElement(f,{answered:this.state.answered,icon:a.createElement(u.a,{url:h.a}),question:"Организация снова открылась?",onAnswer:this._giveAnswer})):null},t}(a.Component);t.a=E(b)},120:function(e,t,n){"use strict";var r=n(251),a=n(126),i=1,o=2;var s=function(e,t,n,s){var c=n.length,l=c,u=!s;if(null==e)return!l;for(e=Object(e);c--;){var d=n[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){var p=(d=n[c])[0],m=e[p],f=d[1];if(u&&d[2]){if(void 0===m&&!(p in e))return!1}else{var v=new r.a;if(s)var h=s(m,f,p,e,t,v);if(!(void 0===h?Object(a.a)(f,m,i|o,s,v):h))return!1}}return!0},c=n(100);var l=function(e){return e==e&&!Object(c.a)(e)},u=n(217);var d=function(e){for(var t=Object(u.a)(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,l(a)]}return t};var p=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var m=function(e){var t=d(e);return 1==t.length&&t[0][2]?p(t[0][0],t[0][1]):function(n){return n===e||s(n,e,t)}},f=n(89);var v=function(e,t,n){var r=null==e?void 0:Object(f.a)(e,t);return void 0===r?n:r},h=n(127),g=n(62),_=n(45),E=1,b=2;var k=function(e,t){return Object(g.a)(e)&&l(t)?p(Object(_.a)(e),t):function(n){var r=v(n,e);return void 0===r&&r===t?Object(h.a)(n,e):Object(a.a)(t,r,E|b)}},y=n(112),C=n(44),w=n(231);var S=function(e){return function(t){return Object(f.a)(t,e)}};var N=function(e){return Object(g.a)(e)?Object(w.a)(Object(_.a)(e)):S(e)};t.a=function(e){return"function"==typeof e?e:null==e?y.a:"object"==typeof e?Object(C.a)(e)?k(e[0],e[1]):m(e):N(e)}},127:function(e,t,n){"use strict";var r=function(e,t){return null!=e&&t in Object(e)},a=n(83),i=n(145),o=n(44),s=n(122),c=n(219),l=n(45);var u=function(e,t,n){for(var r=-1,u=(t=Object(a.a)(t,e)).length,d=!1;++r<u;){var p=Object(l.a)(t[r]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++r!=u?d:!!(u=null==e?0:e.length)&&Object(c.a)(u)&&Object(s.a)(p,u)&&(Object(o.a)(e)||Object(i.a)(e))};t.a=function(e,t){return null!=e&&u(e,t,r)}},129:function(e,t,n){"use strict";var r=n(216),a="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(i.Cache||r.a),n}i.Cache=r.a,t.a=i},130:function(e,t,n){e.exports=n.p+"_/c6253bebae4891e27181f3a4bb34a342.svg"},131:function(e,t,n){"use strict";var r=n(13),a=n(41),i=n(71),o=n(6),s=n(4),c=n(2779),l=n(9),u=!0,d=new Map,p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=s.createRef(),t._getTitleFromChildren=function(){var e=t.props.children;if("string"==typeof e)return e},t._getDefaultTitle=function(){return "Яндекс.Карты"},t._updateTitle=function(){var e=t._ref.current,n=t._getTitleFromChildren()||e.innerText||e.textContent,r=n&&n.replace(/\s/g," ").trim();r&&(d.set(Object(i.a)(t),r),t._setDocumentTitle(r))},t._setDocumentTitle=function(e){u?u=!1:window.document.title=e?Object(c.a)(e)+" — "+t._getDefaultTitle():t._getDefaultTitle()},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateTitle()},n.getSnapshotBeforeUpdate=function(){return this._ref.current.textContent},n.componentDidUpdate=function(e,t,n){n!==this._ref.current.textContent&&this._updateTitle()},n.componentWillUnmount=function(){d.delete(this);var e=d.values().next().value;this._setDocumentTitle(e)},n.render=function(){var e=this.props,t=e.children,n=(e.config,Object(a.a)(e,["children","config"]));return s.createElement("h1",Object(r.a)({},n,{ref:this._ref}),t)},t}(s.PureComponent);t.a=Object(l.b)(p)},133:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(9),o=n(93),s=function(e){function t(t){var n;return(n=e.call(this,t)||this)._setRef=function(e){if(e&&"MSIE"===n.props.config.uatraits.BrowserName){var t=e.parentElement,r=t.offsetHeight,a=t.offsetWidth;n.setState({paddingTop:r/a*100+"%",isFallback:!0})}},n._getStyle=function(){var e=n.props;return n.state.isFallback?{paddingTop:n.state.paddingTop,backgroundImage:"url('"+e.src+"')",backgroundSize:e.backgroundSize||"cover",backgroundRepeat:"no-repeat",height:0,backgroundPosition:"center"}:{objectFit:e.backgroundSize||"cover",backgroundColor:"contain"===e.backgroundSize?"#fff":void 0}},n.state={paddingTop:"0",isFallback:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(o.a,{immediately:e.renderImmediately},a.createElement("img",{width:"100%",height:"100%",src:e.src,alt:e.alt,style:this._getStyle(),ref:this._setRef,loading:e.renderImmediately?void 0:"lazy"}))},t}(a.PureComponent);t.a=Object(i.b)(s)},134:function(e,t,n){"use strict";n(148);var r=n(4),a=n(7),i=n(8),o=Object(a.a)("something-wrong-view");t.a=function(e){return r.createElement(i.a,{name:"error"},r.createElement("div",{className:o()},r.createElement("div",{className:o("image")}),r.createElement("div",{className:o("text")},e.children)))}},136:function(e,t,n){"use strict";var r,a=n(6),i=n(4),o=[],s=!1;function c(e){0===(o=o.filter(function(t){return t!==e})).length&&r&&r.disconnect()}var l=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t;s||(e=this.props.listener,(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)&&(r||(r=new t(function(e){var t=e.find(function(e){return"class"===e.attributeName});if(t){var n=t.target.getAttribute("class");n&&(s=n.includes("_font_loaded"))&&setTimeout(function(){o.forEach(function(e){e(),c(e)})},1)}})).observe(window.document.getElementsByTagName("body")[0],{attributes:!0,attributeFilter:["class"]}),o.push(e)))},n.componentWillUnmount=function(){c(this.props.listener)},n.render=function(){return null},t}(i.PureComponent);t.a=l},137:function(e,t,n){"use strict";n(175);var r=n(4),a=n(7),i=n(8),o=Object(a.a)("business-rating-amount-view");t.a=function(e){return r.createElement(i.a,{name:"ratings_amount"},r.createElement("span",{className:o({summary:e.isSummary})},(function(params){return (params.count?params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "оценка" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "оценки" : "оценок")):"Ещё нет оценок");})({count:e.ratingCount})))}},1401:function(e,t,n){"use strict";n.r(t);var r,a=n(10),i=n(18),o=n(16),s=n(37),c=n(350),l=n(99),u=n(109),d=n(49),p=n(30),m={openCard:function(e,t){return void 0===t&&(t={}),function(n,a,f){var v=f.config,h=a(),g=c.c(h)?s.a.replace:s.a.push;if("push"===t.stackAction?g=s.a.push:"replace"===t.stackAction&&(g=s.a.replace),("search"===e.from||"poi"===e.from)&&e.uri&&d.i(e.uri))return n(u.a.fetchLineInfo({uri:e.uri}));if(t.response)n(g({mode:"search-result",request:e,tab:"overview",response:t.response}));else{if("poi"===e.from){var _=o.h(h,"search-result");n(g({mode:"search-result",mobileViewState:"mini",request:e,response:null==_?void 0:_.response,error:null==_?void 0:_.error,tab:"overview",mapLocationRequest:e.coordinates?{center:e.coordinates}:void 0}))}else if("whatshere"===e.from)n(g({mode:"search-result",request:e,tab:"overview",mobileViewState:t.mobileViewState,mapLocationRequest:{center:e.coordinates,zoom:e.zoom}}));else if("search"===e.from){if(d.m(e.uri))return void n(u.a.fetchStopInfo({uri:e.uri}));n(g({mode:"search-result",request:e,tab:"overview",mobileViewState:t.mobileViewState}))}i.a.cancel(r),r=i.a.create(l.a.fetchSearchResult(e,v),{success:function(t){var r=o.h(a(),"search-result");if(r&&r.request===e){var i=null==t?void 0:t.items[0];return t&&i?d.m(i.uri)?n(u.a.fetchStopInfo({uri:i.uri,stackAction:"replace",hotspotProperties:"poi"===e.from?e.hotspotProperties:void 0})):"whatshere"===e.from&&"poi"===e.origin&&"toponym"===i.type&&"house"!==i.kind?(n(s.a.close()),void n(m.updateWhatsherePreview(e,t))):void n(s.a.update(r,{response:t,mapLocationRequest:p.I(e,t)})):n(s.a.update(r,{error:!0}))}},fail:function(t){var r=o.h(a(),"search-result");throw r&&r.request===e&&n(s.a.update(r,{error:!0})),t}})}}},openPreloadedCard:function(e,t){return void 0===t&&(t={}),function(n,r){var a;if(d.m(e.uri)&&!t.noMasstransitStopInfo)return n(u.a.fetchStopInfo({uri:e.uri}));var i=r(),o={from:"search",uri:d.g(e),id:e.id,origin:t.origin},l=p.J(e),m={request:o,response:l,mapLocationRequest:p.I(o,l),mobileViewState:t.mobileViewState,mode:"search-result",tab:"overview",scrollTo:t.scrollTo,isPhoneInitiallyExpanded:t.isPhoneInitiallyExpanded},f=null!==(a=t.stackAction)&&void 0!==a?a:c.c(i)?"replace":"push";"push"===f?n(s.a.push(m)):"replace"===f&&n(s.a.replace(m))}},showInexactSearchResults:function(){return function(e,t){var n=o.h(t(),"search-result"),r=null==n?void 0:n.request;if(n&&n.response&&r&&"search"===r.from){var i={request:Object(a.a)(Object(a.a)({},r),{},{searchType:"TEXT"}),results:n.response};e(s.a.replace(Object(a.a)({mode:"search"},i)))}}},closeWhatsherePreview:function(){return{type:"EXTEND",payload:{whatsherePreview:null}}},updateWhatsherePreview:function(e,t){return function(n,a,o){var s=o.config,c={coordinates:e.coordinates,zoom:e.zoom,searchResults:t||null};n({type:"EXTEND",payload:{whatsherePreview:c}}),t||(i.a.cancel(r),r=i.a.create(l.a.loadWhatshere(e,s),{success:function(e){var t=a().whatsherePreview;if(t===c)return n(e?{type:"EXTEND",payload:{whatsherePreview:{coordinates:t.coordinates,zoom:t.zoom,searchResults:e}}}:{type:"EXTEND",payload:{whatsherePreview:null}})}}))}},updateBusinessesInside:function(e,t){return function(n){var r;n({type:"DEEP_EXTEND",payload:{search:{businessesInside:(r={},r[e.id]=t,r)}}})}}};t.default=m},143:function(e,t,n){"use strict";var r=n(195),a=n(183),i=n(122),o=n(100);t.a=function(e,t,n){if(!Object(o.a)(n))return!1;var s=typeof t;return!!("number"==s?Object(a.a)(n)&&Object(i.a)(t,n.length):"string"==s&&t in n)&&Object(r.a)(n[t],e)}},148:function(e,t,n){},150:function(e,t,n){},152:function(e,t,n){e.exports=n.p+"_/ab65d8cbf4996eb9048efd9031d9f38b.svg"},153:function(e,t,n){},157:function(e,t,n){"use strict";var r=n(2799),a=n(107),i=n(32),o=n(47),s=n(24);var c=n(78),l=n(70);function u(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=null==a?1:Object(l.a)(a),o=null==n.firstWeekContainsDate?i:Object(l.a)(n.firstWeekContainsDate),u=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(s.a)(e,t),r=n.getFullYear(),a=t||{},i=a.locale,o=i&&i.options&&i.options.firstWeekContainsDate,u=null==o?1:Object(l.a)(o),d=null==a.firstWeekContainsDate?u:Object(l.a)(a.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(r+1,0,d),p.setHours(0,0,0,0);var m=Object(c.a)(p,t),f=new Date(0);f.setFullYear(r,0,d),f.setHours(0,0,0,0);var v=Object(c.a)(f,t);return n.getTime()>=m.getTime()?r+1:n.getTime()>=v.getTime()?r:r-1}(e,t),d=new Date(0);return d.setFullYear(u,0,o),d.setHours(0,0,0,0),Object(c.a)(d,t)}var d=6048e5;function p(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(s.a)(e,t),r=Object(c.a)(n,t).getTime()-u(n,t).getTime();return Math.round(r/d)+1}var m=n(257);n.d(t,"a",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return _});var f=["break","opening_soon","closing_soon"];function v(e,t,n){var r,a=e.status,i=e.currentWorkingStatus,o=(null==n?void 0:n.short)?null==i?void 0:i.shortText:null==i?void 0:i.text;return{text:"open"===a?null!=o?o:"График работы не указан":(r=a,{"possible-closed":"Возможно, больше не работает","temporary-closed":"Временно не работает","permanent-closed":"Больше не работает"}[r]),state:{closed:"open"!==a||Boolean(i&&!i.isOpenNow),"changing-soon":!(!i||!i.tag)&&i.tag.some(function(e){return f.includes(e)})}}}function h(e,t){if(!e)return{};var n=[];e.unusual_hours&&(n=n.concat(e.unusual_hours)),e.valid_schedule&&(n=n.concat(e.valid_schedule));var r=i.g(i.f(t));return n.reduce(function(e,n){var a=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(s.a)(e,t).getDay()}(n),i=p(n,{weekStartsOn:1})===p(r,{weekStartsOn:1});if(!e[a]&&i){var c=Object(s.a)(n);e[a]=Object(o.a)(c,t)}return e},{})}function g(e,t){if(e.workingTime){var n=i.g(i.f(t)).getDay(),o=h(e.businessProperties,t);return[].concat(e.workingTime.slice(1),[e.workingTime[0]]).map(function(e,s){var c,l=(s+1)%7,u=Object(r.a)(a.a[l].slice(0,2));return e?1===e.length&&0===i.c(e[0].to,e[0].from)?(c="Круглосуточно",u+=" 00:00-23:59"):(c=e.map(function(e){var t=e.from,n=e.to;return i.l(t)+" – "+i.l(n)}),u+=" "+e.map(function(e){var t=e.from,n=e.to;return i.l(t)+"-"+i.l(n)}).join(",")):(c="Выходной",u=""),{dayName:Object(a.b)(t,a.a[l]),text:c,isWeekend:!e,isToday:n===l,changedDate:o[l],meta:u}})}}function _(e,t){var n=e.businessProperties;if(n){var r=i.g(i.f(t)),a=(n.unusual_hours||[]).some(function(e){return Object(m.a)(e,r)}),o=(n.valid_schedule||[]).some(function(e){return Object(m.a)(e,r)});if(a||o)return o?"Сегодня организация работает по праздничному графику":"Сегодня график работы мог поменяться из-за праздника"}}},158:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(9),o=n(18),s=n(25),c={getUrl:function(e,t){return Object(s.a)("shortenPath",{query:{path:e}},t).then(function(e){return"/-/"+e})}},l={},u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._updateShortUrl=function(e){o.a.cancel(n._shortenAction),l[e]||(l[e]=c.getUrl(e,n.props.config)),n.setState({url:e,isShort:!1}),n._shortenAction=o.a.create(l[e],{success:function(e){n.setState({url:e,isShort:!0})}})},n.state={url:t.url,isShort:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateShortUrl(this.state.url)},n.componentDidUpdate=function(e){this.props.url!==e.url&&this._updateShortUrl(this.props.url)},n.componentWillUnmount=function(){o.a.cancel(this._shortenAction)},n.render=function(){return this.props.children(this.state.url,this.state.isShort)},t}(a.PureComponent);t.a=Object(i.b)(u)},162:function(e,t,n){"use strict";n(242);var r=n(4),a=n(9),i=n(7),o=n(93),s=Object(i.a)("background-image");t.a=Object(a.b)(function(e){return r.createElement("div",{className:s({"with-paranja":e.withParanja,hovered:e.hovered,touch:e.config.uatraits.isTouch}),style:{height:e.height,background:e.backgroundFallback}},r.createElement(o.a,null,r.createElement("div",{className:s("bg"),style:e.url?{backgroundImage:'url("'+e.url+'")'}:void 0})),r.createElement("div",{className:s("content")},e.children))})},163:function(e,t,n){"use strict";var r=n(4);function a(e,t){var n=t[0],r=t[1];return e.reduce(function(e,t){return"string"!=typeof t?e.push(t):t.split(n).forEach(function(t,n){n>0&&e.push(r),e.push(t)}),e},[])}t.a=function(e,t){return Object.entries(t).reduce(a,[e]).filter(function(e){return e}).map(function(e,t){return r.createElement("span",{key:t},e)})}},168:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(353),n(4)),o=n(7),s=n(92),c=Object(o.a)("list-item-view"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){var n,r;null===(n=(r=t.props).onClick)||void 0===n||n.call(r,e)},t._renderIconContent=function(){var e=t.props.icon;if(!e)return null;var n=c("icon");return i.createElement("div",{className:c("icon-content"),style:t.props.iconStyle},"function"==typeof e?e(n):i.createElement(s.a,{name:e,size:24,inline:!0,className:n}))},t._renderContent=function(){var e=t.props;return i.createElement("div",{className:c("content")},t.props.children,e.subtitle?i.createElement("div",{className:c("subtitle")},e.subtitle):null)},t._renderRightContent=function(){var e=t.props.renderRightContent;return e?i.createElement("div",{className:c("right-content")},e()):null},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.link?"a":"div";return i.createElement(t,Object(r.a)({},e.link,{className:c({clickable:Boolean(e.onClick||e.link||e.clickable),active:e.active,disabled:e.disabled,theme:e.theme,size:e.size||"list",border:e.border}),onClick:this._onClick}),this._renderIconContent(),this._renderContent(),this._renderRightContent())},t}(i.PureComponent);t.a=l},170:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("discovery").then(n.bind(null,408))},{load:!0,highlightOrganization:!0,unhighlightOrganization:!0,selectOrganization:!0,unselectOrganization:!0})},171:function(e,t,n){},173:function(e,t,n){"use strict";var r=n(6),a=(n(239),n(4)),i=n(7),o=n(206),s=Object(i.a)("menu"),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onItemClick=function(e){var n=t.props;if("radio"===n.mode)t.props.onChange([e]);else{var r=n.checkedItems,a=r.includes(e)?r.filter(function(t){return t!==e}):r.concat(e);t.props.onChange(a)}},t._renderMenuItem=function(e){var n=t.props;return a.createElement(o.a,{key:e.id||"",text:e.text,link:e.link,isChecked:n.checkedItems.includes(e.id),isDisabled:!!n.disabledItems&&n.disabledItems.includes(e.id),isTickDisabled:n.isMenuTickDisabled,onClick:function(){return t._onItemClick(e.id)}})},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props;return a.createElement("div",{className:s()},t.groups.map(function(t,n){return a.createElement("div",{key:n,className:s("group")},t.title?a.createElement("div",{className:s("group-title")},t.title):null,t.items.map(e._renderMenuItem))}))},t}(a.Component);t.a=c},175:function(e,t,n){},178:function(e,t,n){"use strict";var r=Math.floor,a=Math.random;var i=function(e,t){return e+r(a()*(t-e+1))},o=n(143),s=n(343),c=parseFloat,l=Math.min,u=Math.random;var d=function(e,t,n){if(n&&"boolean"!=typeof n&&Object(o.a)(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Object(s.a)(e),void 0===t?(t=e,e=0):t=Object(s.a)(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=u();return l(e+a*(t-e+c("1e-"+((a+"").length-1))),t)}return i(e,t)},p=n(84),m=n.n(p);n.d(t,"b",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return y}),n.d(t,"a",function(){return C});var f=[],v=97,h=122;function g(){for(var e="",t=0;t<10*Math.random();t++)e+=" ";return e}function _(e){return e.filter(function(e){return!f.includes(e.abuseInfo)})}function E(e){f.push(e)}function b(){var e=new Array(d(1,5)).fill(0);return(e=e.map(function(){return String.fromCharCode(d(v,h))})).join("")+"__"+m.a.v4().replace(/-|\d/g,"")}function k(e){return Object.entries(e).map(function(e){return y(e[1])}).join("")}function y(e){return"."+e.selector+"{"+e.style+"}"}function C(e){return void 0===t&&(t="webmaps"),"utm_source="+t+"&utm_medium="+"gp_label"+"&utm_campaign="+(e?"orgpage_label":"previewcard_label");var t}},180:function(e,t,n){"use strict";var r=n(321),a=n(229),i=n(145),o=n(44),s=a.a?a.a.isConcatSpreadable:void 0;var c=function(e){return Object(o.a)(e)||Object(i.a)(e)||!!(s&&e&&e[s])};t.a=function e(t,n,a,i,o){var s=-1,l=t.length;for(a||(a=c),o||(o=[]);++s<l;){var u=t[s];n>0&&a(u)?n>1?e(u,n-1,a,i,o):Object(r.a)(o,u):i||(o[o.length]=u)}return o}},187:function(e,t,n){"use strict";var r=n(6),a=(n(202),n(4)),i=n(7),o=n(22),s=n(11),c=n(8),l=n(204),u=n.n(l),d=Object(i.a)("clipboard"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._action=null,n._content=null,n._textarea=null,n._selectContent=function(){var e=window.getSelection();if(!e)return"";var t=window.document.createRange();return t.selectNodeContents(n._content),e.removeAllRanges(),e.addRange(t),e.toString().trim()},n._showHelp=function(e){n.setState({success:e}),n._hideTimer=window.setTimeout(function(){n.setState({success:null})},2e3),!e&&!n.props.text&&n.props.children&&n._textarea&&(n._textarea.blur(),n._selectContent())},n._copy=function(e){e.stopPropagation(),window.clearTimeout(n._hideTimer);var t=n.props.text;if(!t&&n.props.children&&(t=n._selectContent()),t&&n._textarea){n._textarea.value=t,n._textarea.select(),n._textarea.setSelectionRange(0,t.length);var r=!1;try{r=window.document.execCommand("copy")}catch(a){}n._showHelp(r),n._textarea.value="",n._textarea.blur()}},n._onMouseEnter=function(){n.setState({show:!0,success:null})},n._onMouseLeave=function(){n.setState({show:!1,success:null})},n._renderAction=function(){return a.createElement(c.a,{name:"clipboard",logClick:!0},a.createElement("div",{className:d("action-wrapper",{inline:!n.props.noIcon&&"input"!==n.props.view,view:n.props.view}),onClick:n._copy,ref:function(e){return n._action=e}},n.props.children,a.createElement("div",{className:d("action",{visible:n.props.visible,show:n.state.show})},n.props.noIcon?null:a.createElement("div",{className:d("icon")},a.createElement(s.a,{url:u.a})),a.createElement("textarea",{className:d("textarea"),ref:function(e){return n._textarea=e},readOnly:!0}))))},n._renderHelp=function(){var e=n.state.success;return a.createElement(o.a,{isShown:null!==e,getTarget:function(){return n._action},position:n.props.position||"top",restrictPosition:!0,type:e?"help":"error",onClose:function(){}},a.createElement("div",{className:d("help")},e?"Скопировано":"Ошибка! Скопируйте вручную"))},n.state={clipboardSupported:!0,show:!1,success:null},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.document.queryCommandSupported&&window.document.queryCommandSupported("copy")||this.setState({clipboardSupported:!1})},n.componentWillUnmount=function(){window.clearTimeout(this._hideTimer)},n.render=function(){var e=this,t=this.props.children||null;return this.state.clipboardSupported?a.createElement("div",{className:d(),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},a.createElement("div",{className:d("content"),ref:function(t){return e._content=t}},this._renderAction()),this._renderHelp()):a.createElement("div",{className:d()},t)},t}(a.Component);t.a=p},188:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("promo").then(n.bind(null,409))},{open:!0,close:!0})},189:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("catalog").then(n.bind(null,407))},{openCatalog:!0,openGroup:!0,cancelFetch:!0})},190:function(e,t,n){"use strict";var r=n(6),a=(n(299),n(4)),i=n(8),o=n(7),s=n(9),c=n(22),l=n(30),u=Object(o.a)("business-verified-badge"),d=500,p={link:"Подключить для своей организации",text:"Поднимает организацию в списке по профильным запросам.",title:"Приоритетное размещение"},m={link:"Подробнее",text:"Этот знак получают организации, владелец которых подтвержден и поддерживает данные на карточке в актуальном состоянии.",title:"Владелец следит за актуальностью информации"},f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._icon=null,n._showTimeout=null,n._showPopup=function(e){e&&e.immediate?n.setState({isPopupShown:!0}):n._showTimeout||(n._showTimeout=window.setTimeout(function(){return n.setState({isPopupShown:!0})},d))},n._hidePopup=function(){n._clearTimeout(),n.setState({isPopupShown:!1})},n._clearTimeout=function(){n._showTimeout&&(window.clearTimeout(n._showTimeout),n._showTimeout=null)},n._onClick=function(e){e.stopPropagation()},n._renderPopup=function(){var e=n.props,t=n.state,r=l.w(e.result),o=r?p:m,s=r?e.config.advertLandingUrl?e.config.advertLandingUrl+"?utm_source=webmaps&utm_medium=tip&utm_campaign=webmaps_gptip":null:"http://yandex.ru/support/sprav/manage/verified-owner.html";return a.createElement(c.a,{isShown:t.isPopupShown,position:"right-bottom",restrictPosition:!0,onScroll:"reposition",showArrow:!1,type:"map-hint",offset:{main:-3,side:0},getTarget:function(){return n._icon},onClose:n._hidePopup},a.createElement(i.a,{name:r?"priority_advert_popup":"verified_popup",logClick:!0},a.createElement("div",{className:u("order",{prioritized:r}),onMouseEnter:function(){return n._showPopup({immediate:!0})},onMouseLeave:n._hidePopup,onClick:n._onClick},a.createElement("div",{className:u("order-img")}),a.createElement("div",{className:u("order-title")},o.title),a.createElement("div",{className:u("order-text")},o.text),s?a.createElement(i.a,{name:"order_link",logClick:!0},a.createElement("a",{href:s,target:"_blank",className:u("order-link")},o.link)):null)))},n.state={isPopupShown:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._clearTimeout()},n.render=function(){var e=this,t=this.props,n=l.w(t.result),r=l.H(t.result);return n||r?a.createElement(a.Fragment,null,a.createElement(i.a,{name:n?"priority_advert_badge":"verified_badge"},a.createElement("div",{ref:function(t){return e._icon=t},className:u({prioritized:n}),onMouseEnter:t.config.uatraits.isMobile?void 0:function(){return e._showPopup()},onMouseLeave:this._hidePopup})),this._renderPopup()):null},t}(a.Component);t.a=Object(s.b)(f)},1910:function(e,t,n){"use strict";var r=n(588),a=n(143),i=n(448),o=Math.ceil,s=Math.max;t.a=function(e,t,n){t=(n?Object(a.a)(e,t,n):void 0===t)?1:s(Object(i.a)(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var l=0,u=0,d=Array(o(c/t));l<c;)d[u++]=Object(r.a)(e,l,l+=t);return d}},1950:function(e,t,n){},1952:function(e,t,n){},1954:function(e,t,n){"use strict";var r=n(4),a=n(12),i=n(96),o=n(61),s=n(1955),c=n.n(s),l={openBusinessFeedback:o.a.openBusinessFeedback},u=a.b(function(e){return{config:e.config}},l);t.a=u(function(e){return r.createElement(i.a,{icon:c.a,type:"edit",hint:"Исправить",analytics:"edit",onClick:function(){return e.openBusinessFeedback({type:"organization/edit",result:e.result,context:{formContextId:"organization.card_actions"}})}})})},1955:function(e,t,n){e.exports=n.p+"_/7f6aebabf4ff77a2f34afaa033625fc9.svg"},1956:function(e,t,n){e.exports=n.p+"_/9b2285f9d153b9866a7706b11c03dc5d.svg"},1957:function(e,t,n){},1959:function(e,t,n){},1961:function(e,t,n){},1963:function(e,t,n){},1965:function(e,t,n){},1967:function(e,t,n){},1969:function(e,t,n){e.exports=n.p+"_/cb368fdaea98d792114feee00eb7aa43.svg"},1970:function(e,t,n){e.exports=n.p+"_/8896d22f2b7cd9b0f55a71c368fda7ce.svg"},1971:function(e,t,n){e.exports=n.p+"_/483399a35bd471775d11eef7fd88166b.svg"},1972:function(e,t,n){e.exports=n.p+"_/5227aff51608aad58324d77dcbcd0569.svg"},1973:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(4),o=n(7),s=n(9),c=n(352),l=n(8),u=n(460),d=n(73),p=n(29),m=Object(o.a)("business-links-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderBusinessLink=function(e){return i.createElement(u.a,{link:e,key:e.aref},function(t){return i.createElement(l.a,{name:"business_link",nodeState:{aref:e.aref,type:e.type},metrikaGoal:"goal_deepuse",logClick:!0},i.createElement(p.a,{className:m("link"),view:"link",iconUrl:e.icon,keepIconColor:!0,onClick:t},e.text))})},t._renderGroupContent=function(e){return i.createElement("div",null,e.links.map(t._renderBusinessLink))},t._renderGroup=function(e){if(0===e.links.length)return null;if(1===e.links.length){var n=e.links[0];return t._renderBusinessLink(Object(r.a)(Object(r.a)({},n),{},{text:e.text,icon:e.icon}))}return i.createElement(l.a,{key:e.id,name:"business_links_group",nodeState:{id:e.id}},i.createElement(d.a,{content:t._renderGroupContent(e),iconUrl:e.icon,keepIconColor:!0,value:e.links.length},function(t){return t.isExpanded?e.expandedText:e.text}))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=Object(c.a)(e.links,e.config);return 0===t.length?null:i.createElement("div",{className:m()},t.map(this._renderGroup))},t}(i.Component);t.a=Object(s.b)(f)},1974:function(e,t,n){"use strict";var r=n(6),a=(n(1975),n(4)),i=n(12),o=n(7),s=n(17),c=n(9),l=n(8),u=n(619),d=(n(90),n(1056)),p=Object(o.a)("card-business-events-view"),m={openCardEvent:u.a.openCardEvent},f=Object(s.a)(i.b(null,m),c.b),v=10,h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onShowMoreClick=function(){n.setState(function(e){return{visibleEventsCount:e.visibleEventsCount+v}})},n._renderEvent=function(e){return a.createElement("div",{key:e.id,className:p("item"),onClick:function(){return n.props.openCardEvent(e,{forcePush:!0})}},a.createElement(d.a,{event:e}))},n.state={visibleEventsCount:t.wide?2:1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this.state.visibleEventsCount,n=e.events,r=n.slice(0,t);return a.createElement(l.a,{name:"events_snippet",logClick:!0},a.createElement("div",{className:p({wide:e.wide,"with-header":!1})},null,a.createElement("div",{className:p("items")},r.map(this._renderEvent)),n.length>t?a.createElement("div",{className:p("more"),onClick:this._onShowMoreClick},"Показать ещё"):null))},t}(a.Component);t.a=f(h)},1975:function(e,t,n){},1977:function(e,t,n){},1979:function(e,t,n){},198:function(e,t,n){"use strict";var r,a=n(10),i=n(323),o=n(25),s=6e4,c={loadLayerRegions:function(e){return r||(r=Object(o.a)("masstransit/getLayerRegions",{},e).catch(function(){return[]}))},getStopInfo:function(e,t){return Object(o.a)("masstransit/getStopInfo",{query:{id:e.id,uri:e.uri,locale:t.locale,lang:t.lang,mode:"prognosis"}},t).then(function(e){if(!e)throw new Error("Stop no data");return e})},getPreviewStopInfo:function(e,t){return Object(o.a)("masstransit/getPreviewStopInfo",{query:{uri:e.uri,locale:t.locale,lang:t.lang,mode:"prognosis"}},t)},getStopTimetable:function(e,t){return Object(o.a)("masstransit/getStopTimetable",{query:{id:e.id,timestamp:e.timestamp,locale:t.locale,lang:t.lang}},t).then(function(e){if(!e)return null;var t=function(e){return{id:e.id,name:e.name,type:e.type,currentTime:e.currentTime,region:e.region,tzOffset:e.tzOffset,transports:Object(i.a)(e.transports.map(function(e){return Object(i.a)(e.threads.map(function(t){var n=[];return t.BriefSchedule&&t.BriefSchedule.Frequencies.length>0&&n.push.apply(n,t.BriefSchedule.Frequencies.map(function(n){var r;return Object(a.a)(Object(a.a)({},e),{},{threads:[Object(a.a)(Object(a.a)({},t),{},{BriefSchedule:{Frequencies:[n],Events:[],departureTime:null===(r=t.BriefSchedule)||void 0===r?void 0:r.departureTime}})]})})),t.BriefSchedule&&t.BriefSchedule.Events.length>0&&n.push.apply(n,t.BriefSchedule.Events.map(function(n){var r;return Object(a.a)(Object(a.a)({},e),{},{threads:[Object(a.a)(Object(a.a)({},t),{},{BriefSchedule:{Frequencies:[],Events:[n],departureTime:null===(r=t.BriefSchedule)||void 0===r?void 0:r.departureTime}})]})})),0===n.length&&n.push(Object(a.a)(Object(a.a)({},e),{},{threads:[Object(a.a)({},t)]})),n}))}))}}(e);return t.transports=t.transports.filter(function(e){return l(e,t.currentTime)>0}).sort(function(e,n){return l(e,t.currentTime)-l(n,t.currentTime)}),t})},getVehiclesInfo:function(e,t){return Object(o.a)("masstransit/getVehiclesInfoWithRegion",{query:Object(a.a)({locale:t.locale,lang:t.lang},e)},t)},getVehiclePredictionInfo:function(e,t){return Object(o.a)("masstransit/getVehiclePredictionInfo",{query:Object(a.a)({},e)},t)},getLine:function(e,t){return Object(o.a)("masstransit/getLine",{query:Object(a.a)({locale:t.locale,lang:t.lang},e)},t)},getDistance:function(e,t){return Object(o.a)("masstransit/distance",{query:{startPoint:e.coordinates.join(","),destinationPoints:e.stops.map(function(e){return e.coordinates.join(",")}),locale:t.locale}},t)}};function l(e,t){var n,r,a,i,o=e.threads[0];if((null==o?void 0:null===(n=o.BriefSchedule)||void 0===n?void 0:n.Events)&&(null===(r=o.BriefSchedule)||void 0===r?void 0:r.Events.length)>0){var c,l,u=(null===(c=o.BriefSchedule.Events[0].Estimated)||void 0===c?void 0:c.value)||(null===(l=o.BriefSchedule.Events[0].Scheduled)||void 0===l?void 0:l.value);if(u){var d=1e3*Number(u);return d-t<s?d-t:d}}if((null==o?void 0:null===(a=o.BriefSchedule)||void 0===a?void 0:a.Frequencies)&&(null==o?void 0:null===(i=o.BriefSchedule)||void 0===i?void 0:i.Frequencies.length)>0){var p=1e3*o.BriefSchedule.Frequencies[0].value,m=o.BriefSchedule.Frequencies[0].begin?1e3*Number(o.BriefSchedule.Frequencies[0].begin.value):void 0,f=o.BriefSchedule.Frequencies[0].end?1e3*Number(o.BriefSchedule.Frequencies[0].end.value):void 0;return f&&f<t?-1/0:!m||m<t?p:m}return-1/0}t.a=c},1981:function(e,t,n){},1983:function(e,t,n){},1985:function(e,t,n){},1987:function(e,t,n){"use strict";var r=n(13),a=n(10),i=n(6),o=n(1988),s=n.n(o),c=n(4),l=n.n(c),u=n(7),d=n(8),p=n(16),m=n(30),f=n(617),v=n(21),h=n(20),g=n(822),_=n(9),E=n(1054),b=n(338),k=n(190),y=n(38),C=n(823),w=n(1059),S=n(1060),N=n(1996),T=n(1186),O=n(1055),R=Object(h.a)({resolved:{},chunkName:function(){return"emergency"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("emergency").then(n.bind(null,166))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 166}},{ssr:!1}),j=Object(u.a)("business-card-title-view"),I=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._preventBubbling=function(e){e.stopPropagation(),e.nativeEvent.stopPropagation()},t._onCategoryClick=function(e){var n=t.props;n.onCategoryClick&&!Object(p.m)(n.config)&&n.onCategoryClick(e,{origin:"category"})},t._renderBadgeView=function(){var e=t.props,n=e.result;return e.config.hideAdverts?null:c.createElement(k.a,{result:n})},t._renderCategory=function(e){var n=t.props,r=n.result,i=r.region&&v.e(e,r.region,n.config),o=r.region&&(function(params){return params.category+" "+params.preposition+" "+params.prepositional;})(Object(a.a)({category:e.name},r.region.names));return c.createElement(d.a,{name:"category",nodeState:{name:e.name},key:e.name,logClick:!0},c.createElement(y.a,{className:j("category"),href:i,title:o,onLeftClick:function(){return t._onCategoryClick(e)}},e.name))},t._renderCategories=function(){var e=t.props.result;return e.categories?c.createElement("div",{className:j("categories")},e.categories.slice(0,2).map(t._renderCategory)):null},t._renderSummary=function(){var e=t.props;return c.createElement("div",{className:j("summary")},c.createElement(S.a,{result:e.result,alwaysCollapsed:"mini"===e.view}))},t._renderCTAButton=function(){var e,n,a,i,o=t.props,s=o.result,l=null===(e=s.advert)||void 0===e?void 0:null===(n=e.actionButtons)||void 0===n?void 0:n[0];if("normal"===o.view&&!o.disableActions&&l&&!o.config.hideAdverts&&!m.A(s,o.config))return c.createElement("div",{className:j("call-to-action")},c.createElement(f.a,Object(r.a)({},l,{view:"advertisement",metrikaGoal:null===(a=s.metrika)||void 0===a?void 0:null===(i=a.goals)||void 0===i?void 0:i.cta,isStretched:!0})))},t._renderEmergency=function(){var e,n=t.props.result.masstransitStop;return n&&0!==(null===(e=n.notifications)||void 0===e?void 0:e.length)?c.createElement("div",{className:j("emergency")},c.createElement(R,{notifications:n.notifications})):null},t._renderAdvert=function(){var e=t.props,n=m.g(e.result,e.config);return n?c.createElement("div",{className:j("advert",{mini:"mini"===e.view})},c.createElement(O.a,{data:n,wide:"wide"===e.view})):null},t._renderContent=function(){var e=t.props,n=e.result,r=n.masstransitStop,a="mini"===e.view,i=t._renderAdvert();return c.createElement("div",{className:j()},n.summary?t._renderSummary():t._renderCategories(),r&&r.transports[0]?c.createElement(C.a,{transport:r.transports[0]}):null,t._renderEmergency(),r||m.A(e.result,e.config)?null:c.createElement(g.a,{result:n,showHints:"mini"!==e.view,onReviewsClick:e.onReviewsClick}),c.createElement(N.a,{result:n,onRouteClick:e.onRouteClick,onMovedClick:e.onMovedClick,view:e.view}),"mini"!==e.view?c.createElement("div",{className:j("open-again")},c.createElement(T.a,{result:n})):null,c.createElement(w.a,{result:n}),a?i:null,c.createElement("div",{className:j("actions"),onClick:t._preventBubbling},c.createElement(E.a,{result:n,view:e.view,onRouteClick:e.onRouteClick,onSendToPhoneClick:e.openShareDialog}),a?null:i,t._renderCTAButton()),n.photos&&n.photos.items[0]?c.createElement("meta",{itemProp:"image",content:n.photos.items[0].urlTemplate.replace("%s","XXXL")}):null)},t}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;e.addToVisited&&e.addToVisited(e.result.id)},n.render=function(){var e=this.props,t=e.result,n=e.result.masstransitStop&&e.result.masstransitStop.id&&e.result.masstransitStop.region&&v.m({id:e.result.masstransitStop.id},e.result.masstransitStop.region,e.config),r=m.g(e.result,e.config);return c.createElement(b.a,{title:e.title||t.title,displayTitle:t.title,truncateTitle:e.truncateTitle,url:e.generateUrl?n||v.c(t,{},e.config):void 0,onTitleClick:e.onTitleClick,onClose:e.onClose,renderBadge:this._renderBadgeView,sticky:e.sticky,noSubtitle:e.justTitle,withBorder:!e.justTitle&&"wide"!==e.view,withShutterControl:e.withShutterControl,view:e.view,noBottomPadding:"mini"!==e.view&&Boolean(!this._renderCTAButton()&&r)},e.justTitle?null:this._renderContent())},t}(c.Component);t.a=Object(_.b)(I)},1988:function(e,t,n){},199:function(e,t,n){"use strict";var r=n(6),a=(n(236),n(4)),i=n(7),o=n(40),s=n(8),c=n(39),l=n(9),u=(n(72),["allow-forms","allow-scripts","allow-same-origin","allow-modals","allow-popups","allow-popups-to-escape-sandbox"].join(" ")),d=Object(i.a)("iframe-dialog"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onFrameLoad=function(){n.setState({isFrameLoading:!1})},n._onFrameError=function(){n.setState({isFrameLoading:!1,isFrameError:!0})},n._onClose=function(){n.props.onClose&&n.props.onClose()},n._renderTitle=function(){var e=n.props.text;return e?a.createElement("div",{className:d("title"),dangerouslySetInnerHTML:{__html:e}}):null},n.state={didMount:!1,isFrameLoading:!0,isFrameError:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({didMount:!0})},n.componentDidUpdate=function(e){e.isOpen&&!this.props.isOpen&&this.setState({isFrameLoading:!0,isFrameError:!1})},n.render=function(){var e=this.props,t=this.state,n=this._renderTitle();return a.createElement(o.default,{isOpen:e.isOpen,onClose:this._onClose,showCloseButton:!0},a.createElement(s.a,{name:"iframe",useParentState:!0},a.createElement("div",{className:d({view:e.fullView?"full":"padded"})},n,t.isFrameLoading?a.createElement("div",{className:d("spinner")},a.createElement(c.a,{view:"large"})):null,t.isFrameError?a.createElement("div",{className:d("error-message")},"Произошла ошибка.\nПовторите через пару минут."):a.createElement("iframe",{className:d("frame"),src:e.href.replace("http:","https:"),style:e.iframeStyle,sandbox:u,referrerPolicy:"origin",onLoad:this._onFrameLoad,onError:this._onFrameError}))))},t}(a.PureComponent);t.a=Object(l.b)(p)},1990:function(e,t,n){},1992:function(e,t,n){},1994:function(e,t,n){},1996:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(1997),o=n.n(i),s=n(4),c=n.n(s),l=n(17),u=n(7),d=n(77),p=n(157),m=n(18),f=n(319),v=n(9),h=n(20),g=n(8),_=n(88),E=n(1999),b=n(2e3),k=Object(h.a)({resolved:{},chunkName:function(){return"metro-jams"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("metro-jams").then(n.bind(null,270))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 270}}),y=Object(h.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,655))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 655}}),C=Object(l.a)(v.b,f.b),w=Object(u.a)("card-header-bottom-view"),S=function(e){function t(t){var n;return(n=e.call(this,t)||this)._isClickAllowed=!1,n._stopPropagation=function(e){n._isClickAllowed||(e.stopPropagation(),e.nativeEvent.stopPropagation()),n._isClickAllowed=!1},n._showNumber=function(){n.setState({showPhone:!0})},n._renderMoved=function(){var e=n.props,t=e.result,r=t.newAddress,a=t.businessProperties,i=a&&a.moved_to,o=e.onMovedClick;return r&&i&&o?s.createElement("div",{className:w("item",{moved:!0})},s.createElement("div",null,"Организация переехала"),s.createElement(g.a,{name:"new_address",logClick:!0},s.createElement("div",{className:w("address"),onClick:function(){return o(i)}},r))):null},n._renderWorkingHours=function(){var e=n.props,t=e.result,a=p.b(t,e.config),i=p.a(t,e.config)||[],o=p.c(t,e.config),c=i.length>0;return s.createElement("div",{className:w("item",{"working-status":!0})},s.createElement(g.a,{name:"working_status",logClick:c},function(e){var t=e.wrapClick;return s.createElement(E.a,{intervals:i},function(e){var n=e.onClick,i=e.isVisible;return s.createElement(s.Fragment,null,s.createElement("div",{className:w("item-label",Object(r.a)(Object(r.a)({},a.state),{},{clickable:c})),onClick:c?t(n):void 0},a.text,c?s.createElement("div",{className:w("working-status-control")},s.createElement(_.a,{isFlipped:i})):null),o?s.createElement("div",{className:w("working-status-hint")},o):null)})}))},n._renderDistance=function(){var e=n.props;return s.createElement("div",{className:w("item",{route:!0})},s.createElement(b.a,{result:e.result,onClick:e.onRouteClick}))},n._renderPhones=function(){var e,t=n.props,r=t.result,a=d.e(r,t.config);return 0===a.length?null:s.createElement("div",{className:w("item",{phones:!0})},s.createElement(y,{phones:a,goal:null==r?void 0:null===(e=r.metrika)||void 0===e?void 0:e.goals.call,show:n.state.showPhone,onShowClick:n._showNumber}))},n.state={showPhone:!1},n}Object(a.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){m.a.cancel(this._buildRouteAction)},n.render=function(){var e=this,t=this.props,n=t.result.masstransitStop;return s.createElement("div",{className:w({view:t.view}),onClick:this._stopPropagation},t.result.newAddress?this._renderMoved():this._renderWorkingHours(),"wide"===t.view?this._renderPhones():null,"mini"===t.view&&(null==n?void 0:n.metroJamsInfo)?s.createElement(k,{stopId:n.id,renderFallback:this._renderDistance,metroJamsInfo:n.metroJamsInfo,onClick:function(){return e._isClickAllowed=!0},view:"mini"}):this._renderDistance())},t}(s.Component);t.a=C(S)},1997:function(e,t,n){},1999:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(331),o=n(622),s=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(i.a,{title:"График работы",content:a.createElement(o.a,{intervals:this.props.intervals})},this.props.children)},t}(a.PureComponent);t.a=s},2e3:function(e,t,n){"use strict";var r=n(6),a=(n(2001),n(4)),i=n(12),o=n(7),s=n(17),c=n(9),l=n(317),u=Object(s.a)(i.b(function(e,t){return{distance:Object(l.b)(e,t.result)}}),c.b),d=(Object(o.a)("card-distance-to-user"),function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return!e.distance||e.distance,null},t}(a.Component));t.a=u(d)},2001:function(e,t,n){},2003:function(e,t,n){},2005:function(e,t,n){e.exports=n.p+"_/39f1c68e2b76c97baa2e8d0c5b447741.svg"},2006:function(e,t,n){"use strict";var r=n(6),a=(n(2007),n(4)),i=n(7),o=n(8),s=n(426),c=n(88),l=140,u=50,d=Object(i.a)("card-about-business-view"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=a.createRef(),n._updateHeight=function(){var e=n._ref.current;e&&n.setState({fullElementHeight:e.scrollHeight,hasMoreText:e.scrollHeight>l+u})},n._toggleExpand=function(){n.setState({isExpanded:!n.state.isExpanded})},n._renderExpandToggle=function(){var e=n.state;return n.state.hasMoreText?a.createElement(o.a,{name:"expand",nodeState:{expanded:e.isExpanded},logClick:!0},a.createElement("span",{className:d("expand",{type:e.isExpanded?"collapse":"expand"}),onClick:n._toggleExpand},e.isExpanded?"Свернуть":"Развернуть",a.createElement(c.a,{isFlipped:e.isExpanded}))):null},n.state={fullElementHeight:0,isExpanded:!1,hasMoreText:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateHeight()},n.render=function(){var e=this.props,t=this.state;return a.createElement(o.a,{name:"about"},a.createElement("div",{className:d({wide:e.wide}),ref:this._ref,style:{maxHeight:!t.hasMoreText||t.isExpanded?t.fullElementHeight:l}},a.createElement("div",{className:d("badge")},a.createElement(s.a,{utms:e.advertBadgeUTMs})),a.createElement("div",{className:d("title")},"От бизнеса:"),a.createElement("div",{className:d("text")},e.text),e.disclaimer?a.createElement("div",{className:d("disclaimer")},e.disclaimer):null,t.hasMoreText&&!t.isExpanded?a.createElement("div",{className:d("fade")}):null),this._renderExpandToggle())},t}(a.Component);t.a=p},2007:function(e,t,n){},2009:function(e,t,n){"use strict";var r=n(6),a=(n(2010),n(4)),i=n(12),o=n(9),s=n(786),c=n(766),l=n(7),u=n(17),d=n(132),p=n(8),m=n(133),f=n(11),v=n(441),h=n(259),g=n(123),_=n(35),E=n(234),b=n(2012),k=n.n(b),y=n(2013),C=n.n(y),w={showPhoto:d.a.show},S=Object(l.a)("card-header-media-view"),N=10,T=800,O=2,R=320,j="auto",I=4,x=0,P=3e3,A=Object(u.a)(i.b(null,w),o.b,s.a),B=function(e){function t(t){var n;return(n=e.call(this,t)||this)._scrollPauseTimeout=0,n._getAdvertDisplayingPhotos=function(){var e,t=n.props.result,r=t.advert,a={advert:!0,urlTemplate:(null==r?void 0:r.photo)||(null===(e=t.photos)||void 0===e?void 0:e.urlTemplate)||""};return a.urlTemplate?[a]:void 0},n._getDisplayingPhotos=function(){var e,t=n.props.result,r=[];return(null===(e=t.advert)||void 0===e?void 0:e.photo)&&r.push({urlTemplate:t.advert.photo,link:[]}),t.photos&&r.push.apply(r,t.photos.items),r.slice(0,N)},n._slideToNextPhoto=function(e){n.setState(function(t){return{sliderPosition:(t.sliderPosition+1)%e.length}},function(){var e,t;return null===(e=(t=n)._setCarouselPosition)||void 0===e?void 0:e.call(t,n.state.sliderPosition)})},n._changeSlide=function(e,t){t||n.setState({sliderPosition:e})},n._shouldUseAutoScrollingCarousel=function(e){return Boolean(e.length>=4)},n._pauseAnimation=function(){n.state.autoPlay&&n.setState({autoPlay:!1})},n._resumeAnimation=function(){n.state.autoPlay||n.setState({autoPlay:!0})},n._onSwipe=function(e){e.isSwiping?n._pauseAnimation():n._resumeAnimation()},n._onScroll=function(e){n._pauseAnimation(),window.clearTimeout(n._scrollPauseTimeout),e&&e.scrollTop<=0&&(n._scrollPauseTimeout=window.setTimeout(n._resumeAnimation,300))},n._renderAutoScrollingCarousel=function(e){return a.createElement(p.a,{name:"photos_carousel"},a.createElement(_.a,{snap:!0,itemsGap:0,children:e.map(function(e,t){return a.createElement("div",{className:S("auto-scrolling-carousel-item"),key:t},n._renderPhoto(e,"L",t,n.props.onPhotosClick))}),showArrows:"never",onScroll:n._changeSlide,onSwipeStart:function(){return n.setState({autoPlay:!1})},onSwipeEnd:function(){return n.setState({autoPlay:!0})},setPositionRef:function(e){return n._setCarouselPosition=e}}),a.createElement("div",{className:S("fade")}),a.createElement("div",{className:S("progress")},a.createElement(c.a,{currentSegment:n.state.sliderPosition,segments:e.map(function(){return{duration:P}}),run:n.state.autoPlay,onTick:function(){return n._slideToNextPhoto(e)}})),a.createElement(E.a,{eventHandler:n._onScroll,throttleWait:100}))},n._renderPhoto=function(e,t,r,i){var o=n.state,s=e.urlTemplate.replace("%s",t);return a.createElement(p.a,{name:"photos",metrikaGoal:"deepuse",logClick:!0},a.createElement("div",{className:S("photo"),onClick:i},a.createElement(m.a,{src:s,alt:e.alt,renderImmediately:!r||r<=o.sliderPosition+o.preloadImagesCount})))},n._renderCarouselPhoto=function(e,t,r){var i=n.props,o=i.wide&&r&&r.length<=O,s=i.wide?o?(T-(r.length-1)*I)/r.length:R:j,c=n._renderPhoto(e,o?"XL":"L",t,i.wide?function(){return i.onPhotoClick(t)}:i.onPhotosClick);return e.advert?a.createElement(a.Fragment,null,a.createElement("div",{className:S("advert-wrap")},a.createElement("div",{className:S("advert-wrap-inner")},c)),a.createElement("div",{className:S("fade")})):a.createElement(a.Fragment,null,a.createElement("div",{className:S("item"),style:{width:s},key:t},a.createElement("div",{className:S("item-layout")},c)),a.createElement("div",{className:S("fade")}))},n._renderLogo=function(){var e,t,r,i=n.props.result,o=(null===(e=i.advert)||void 0===e?void 0:e.logo)||(null===(t=i.businessImages)||void 0===t?void 0:t.logo.urlTemplate);return o?a.createElement("div",{className:S("logo")},a.createElement(m.a,{src:o.replace("%s","S"),backgroundSize:(null===(r=i.advert)||void 0===r?void 0:r.logo)?"cover":"contain",renderImmediately:!0})):null},n._renderPhotos=function(e,t){var r,i,o=n.props,s=o.result,c=((null===(r=s.photos)||void 0===r?void 0:r.count)||0)+((null===(i=s.advert)||void 0===i?void 0:i.photo)?1:0);return a.createElement("div",{className:S("list"),itemScope:!0,itemType:"http://schema.org/ImageGallery"},o.wide?a.createElement(_.a,{clickStep:2,itemsGap:o.wide?I:x,children:e.map(n._renderCarouselPhoto)}):n._shouldUseAutoScrollingCarousel(e)?n._renderAutoScrollingCarousel(e):n._renderCarouselPhoto(e[0],0),a.createElement("div",{className:S("label")},a.createElement("div",{className:S("label-icon",{photos:!0})},a.createElement(f.a,{url:k.a})),c),t?a.createElement("div",{className:S("notice")},"Реклама"):null,a.createElement(g.a,{chunk:"photos"}))},n._renderPanorama=function(){var e=n.props.result.panorama;return e?a.createElement("div",{className:S("item")},a.createElement(h.a,{panorama:e,view:"org"}),a.createElement("div",{className:S("label")},a.createElement("div",{className:S("label-icon",{panorama:!0})},a.createElement(f.a,{url:C.a})),"Панорама")):null},n.state={sliderPosition:0,autoPlay:!0,preloadImagesCount:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.addSwipeListener(this._onSwipe),this.setState({preloadImagesCount:2})},n.componentWillUnmount=function(){this.props.removeSwipeListener(this._onSwipe)},n.render=function(){var e=this.props,t=e.result.advert,n=e.config.experiments.ui.gpTopPhoto&&t&&(t.photo||t.logo)?this._getAdvertDisplayingPhotos():void 0,r=n||this._getDisplayingPhotos(),i=Boolean(r.length>0)&&!e.hideRichContent,o=Boolean(e.result.panorama),s=Boolean(n);return a.createElement("div",{className:S({"auto-scrolling":this._shouldUseAutoScrollingCarousel(r)&&!e.hideRichContent,wide:e.wide,panorama:o&&!i,advert:s})},i||o?a.createElement(a.Fragment,null,i?this._renderPhotos(r,s):this._renderPanorama(),e.hideRichContent?null:this._renderLogo()):a.createElement(v.a,{onAddPhotosClick:e.onAddPhotoClick}))},t}(a.PureComponent);t.a=A(B)},2010:function(e,t,n){},2012:function(e,t,n){e.exports=n.p+"_/ec896d8933f5ea816ff9ec6c0dcc8ec2.svg"},2013:function(e,t,n){e.exports=n.p+"_/c94a0036fea0865a100bbea6fd73e932.svg"},2014:function(e,t,n){"use strict";var r=n(6),a=(n(2015),n(2017),n(4)),i=n(7),o=n(9),s=n(8),c=n(11),l=n(259),u=n(333),d=n(2019),p=n.n(d),m=Object(i.a)("card-offer-media-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderPhotoLayer=function(){var e=t.props,n=e.advertPhoto,r=e.photos,a=e.panorama;if(!e.hideRichContent){if(n)return t._renderOfferPhotos(n);if(r)return t._renderPhotos(r)}return a?t._renderPanorama(a):t._renderAddPhoto()},t._renderOfferPhotos=function(e){var n=t.props,r=n.photos,i=n.onPhotosClick,o=(r&&r.count||0)+1;return a.createElement("div",{className:m("photos")},a.createElement(u.a,{urlTemplate:e,count:o,onClick:i,labelPosition:"bottom-left",showAdvertLabel:!t.props.config.hideAdverts}))},t._renderPhotos=function(e){var n=t.props.onPhotosClick;return a.createElement("div",{className:m("photos")},a.createElement(u.a,{urlTemplate:e.urlTemplate,size:"M",count:e.count,labelPosition:"bottom-left",onClick:n}))},t._renderAddPhoto=function(){var e=t.props.onAddPhotosClick;return a.createElement("div",{className:m("photos")},a.createElement(s.a,{name:"add_photo",logClick:!0},a.createElement("div",{className:m("add-photo"),onClick:e},a.createElement("div",{className:m("add-photo-icon")},a.createElement(c.a,{url:p.a})),a.createElement("div",{className:m("add-photo-label")},"Добавить фото"))))},t._renderPanorama=function(e){return a.createElement("div",{className:m("panorama")},a.createElement(l.a,{panorama:e,view:"preview"}))},t._renderLogo=function(){var e=t.props,n=e.logo,r=e.hideRichContent;return!n||r?null:a.createElement("div",{className:m("logo"),style:{backgroundImage:"url("+n+")"}})},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement("div",{className:m()},this._renderPhotoLayer(),this._renderLogo())},t}(a.Component);t.a=Object(o.b)(f)},2015:function(e,t,n){},2017:function(e,t,n){},2019:function(e,t,n){e.exports=n.p+"_/67a2987aae3218e5ee7860d9e4dde81c.svg"},202:function(e,t,n){},2020:function(e,t,n){"use strict";n(2021);var r=n(4),a=n(7),i=n(8),o=Object(a.a)("card-owners-banner-view");t.a=function(e){return r.createElement("div",{className:o("wrapper")},r.createElement(i.a,{name:"owners_banner",nodeState:{bannerType:e.banner.type},logClick:!0},r.createElement("a",{href:e.banner.target,className:o("link"),target:"_blank"},r.createElement("div",{className:o("picture"),style:{backgroundImage:"url("+e.banner.bannerUrl+")"}}))))}},2021:function(e,t,n){},2023:function(e,t,n){},2025:function(e,t,n){"use strict";var r=n(6),a=(n(2026),n(4)),i=n(7),o=n(9),s=n(99),c=n(18),l=n(29),u=n(446),d=n(8),p=n(2028),m=n(839),f=Object(i.a)("business-similar-places"),v={padding:64},h=function(e){function t(t){var n,r;(r=e.call(this,t)||this)._itemsLoaded=function(e){var t=e.items[0].relatedPlaces;if(t&&0!==t.length){var n=t.find(function(e){return Boolean(e.category)}),a=t.filter(function(e){return Boolean(e.photoUrlTemplate)});n&&0!==a.length&&r.setState({items:a,category:n.category})}};var a=t.preloadedResults||[],i=a.find(function(e){return Boolean(e.category)});return r.state={items:a,category:(null==i?void 0:i.category)||(null===(n=t.category)||void 0===n?void 0:n.name)},r}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.items.length>0||(this._loadRelatedAction=c.a.create(s.a.fetch({mode:"uri",uri:this.props.uri,snippets:this.props.config.search.relatedSnippets,origin:"related"},this.props.config),{success:this._itemsLoaded}))},n.componentWillUnmount=function(){c.a.cancel(this._loadRelatedAction)},n.render=function(){var e,t=this.state,n=t.category;if(0===t.items.length)return null;var r=this.props,i=r.onCategoryClick;return a.createElement(d.a,{name:r.analyticsName},a.createElement("div",{className:f()},"list"===r.view?a.createElement(p.a,{items:t.items,category:r.category,placeholder:a.createElement(m.a,null),onClick:r.onResultClick,onShowMoreClick:i?function(e){return i(e,{origin:"places-nearby"})}:void 0}):a.createElement(a.Fragment,null,a.createElement(u.a,{serpId:r.serpId,label:"Похожие места рядом",items:t.items,category:null===(e=r.category)||void 0===e?void 0:e.name,wide:r.wide,carouselOptions:r.wide?v:void 0}),n&&i&&!r.wide?a.createElement("div",{className:f("show-all")},a.createElement(d.a,{name:"category",logClick:!0},a.createElement(l.a,{iconUrl:null,onClick:function(){return i({name:n},{origin:"places-nearby"})},view:"link"},"Посмотреть все"))):null)))},t}(a.PureComponent);t.a=Object(o.b)(h)},2026:function(e,t,n){},2028:function(e,t,n){"use strict";var r=n(6),a=n(2029),i=n.n(a),o=n(4),s=n.n(o),c=n(7),l=n(18),u=n(99),d=n(9),p=n(8),m=n(20),f=Object(m.a)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(null,567))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 567}}),v=Object(c.a)("card-similar-organizations-list-view"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._itemsLoaded=function(e){n.setState({results:e.items})},n._renderResult=function(e){return o.createElement("div",{className:v("snippet"),onClick:function(){return n.props.onClick(e,{stackAction:"push"})},key:e.id},o.createElement(f,{result:e}))},n._renderShowAll=function(){var e=n.props.onShowMoreClick,t=n.props.category;return e&&t?o.createElement("div",{className:v("show-all")},o.createElement(p.a,{name:"category",logClick:!0},o.createElement("div",{onClick:function(){return e(t)}},"Посмотреть все"))):null},n.state={results:null},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;this._loadResultsAction=l.a.create(u.a.fetch({id:e.items.map(function(e){return e.id}),origin:"related"},e.config),{success:this._itemsLoaded})},n.componentWillUnmount=function(){l.a.cancel(this._loadResultsAction)},n.render=function(){var e=this.state;return e.results?o.createElement("div",{className:v()},e.results.map(this._renderResult),this._renderShowAll()):this.props.placeholder},t}(o.PureComponent);t.a=Object(d.b)(h)},2029:function(e,t,n){},2031:function(e,t,n){},2033:function(e,t,n){"use strict";var r=n(6),a=(n(2034),n(4)),i=n(7),o=n(8),s=n(9),c=n(426),l=n(35),u=n(90),d=Object(i.a)("card-special-offers-view"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getUniqueDisclaimers=function(){var e=t.props;return Array.from(new Set(e.items.reduce(function(e,t){return t.disclaimer?[].concat(e,[t.disclaimer]):e},[])))},t._renderDisclaimers=function(e,t){return 0===e.length?null:a.createElement("div",{className:d("disclaimers")},1===e.length&&t?a.createElement("div",{className:d("disclaimer")},e[0]):a.createElement("ol",{className:d("disclaimer-list")},e.map(function(e,t){return a.createElement("li",{className:d("disclaimer"),key:t},e)})))},t._renderItem=function(e,t,n,r){var i=e.url?"a":"div",s=e.disclaimer&&(n.length>1||!r)?n.indexOf(e.disclaimer)+1:void 0;return a.createElement(o.a,{name:"offer",nodeState:{position:t,link:Boolean(e.url)},key:t},a.createElement("div",{className:d("item")},a.createElement(o.a,{name:"img",metrikaGoal:"super_deepuse",logClick:!0},a.createElement(i,{target:"_blank",href:e.url,rel:"nofollow"},a.createElement("img",{className:d("item-img"),src:e.img,height:"100%"}))),a.createElement(o.a,{name:"url",metrikaGoal:"super_deepuse",logClick:!0},a.createElement(i,{className:d("item-name",{link:Boolean(e.url)}),target:"_blank",href:e.url,rel:"nofollow"},s?a.createElement("div",null,e.title," ",a.createElement("sup",{className:d("superscript")},s)):a.createElement(a.Fragment,null,e.title))),a.createElement("div",{className:d("item-price")},e.price)))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n="narrow"===t.view,r=this._getUniqueDisclaimers(),i=this.props.items.every(function(e){return Boolean(e.disclaimer)});return a.createElement("div",{className:d({view:t.view})},a.createElement("div",{className:d("title")},a.createElement(u.a,{type:"h2",rightContent:a.createElement(c.a,{height:n?void 0:"100%",utms:t.advertBadgeUTMs})},"Витрина")),a.createElement(l.a,{buttonSize:n?"m":"l",theme:n?"white":"black",arrowStyle:{topVerticalOffset:60},itemsGap:16,padding:n?16:80},t.items.map(function(t,n){return e._renderItem(t,n,r,i)})),this._renderDisclaimers(r,i))},t}(a.PureComponent);t.a=Object(s.b)(p)},2034:function(e,t,n){},2036:function(e,t){},2037:function(e,t,n){"use strict";var r=n(6),a=(n(2038),n(4)),i=n(7),o=n(0),s=n(59),c=n(32),l=n(9),u=n(48),d=n(8),p=n(11),m=n(2040),f=n.n(m),v="https://cash.rbc.ru/",h=["USD","EUR","GBP"],g="currency_exchange_widget_status",_=Object(i.a)("search-currency-exchange-view"),E={rateType:"sell"},b=function(e){function t(t){var n;return(n=e.call(this,t)||this)._switchRateType=function(){var e=n.state.rateType;n.setState({rateType:"sell"===e?"buy":"sell"},function(){o.a.set(g,n.state)})},n._prepareCurrencies=function(){var e=n.props,t=e.items,r=e.config.currencyCode,a=[].concat(h).reverse();return t.filter(function(e){return e.buy.currency===r&&e.sell.currency===r}).sort(function(e,t){return a.indexOf(t.name)-a.indexOf(e.name)}).slice(0,3)},n._renderSwitch=function(){var e="sell"===n.state.rateType;return a.createElement(d.a,{name:"switch",logClick:!0},a.createElement("div",{className:_("switch"),onClick:n._switchRateType},a.createElement("div",{className:_("rate-type",{disabled:!e})},"Продажа"),a.createElement("div",{className:_("rate-type",{disabled:e})},"Покупка"),a.createElement("div",{className:_("switch-background",{shifted:!e})})))},n._renderCurrency=function(e,t){return a.createElement("div",{className:_("currency"),key:e},a.createElement("div",{className:_("currency-code")},e),a.createElement("div",{className:_("currency-rate")},s.b(t,n.props.config.lang,{min:2,max:2})))},n._renderFooter=function(){var e=n.props.timestamp,t=new Date(e),r=c.l({hours:t.getHours(),minutes:t.getMinutes()}),i=n.props.getToday(),o=t.getDate()===i.getDate()?(function(params){return "Обновлено в "+params.time;})({time:r}):(function(params){return "Обновлено вчера в "+params.time;})({time:r});return a.createElement("div",{className:_("info")},a.createElement("span",null,o),a.createElement(d.a,{name:"link",logClick:!0},a.createElement("a",{className:_("link"),href:v,target:"_blank"},"Все курсы на сайте РБК")))},n.state=E,n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState(o.a.get(g)||E)},n.render=function(){var e=this,t=this.state.rateType,n=this._prepareCurrencies();return 0===n.length?null:a.createElement(d.a,{name:"currency_exchange",nodeState:{rateType:t}},a.createElement("div",{className:_()},a.createElement(d.a,{name:"logo",logClick:!0},a.createElement("a",{href:v,target:"_blank"},a.createElement(p.a,{className:_("logo"),url:f.a}))),this._renderSwitch(),a.createElement("div",{className:_("currencies")},n.map(function(n){var r=n[t];return e._renderCurrency(n.name,r.value)})),this._renderFooter()))},t}(a.PureComponent);t.a=Object(u.b)(Object(l.b)(b))},2038:function(e,t,n){},204:function(e,t,n){e.exports=n.p+"_/e5e2c1a7a1e08d0ef752d275975c693a.svg"},2040:function(e,t,n){e.exports=n.p+"_/1cd7a0f0240a2d3cd1f6eda3357373db.svg"},2041:function(e,t,n){"use strict";var r=n(6),a=(n(2042),n(4)),i=n(7),o=n(8),s=n(73),c=n(29),l=n(123),u=n(9),d=n(27),p=n(90),m=n(38),f=n(21),v=n(500),h=Object(i.a)("discovery-related-view"),g=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderPartnerIcon=function(e){if(!e)return null;var t=e.replace("%s","XXS");return a.createElement("div",{className:h("logo"),style:{backgroundImage:'url("'+t+'")'}})},t._renderItems=function(e,n){var r=n.isDropdown,i=t.props;return e.map(function(e,n,s){var l=e.alias,u=e.title,d=e.partnerIconUrlTemplate;return a.createElement(o.a,{key:l,name:"item",nodeState:{alias:l,position:n},logClick:!0},a.createElement(m.a,{href:f.h(l,i.config),onLeftClick:function(){return i.onClick(l)}},a.createElement(c.a,{icon:t._renderPartnerIcon(d),border:r&&n===s.length-1||i.isWideCard?"hide":"show",size:"small",arrowView:"right"},a.createElement("div",{className:h("item")},u))))})},t._renderRestItems=function(e){var n=Object(v.a)({count:e.length,one:"подборка",some:"подборки",many:"подборок"});return a.createElement(o.a,{name:"more"},a.createElement(s.a,{delimiter:null,value:e.length,content:t._renderItems(e,{isDropdown:!0}),hideCardBorder:!0},"Еще "+e.length+" "+n))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=t.length>3?2:3;return a.createElement(o.a,{name:"discovery_related"},a.createElement("div",{className:h({wide:e.isWideCard})},a.createElement(p.a,{type:"h2",mediumBottomGutter:!0},"Место входит в подборки"),this._renderItems(t.slice(0,n),{isDropdown:!1}),t.length-n>0?this._renderRestItems(t.slice(n)):null,a.createElement(l.a,{chunk:"discovery"})))},t}(a.Component);t.a=Object(u.b)(Object(d.b)(g))},2042:function(e,t,n){},2044:function(e,t,n){},2046:function(e,t,n){e.exports=n.p+"_/a042ecf1b88043b4c119499045aa24f2.svg"},2047:function(e,t,n){"use strict";var r=n(6),a=(n(2048),n(4)),i=n(2765),o=n(7),s=n(59),c=n(9),l=n(27),u=n(73),d=n(43),p=n(47),m=n(163),f=n(8),v=[{aliases:["АИ-92","АИ 92"],match:/92/,defaultName:"АИ-92"},{aliases:["АИ-95","АИ 95"],match:/95/,defaultName:"АИ-95"},{aliases:["АИ-98","АИ 98"],match:/98/,defaultName:"АИ-98"},{aliases:[],match:/ДТ/,defaultName:"ДТ"}],h=4,g=Object(o.a)("search-fuel-info-view"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this)._setHoverState=function(){n.setState({hovers:n._partialHover},function(){return n._partialHover=[]})},n._setHover=function(e,t){var r=n.state.hovers;n._partialHover[e]=t,n._partialHover[e]!==Boolean(r[e])&&n._setHoverDebounced()},n._renderValue=function(e){var t=0===e.price.value?"–":s.b(e.price.value,n.props.config.lang,{min:2,max:2});return a.createElement("div",{className:g("value")},t)},n._renderRates=function(e,t){void 0===t&&(t=0);var r=n.state.hovers;return 0===e.length?null:a.createElement("div",{className:g("rates",{additional:0!==t})},e.map(function(e,i){return a.createElement("div",{key:i,className:g("rate",{"has-value":Boolean(e.price.value)})},a.createElement(d.a,{text:e.name,position:"top",isDisabled:!r[i+t]},a.createElement("div",{className:g("name"),ref:function(e){var r=!!e&&e.offsetWidth<e.scrollWidth;n._setHover(i+t,r)}},e.name)),n._renderValue(e))}))},n._renderDropdown=function(e){return a.createElement(u.a,{content:n._renderRates(e.slice(h),h),iconUrl:null,delimiter:null,arrowHidden:e.length<=h,hideCardBorder:!0},n._renderRates(e.slice(0,h)))},n._renderInfo=function(){var e=n.props,t=e.source,r=Object(p.a)(new Date(1e3*e.timestamp),e.config,{isShortDate:!1});return a.createElement("div",{className:g("info")},t?Object(m.a)((function(params){return "Обновлено "+params.date+" по данным "+params.source;})({date:r,source:"__link"}),{__link:a.createElement(f.a,{name:"search_partner_link",logClick:!0,nodeState:t},a.createElement("a",{href:t.url,target:"_blank",className:g("info-link")},t.name))}):(function(params){return "Обновлено "+params.date;})({date:r}))},n.state={hovers:[]},n._partialHover=[],n._setHoverDebounced=Object(i.a)(n._setHoverState,100),n}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._setHoverDebounced.cancel()},n.render=function(){var e=this.props,t=function(e){var t=v.map(function(t){return function(e,t){var n=e.find(function(e){return t.aliases.includes(e.name)}),r=e.find(function(e){return t.match.test(e.name)});return n||r}(e,t)||{name:t.defaultName,price:{value:0,text:"0",currency:"RUB"}}});if(t.every(function(e){return 0===e.price.value}))return e;return[].concat(t,e.filter(function(e){return!t.includes(e)}))}(e.items),n=e.isWideCard;return a.createElement(f.a,{name:"fuel_info",logClick:!0},a.createElement("div",{className:g({bordered:!n,wide:n})},n?this._renderRates(t):this._renderDropdown(t),this._renderInfo()))},t}(a.PureComponent);t.a=Object(l.b)(Object(c.b)(_))},2048:function(e,t,n){},205:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d});var r=n(10),a=n(415);function i(e,t,n){return (function(params){return "Забронировать от "+params.price+" / "+params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "ночь" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "ночи" : "ночей"));})({count:Object(a.a)(n,t),price:e})}function o(e){return"no-room"===e.type?"Не удалось найти предложения на выбранные даты":"При запросе цен произошла ошибка. Проверьте соединение с интернетом и обновите страницу"}function s(e){return Object(r.a)(Object(r.a)({},e.data&&"type"in e.data?{error:e.data.type}:e.data||{}),{},{dateFrom:e.dateFrom||void 0,dateTo:e.dateTo||void 0,personsAmount:e.personsAmount})}function c(e){return{id:e.toString(),text:(function(params){return params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "взрослый" :"взрослых");})({count:e})}}function l(){return[1,2,3,4,5].map(c)}function u(e){return e.getFullYear()+"-"+function(e,t){var n=(e.getMonth()+1).toString();return t?n.padStart(2,"0"):n}(e,!0)+"-"+function(e,t){var n=e.getDate().toString();return t?n.padStart(2,"0"):n}(e,!0)}function d(e){return Boolean(e.references&&e.references.some(function(e){return e.scope.startsWith("ytravel_")}))}},2050:function(e,t,n){},2052:function(e,t,n){e.exports=n.p+"_/ec404c3779ea6e296efaac3be4797a77.svg"},2053:function(e,t,n){"use strict";var r=n(4),a=n(7),i=n(8),o=n(29),s=n(2054),c=n.n(s),l=Object(a.a)("afisha-link-view");t.a=function(e){var t=e.url;return r.createElement(i.a,{name:"afisha_link",metrikaGoal:"super_deepuse",logClick:!0},r.createElement(o.a,{className:l(),view:"link",iconUrl:c.a,keepIconColor:!0,onClick:function(){return window.open(t,"_blank")}},r.createElement("div",{className:l("link")},"Расписание на Яндекс.Афише")))}},2054:function(e,t,n){e.exports=n.p+"_/c3e6b5942de77b17afac6c0c97e93de7.svg"},2055:function(e,t,n){"use strict";var r=n(6),a=(n(2056),n(4)),i=n(7),o=n(9),s=n(8),c=n(73),l=n(29),u=n(21),d=n(2058),p=n.n(d),m=n(2059),f=n.n(m),v=n(2060),h=n.n(v),g=n(27),_=Object(i.a)("business-ownership-view"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onBecomeOwnerClick=function(){var e=t.props;window.open(u.s(e.businessId,e.config),"_blank")},t._renderBecomeOwner=function(){var e=t.props;return a.createElement(l.a,{iconUrl:p.a,view:"link",onClick:t._onBecomeOwnerClick},a.createElement(s.a,{name:"become_owner_link",logClick:!0},a.createElement("a",{className:_("title-link"),href:u.s(e.businessId,e.config),onClick:function(e){return e.preventDefault()}},"Стать владельцем в Яндекс.Картах")))},t._renderDropdownContent=function(){var e=t.props,n=e.isAdvert,r=n?"Поднимает организацию в списке по профильным запросам.":"Этот знак получают организации, владелец которых подтвержден и поддерживает данные на карточке в актуальном состоянии.",i=n?"Подключить для своей организации":"Подробнее",o=e.config.advertLandingUrl,c=n?o?o+"?utm_source=webmaps&utm_medium=tip&utm_campaign=webmaps_gptip":null:"http://yandex.ru/support/sprav/manage/verified-owner.html",u=n?"order_link":"verify_link";return a.createElement(l.a,{size:"small",border:"hide"},r,c?a.createElement(s.a,{name:u,logClick:!0},a.createElement("a",{className:_("link"),href:c,target:"_blank"}," "+i)):null)},t._renderDropdown=function(){var e=t.props.isAdvert,n=e?f.a:h.a,r=e?"Приоритетное размещение":"Владелец следит за актуальностью информации";return a.createElement(c.a,{content:t._renderDropdownContent(),iconUrl:n,keepIconColor:!0,delimiter:null,hideCardBorder:!0},a.createElement("div",{className:_("title")},r))},t._renderContent=function(){var e=t.props;return e.isAdvert||e.isVerified?t._renderDropdown():e.hideBecomeOwner?null:t._renderBecomeOwner()},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this._renderContent();return t?a.createElement("section",{className:_({wide:e.isWideCard})},t):null},t}(a.PureComponent);t.a=Object(g.b)(Object(o.b)(E))},2056:function(e,t,n){},2058:function(e,t,n){e.exports=n.p+"_/21518045c51dfb079cb23b19507428e0.svg"},2059:function(e,t,n){e.exports=n.p+"_/514ff5e9d6a3d2c1af457780900c17b8.svg"},206:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(207),n(4)),o=n(7),s=Object(o.a)("menu-item"),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e=t.props;e.isDisabled||e.onClick()},t._onUrlClick=function(e){e.preventDefault()},t._renderLink=function(){var e=t.props;return e.link?i.createElement("a",Object(r.a)({},e.link,{className:s("link"),style:{pointerEvents:"none"},onClick:t._onUrlClick}),e.text):e.text},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement("div",{className:s({checked:e.isChecked,disabled:e.isDisabled,"disabled-tick":e.isTickDisabled}),onClick:this._onClick},i.createElement("div",{className:s("text")},this._renderLink()))},t}(i.Component);t.a=c},2060:function(e,t,n){e.exports=n.p+"_/5bf223713197e7950ca7cf87c15f15e7.svg"},2061:function(e,t,n){"use strict";var r=n(10),a=n(6),i=(n(2062),n(4)),o=n(7),s=n(9),c=n(48),l=n(8),u=n(107),d=n(32),p=n(90),m=Object(o.a)("business-attendance-view"),f=9,v=function(e){function t(t){var n;(n=e.call(this,t)||this)._mark=null,n._bar=null,n._container=null,n._daysAnalyticsRef=i.createRef(),n._hoursAnalyticsRef=i.createRef(),n._getWeeklyPercentage=function(e){var t=Math.max.apply(Math,Object.values(n.props.data).reduce(function(e,t){return[].concat(e,t)},[]));return Math.floor(e/t*100)},n._getSortedWeekdays=function(){return Object.keys(n.props.data).sort(function(e,t){return("sunday"===e?7:u.a.indexOf(e))-("sunday"===t?7:u.a.indexOf(t))})},n._updateMark=function(){if(n._mark&&n._container&&n._bar){var e=n._bar.offsetLeft,t=n._bar.clientWidth,r=n._mark.offsetWidth,a=n._container.clientWidth,i=e+t/2,o=Math.max(Math.floor(i-r/2),f),s=Math.floor(a-r)+f;i+r/2<a?(n._mark.style.cssText="",n._mark.style.transform="translateX("+o+"px)"):n._mark.getBoundingClientRect().right>a?(n._mark.style.transform="translateX("+s+"px)",n._mark.getBoundingClientRect().right>a&&(n._mark.style.transition="none")):(n._mark.style.cssText="",n._mark.style.transform="translateX("+s+"px)")}},n._onClick=function(e){var t=Object.keys(e);n._hoursAnalyticsRef.current&&t.includes("hour")&&n._hoursAnalyticsRef.current.logEvent("click",e,{useParentState:!0}),n._daysAnalyticsRef.current&&t.includes("day")&&n._daysAnalyticsRef.current.logEvent("click",e,{useParentState:!0}),n.setState(Object(r.a)(Object(r.a)({},n.state),e),n._updateMark)},n._renderHour=function(e,t){return i.createElement("div",{key:t,className:m("bar",{active:t===n.state.hour}),style:{height:n._getWeeklyPercentage(e)+"%"},"data-time":d.h(String(t)),onClick:function(){return n._onClick({hour:t})},ref:function(e){t===n.state.hour&&(n._bar=e)}})},n._renderHours=function(){return i.createElement(l.a,{name:"hours",nodeRef:n._hoursAnalyticsRef},i.createElement("div",{className:m("bars"),ref:function(e){return n._container=e}},n.props.data[n.state.day].map(n._renderHour)))},n._renderWeekdays=function(){var e=n._getSortedWeekdays();return i.createElement(l.a,{name:"days",nodeRef:n._daysAnalyticsRef},i.createElement("div",{className:m("weekdays")},e.map(function(e){return i.createElement("div",{key:e,onClick:function(){return n._onClick({day:e})},className:m("day",{active:n.state.day===e})},Object(u.d)(n.props.config,e))})))},n._renderMark=function(){var e=n.state,t=e.hour,r=e.day,a=n.props.data[r][t],o=n._getWeeklyPercentage(a);return i.createElement("div",{className:m("mark"),ref:function(e){return n._mark=e}},i.createElement("span",{className:m("mark-time")},d.h(String(t))),function(e){if(0===e||isNaN(e))return "Закрыто";if(e<35)return "Обычно мало посетителей";if(e<75)return "Обычно средняя загруженность";return "Обычно много посетителей"}(o))};var a=t.getToday(),o=n.props.tzOffset?d.a(a,n.props.tzOffset):a;return n.state={day:u.a[o.getDay()],hour:o.getHours()},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateMark()},n.render=function(){return i.createElement(l.a,{name:"visits_histogram",nodeState:this.state},i.createElement("div",{className:m()},i.createElement(p.a,{type:"h2",mediumBottomGutter:!0},"Посещаемость и график работы"),i.createElement("div",{className:m("plot-container")},this._renderMark(),this._renderWeekdays(),this._renderHours())))},t}(i.Component);t.a=Object(c.b)(Object(s.b)(v))},2062:function(e,t,n){},2064:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(2065),n(4)),o=n(7),s=n(9),c=n(27),l=n(1062),u=n(38),d=n(541),p=n(1063),m=n(8),f=n(1064),v=n(90),h=n(2075),g=n.n(h),_=Object(o.a)("card-related-products-view"),E=3,b=4,k=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e,n){var r=t.props;n.sourceUrl?window.open(n.sourceUrl):r.onClick&&r.onClick(e)},t._renderTitle=function(){var e;return e=t.props.matched?"food"===t.props.rubric?"Нашлось в меню":"Нашлось в списке товаров и услуг":"food"===t.props.rubric?"Меню":"Товары и услуги",i.createElement("div",{className:_("title")},i.createElement(v.a,{type:"h2"},e))},t._renderItems=function(e){return e.some(function(e){return Boolean(e.photoLink)})?e.map(t._renderPhotoItem):e.map(t._renderListItem)},t._renderPhotoItem=function(e,n){var r=t.props;return i.createElement(m.a,{name:"product_card",logClick:!0,key:n},i.createElement(f.a,{item:e,rubric:r.rubric,onClick:r.onClick,twoColumns:1===r.items.length,lazyImageLoad:n>b,size:2===r.items.length?"full-width":r.size,clickable:Boolean(t.props.onClick||e.sourceUrl)}))},t._renderListItem=function(e,n){var r=Boolean(t.props.onClick||e.sourceUrl);return i.createElement(m.a,{name:"product_card",logClick:!0,key:n},i.createElement("div",{className:_("list-item"),onClick:function(n){return t._onClick(n,e)}},i.createElement(p.a,{item:e,clickable:r,size:t.props.size,first:0===n})))},t._renderTransitionItem=function(){var e=t.props,n="food"===e.rubric?"Посмотреть всё меню":"Посмотреть все товары и услуги";return i.createElement("div",{className:_("transition",{size:e.size}),key:"transition"},i.createElement(u.a,{href:e.allItemsUrl},i.createElement(d.a,{title:n,iconUrl:g.a,size:e.size,imageHeight:"normal"===e.size?160:96,transition:!0,clickable:!0})))},t._renderActiveView=function(){var e=t.props;return e.hasPhotos&&e.items.length<E?i.createElement("div",{className:_("matched")},e.items.map(function(e,n){return i.createElement("div",{className:_("matched-item"),key:n},t._renderPhotoItem(e,n))})):i.createElement("div",{className:_("top-items",{carousel:e.hasPhotos})},i.createElement(l.a,Object(r.a)({},e,{isPhone:!1,renderItems:t._renderItems,renderTransitionItem:t._renderTransitionItem,arrowTopVerticalOffset:("normal"===e.size?160:96)/2,size:e.size,carouselOptions:e.carouselOptions})))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(m.a,{name:"related_products",nodeState:{rubric:this.props.rubric,type:this.props.matched?"matched_objects":"top_objects"}},i.createElement("div",{className:_({size:e.size,wide:e.isWideCard})},i.createElement("div",{className:_("content")},this._renderTitle(),this._renderActiveView()),this.props.allItemsButton))},t}(i.PureComponent);t.a=Object(c.b)(Object(s.b)(k))},2065:function(e,t,n){},2067:function(e,t,n){},2069:function(e,t,n){},207:function(e,t,n){},2071:function(e,t,n){},2073:function(e,t,n){},2075:function(e,t,n){e.exports=n.p+"_/83511599e26b6c68875ce8320c9ba5cd.svg"},2076:function(e,t,n){"use strict";var r=n(6),a=(n(2077),n(4)),i=n(7),o=n(9),s=n(1062),c=n(541),l=n(8),u=n(1065),d=n(38),p=n(90),m=n(27),f=n(2081),v=n.n(f),h=Object(i.a)("card-places-inside-view"),g=120,_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderItems=function(e){var n=t.props;return e.map(function(e,t){return a.createElement(l.a,{name:"organization_card",metrikaGoal:"goal_deepuse",logClick:!0,key:t},a.createElement("div",{className:h("card")},a.createElement(u.a,{item:e,size:"small",onClick:n.onClick,lazyImageLoad:t>4})))})},t._renderTransitionItem=function(){var e=t.props;return a.createElement("div",{className:h("transition"),key:"transition"},a.createElement(d.a,{href:e.allItemsUrl},a.createElement(c.a,{title:"Показать все места",iconUrl:v.a,size:"small",imageHeight:g,transition:!0,clickable:!0})))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(l.a,{name:"places_inside"},a.createElement("div",{className:h({size:"small"})},a.createElement("div",{className:h("content")},a.createElement(p.a,{type:"h2"},"Организации в здании"),a.createElement("div",{className:h("carousel-container",{wide:e.isWideCard})},a.createElement(s.a,{isPhone:!1,items:e.items,renderItems:this._renderItems,renderTransitionItem:this._renderTransitionItem,onAllClick:e.onAllClick,size:"small",arrowTopVerticalOffset:g/2,hasPhotos:!0}))),this.props.allItemsButton))},t}(a.PureComponent);t.a=Object(o.b)(Object(m.b)(_))},2077:function(e,t,n){},2079:function(e,t,n){},2081:function(e,t,n){e.exports=n.p+"_/a62c05ff362cd2f9c40975bddd857e75.svg"},2082:function(e,t,n){"use strict";n(2083);var r=n(4),a=n(8),i=n(7),o=n(1056),s=Object(i.a)("business-events-list");t.a=function(e){return r.createElement(a.a,{name:"events_list",logClick:!0},r.createElement("div",{className:s()},e.events.map(function(t){return r.createElement("div",{className:s("event"),key:t.id},r.createElement(o.a,{event:t,onClick:function(){return e.onEventClick(t)},onPhotoClick:function(n){return e.onPhotoClick(t,n)},largeGallery:!0}))})))}},2083:function(e,t,n){},2085:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(2086),o=n.n(i),s=n(4),c=n.n(s),l=n(7),u=n(20),d=n(131),p=n(9),m=n(38),f=n(16),v=n(77),h=n(30),g=n(8),_=n(42),E=n(190),b=n(1059),k=n(822),y=n(1060),C=n(1186),w=n(21),S=Object(u.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,1180))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1180}}),N=Object(u.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,655))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 655}}),T=Object(u.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,1132))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1132}}),O=Object(l.a)("orgpage-header-view"),R=20,j=function(e){function t(t){var n;return(n=e.call(this,t)||this)._address=s.createRef(),n._updateAddress=function(){n._address.current&&n.setState({hasNewline:n._address.current.offsetHeight>R})},n._showNumber=function(){n.setState({showPhone:!0})},n._renderAddress=function(){var e=n.state,t=n.props,a=t.result,i=t.config,o=h.c(a,!0);if(!o)return null;var c=a.region&&(function(params){return params.address+" на карте "+params.genitive;})(Object(r.a)({address:o},a.region.names)),l=f.m(i);return s.createElement(g.a,{name:"address",logClick:!0},s.createElement(m.a,{className:O("address",{"no-hover":l}),onLeftClick:t.onAddressClick,href:l?void 0:w.g(a,i),title:c},s.createElement("div",{ref:n._address},s.createElement("span",null,a.address),s.createElement("span",{style:{display:e.hasNewline?"block":void 0}},a.additionalAddress?(e.hasNewline?"":" • ")+a.additionalAddress:""))))},n._renderContacts=function(){var e,t,r=n.state,a=n.props,i=a.result,o=v.e(i,a.config),c=null==i?void 0:null===(e=i.metrika)||void 0===e?void 0:null===(t=e.goals)||void 0===t?void 0:t.call;return s.createElement("div",{className:O("contacts")},i.status&&!i.newAddress?s.createElement("div",{className:O("contact")},s.createElement(S,{result:i})):null,0!==o.length?s.createElement("div",{className:O("contact")},s.createElement(N,{phones:o,goal:c,show:r.showPhone,onShowClick:n._showNumber})):null,n._renderAddress())},n._renderBadge=function(){var e=n.props;return e.config.hideAdverts?null:s.createElement(E.a,{result:e.result})},n.state={hasNewline:!1,showPhone:!1},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateAddress()},n.componentDidUpdate=function(e,t){t.showPhone!==this.state.showPhone&&this._updateAddress()},n.render=function(){var e=this.props,t=e.result;return t.title?s.createElement(g.a,{name:"header"},s.createElement(_.a,{header:!0,position:"top",order:1,wide:!0},s.createElement("div",{className:O("header-wrapper")},s.createElement(d.a,{className:O("header"),itemProp:"name"},t.title,this._renderBadge()))),t.summary?s.createElement("div",{className:O("summary")},s.createElement(y.a,{result:t})):null,h.A(t,e.config)?null:s.createElement("div",{className:O("rating-wrapper")},s.createElement(k.a,{result:t,showHints:!0,onReviewsClick:e.onReviewsClick})),this._renderContacts(),t.newAddress?s.createElement("div",{className:O("new-address")},s.createElement(T,{result:t,onClick:e.onMovedClick})):null,s.createElement("div",{className:O("open-again")},s.createElement(C.a,{result:t})),s.createElement("div",{className:O("warning")},s.createElement(b.a,{result:t})),t.photos&&0!==t.photos.items.length?s.createElement("meta",{itemProp:"image",content:t.photos.items[0].urlTemplate.replace("%s","XXXL")}):null,s.createElement("div",{className:O("spacer")})):null},t}(s.PureComponent);t.a=Object(p.b)(j)},2086:function(e,t,n){},2088:function(e,t,n){e.exports=n.p+"_/d6ee80b0416280b46548ac3096bf8c24.svg"},2089:function(e,t,n){e.exports=n.p+"_/10fc8e0132673c98990b5d4276b0b761.svg"},209:function(e,t,n){},2090:function(e,t,n){e.exports=n.p+"_/3f0774beb590ab0f58aa943d4c28dd45.svg"},2091:function(e,t,n){},2093:function(e,t,n){"use strict";var r=n(6),a=n(2094),i=n.n(a),o=n(4),s=n.n(o),c=n(50),l=n(7),u=n(165),d=n(9),p=n(17),m=n(596),f=n(2096),v=n(8),h=n(2101),g=n(2106),_=n(441),E=n(527),b=n(2109),k=n(1061),y=n(439),C=n(29),w=n(2114),S=n(597),N=n(613),T=n(2118),O=n(2772),R=n(2125),j=n(20),I=n(221),x=n(2128),P=n(1173),A=n(97),B=n(839),M=n(228),L=n(90),D=n(651),U=n(2133),F=n.n(U),z=n(2134),q=n.n(z),W=n(2135),H=n.n(W),V=n(1067),G=n(264),X=Object(j.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,144))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 144}},{ssr:!1}),Q=["entrance","house","street","metro_station","district","locality"],Y=Object(l.a)("toponym-card-view"),K=Object(p.a)(d.b,A.b),J=function(e){function t(t){var n;return(n=e.call(this,t)||this)._shouldShowPhotos=function(){var e=n.props.result;return"house"===e.kind&&Boolean(e.photos)},n._onEditClick=function(){u.a.reachGoal("correct_inac"),n.props.onEditClick()},n._onAddBusinessClick=function(e){e.preventDefault(),e.currentTarget.blur(),u.a.reachGoal("addorg_toponim"),n.props.onAddBusinessClick()},n._onBusinessClick=function(e){n.props.onBusinessesClick(e,{stackAction:"push"})},n._onCatalogItemClick=function(e){var t=n.props,r=t.result.bounds;r&&t.onCategoryClick(e.category,{bounds:r,origin:"places-nearby",displayText:e.displayText})},n._getInternetProvidersPosition=function(){var e,t=n.props,r=t.config.experiments.ui;return r.internetProvidersAtTop?"beforeDirect":r.internetProvidersAtBottom?"afterDirect":(null===(e=t.result.internetProviders)||void 0===e?void 0:e.some(function(e){return Boolean(e.advert)}))?"beforeDirect":"afterDirect"},n._showAllProviders=function(){n.setState({providersExpanded:!0}),n.props.onTabChange("services")},n._showAllServiceOrgs=function(){n.setState({providersExpanded:!1}),n.props.onTabChange("services")},n._shouldShowBusinessesList=function(){var e=n.props.result,t=e.kind,r=e.businesses;return Boolean(("house"===t||"entrance"===t)&&r&&r.totalResultCount>0)},n._renderMedia=function(e){var t=n.props,r=t.result,a=r.photos,i=r.panorama,s=t.onPhotosClick,c=n._shouldShowPhotos();return o.createElement(_.a,{panorama:i,photos:c?a:void 0,onPhotosClick:s,collapseEmpty:!0,smallBottomGutter:!e})},n._renderTitleBlock=function(){var e=n.props;return o.createElement(w.a,{result:e.result,onClose:e.onClose,onRouteClick:e.onRouteClick})},n._renderTypo=function(){var e=n.props,t=e.onTypoClick,r=e.requestQuery;return r&&t?o.createElement(N.a,{query:r,onClick:t}):null},n._renderCatalogEntry=function(){var e=n.props.result.catalog;return e?o.createElement("div",{className:Y("catalog-entry")},o.createElement(T.a,{data:e})):null},n._renderEncyclopedia=function(){var e=n.props.result.encyclopedia;return e?o.createElement(V.a,{data:e}):null},n._renderFormerName=function(){var e=n.props.result.formerName;return e?o.createElement(C.a,{iconUrl:null,title:"Прежнее название"},e):null},n._renderEntrances=function(){var e=n.props,t=e.result;return t.entrances&&0!==t.entrances.length&&"house"===t.kind?o.createElement(v.a,{name:"show_entrances",logClick:!0},o.createElement(C.a,{className:Y("feature",{noprint:!0}),view:"link",iconUrl:H.a,onClick:function(){return e.onEntrancesClick(t)}},o.createElement("div",{className:Y("show-entrances",{noprint:!0})},"Показать входы"))):null},n._renderServicesTab=function(){var e=n.state,t=n._renderProviders(e.providersExpanded?1/0:4),r=n._renderServiceOrgs(1/0);return t||r?o.createElement(o.Fragment,null,t,r):null},n._renderProviders=function(e){var t=n.props.result.internetProviders;return t&&0!==t.length?o.createElement("div",{className:Y("section")},o.createElement(O.a,{onClick:n._showAllProviders,providers:t,visibleItemsCount:e})):null},n._renderPhones=function(){var e=n.props,t=e.result.realty,r=e.config;return t&&t.company.phone?o.createElement(E.a,{phones:[{number:t.company.phone,counter:t.company.phoneCounter+"&crc="+r.xscriptCsrfToken,info:"Офис продаж"}]}):null},n._renderRealty=function(){var e=n.props.result.realty;return e?o.createElement(k.a,{company:e.company,offers:e.offers}):null},n._renderBuilding=function(){var e=n.props.result.building;return e?o.createElement(v.a,{name:"building_snippet"},o.createElement("div",{className:Y("section")},o.createElement(b.a,{building:e,initialVisibleCount:3}))):null},n._renderServiceOrgs=function(e){var t=n.props.result.serviceOrgs;return t&&0!==t.items.length?o.createElement("div",{className:Y("section")},o.createElement(R.a,{serviceOrgs:t,onResultClick:n._onBusinessClick,onShowAllClick:n._showAllServiceOrgs,visibleItemsCount:e})):null},n._renderEditLink=function(){return n.props.result.placeId?null:o.createElement(v.a,{name:"edit",logClick:!0},o.createElement(C.a,{className:Y("feature",{noprint:!0}),view:"link",iconUrl:F.a,onClick:n._onEditClick},o.createElement("div",{className:Y("edit",{noprint:!0})},"Исправить неточность")))},n._renderFindNearby=function(){var e=n.props,t=e.result;if(!Q.includes(t.kind)||!t.bounds)return null;var r=m.a(void 0,{limit:8,config:e.config,region:t.region});return o.createElement(v.a,{name:"nearby"},o.createElement("div",{className:Y("section")},o.createElement(L.a,{type:"h2",smallBottomGutter:!0},"Искать рядом"),o.createElement("div",{className:Y("catalog")},o.createElement(S.a,{items:r,onClick:n._onCatalogItemClick,size:"large",theme:"color"})),n._renderCatalogEntry()))},n._renderNearbyBusinesses=function(e){var t=n.props;return t.onNearbyCategoryClick?o.createElement(x.a,{categories:e,selectedCategory:t.selectedCategory,onCategoryClick:t.onNearbyCategoryClick}):null},n._renderBusinessesList=function(){var e=n.props,t=e.result.businesses;return t&&n._shouldShowBusinessesList()?o.createElement("div",{className:Y("section")},o.createElement(h.a,{results:t,onResultClick:n._onBusinessClick,onShowAllButtonClick:e.onShowAllBusinessesClick,visibleResultsCount:3})):null},n._renderAdditionalResults=function(){var e=n.props;return e.additionalResults&&e.onAdditionalResultClick&&e.onShowAllResultsClick?o.createElement("div",{className:Y("section")},o.createElement(f.a,{results:e.additionalResults,onResultClick:e.onAdditionalResultClick,onShowAllButtonClick:e.onShowAllResultsClick})):null},n._renderAddButton=function(){var e=n.props.result;return e.placeId||"house"!==e.kind?null:o.createElement(v.a,{name:"add_organization",logClick:!0},o.createElement(C.a,{className:Y("feature",{noprint:!0}),view:"link",iconUrl:q.a,onClick:n._onAddBusinessClick},o.createElement("div",{className:Y("add-organization",{noprint:!0})},"Добавить организацию")))},n._renderAdvert=function(){var e=n.props.config;return e.banner&&e.banner.blockIds.toponym&&!e.experiments.ui.noAdsInDaHouse?o.createElement("div",{className:Y("section")},o.createElement(X,{id:e.banner.blockIds.toponym,className:Y("advert"),skipFallback:!0})):null},n._renderBreadcrumbs=function(){var e=n.props.result.breadcrumbs;return e&&0!==e.length?o.createElement("div",{className:Y("breadcrumbs")},o.createElement(G.a,{breadcrumbs:e})):null},n._renderOverviewTab=function(){var e=n.props,t=e.config.experiments.ui,r=e.result.nearbyBusinesses,a=n._getInternetProvidersPosition();return o.createElement(o.Fragment,null,n._renderTypo(),o.createElement(y.a,{result:e.result}),o.createElement("div",{className:Y("overview")},o.createElement("div",{className:Y("section")},n._renderRealty(),n._renderPhones()),t.whatshereInDistrictTop&&r&&r.length>0?o.createElement("div",{className:Y("nearby-categories")},n._renderNearbyBusinesses(r)):null,o.createElement("div",{className:Y("section")},n._renderMedia(!n._renderFormerName()&&!n._renderEntrances()),n._renderFormerName(),n._renderEntrances()),o.createElement("div",{className:Y("section")},n._renderEncyclopedia()),o.createElement("div",{className:Y("section")},o.createElement(D.a,{result:e.result,requestCorrectedQuery:e.requestCorrectedQuery,onDistanceClick:e.onDistanceClick})),"beforeDirect"===a?n._renderProviders(4):null,n._renderAdvert(),"afterDirect"===a?n._renderProviders(4):null,n._renderServiceOrgs(2),n._renderBuilding(),o.createElement("div",{className:Y("section")},n._renderAddButton(),n._renderEditLink()),n._renderBusinessesList(),n._renderAdditionalResults(),t.whatshereInDistrictBottom&&r&&r.length>0?o.createElement("div",{className:Y("section")},o.createElement("div",{className:Y("title")},"Что здесь"),n._renderNearbyBusinesses(r)):null,(t.whatshereInDistrictTop||t.whatshereInDistrictBottom)&&r&&r.length>0?null:n._renderFindNearby()),n._renderBreadcrumbs(),o.createElement(M.default,null))},n._renderBusinessesListTab=function(){var e=n.props;return o.createElement(g.a,{toponym:e.result,placeholder:o.createElement(B.a,null),onAddBusinessClick:n._onAddBusinessClick,onResultClick:n._onBusinessClick})},n._renderTabbedView=function(){var e=n.props,t=[{key:"overview",title:"Обзор",render:n._renderOverviewTab}];return n._renderServicesTab()&&t.push({key:"services",title:"Службы",render:n._renderServicesTab}),n._shouldShowBusinessesList()&&t.push({key:"inside",title:"Организации внутри",render:n._renderBusinessesListTab}),o.createElement(P.a,{animatedScrollTo:function(t){return Object(c.b)(t,e.config)},getScrollableNode:e.getScrollableNode,tab:e.tab,onTabChange:e.onTabChange,tabs:t})},n.state={providersExpanded:!1},n.state={providersExpanded:!n._renderServiceOrgs(1/0)},n}return Object(r.a)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:Y(),itemScope:!0,itemType:"http://schema.org/Place"},this._renderTitleBlock(),this._renderTabbedView()),o.createElement(I.a,{type:"search_card_page"}))},t}(o.Component);t.a=K(J)},2094:function(e,t,n){},2096:function(e,t,n){"use strict";var r=n(6),a=n(2097),i=n.n(a),o=n(2099),s=n.n(o),c=n(4),l=n.n(c),u=n(20),d=n(7),p=n(8),m=n(90),f=n(29),v=Object(u.a)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(null,227))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 227}},{ssr:!1}),h=Object(d.a)("additional-results-view"),g=2,_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderShowAll=function(){var e=t.props;return e.results.length<=g?null:c.createElement("div",{className:h("show-all-wrapper")},c.createElement(p.a,{name:"show_all",logClick:!0},c.createElement(f.a,{iconUrl:null,onClick:e.onShowAllButtonClick,view:"link"},c.createElement("div",{className:h("show-all")},"Посмотреть все результаты"))))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return 0===e.results.length?null:c.createElement(p.a,{name:"additional_results"},c.createElement("div",{className:h()},c.createElement(m.a,{type:"h2"},"Возможно, вы искали"),c.createElement("div",{className:h("list")},e.results.slice(0,g).map(function(t,n){return c.createElement(v,{key:n,position:n,result:t,onClick:function(){return e.onResultClick(t)},showWideMedia:"never"})})),this._renderShowAll()))},t}(c.Component);t.a=_},2097:function(e,t,n){},2099:function(e,t,n){},2101:function(e,t,n){"use strict";var r=n(6),a=n(2102),i=n.n(a),o=n(2104),s=n.n(o),c=n(4),l=n.n(c),u=n(20),d=n(7),p=n(9),m=n(8),f=n(29),v=n(90),h=Object(u.a)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(null,227))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 227}}),g=Object(d.a)("toponym-businesses-list-snippet"),_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderShowAll=function(){var e=t.props;return e.results.totalResultCount<=e.visibleResultsCount?null:c.createElement(m.a,{name:"show_all",logClick:!0},c.createElement(f.a,{iconUrl:null,onClick:e.onShowAllButtonClick,view:"link"},c.createElement("div",{className:g("show-all")},"Все организации в этом доме")))},t._renderList=function(){var e=t.props;return e.results.items.slice(0,e.visibleResultsCount).map(function(t,n){return c.createElement(h,{key:n,position:n,result:t,onClick:function(){return e.onResultClick(t)},showWideMedia:"never"})})},t}return Object(r.a)(t,e),t.prototype.render=function(){return 0===this.props.results.totalResultCount?null:c.createElement(m.a,{name:"business_results"},c.createElement("div",{className:g()},c.createElement(v.a,{type:"h2"},"Организации в здании"),this._renderList(),this._renderShowAll()))},t}(c.Component);t.a=Object(p.b)(_)},2102:function(e,t,n){},2104:function(e,t,n){},2106:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(4),o=n(12),s=n(9),c=n(18),l=n(17),u=n(99),d=n(121),p=n(146),m=n(1068),f={updateBusinessesInside:d.a.updateBusinessesInside},v=Object(l.a)(o.b(function(e,t){var n;return{initialToponymBusinesses:null!==(n=e.search.businessesInside[t.toponym.id])&&void 0!==n?n:{categories:[],items:[]}}},f),s.b),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._saveState=function(){var e=n.props;e.updateBusinessesInside(e.toponym,n.state.toponymBusinesses)},n._changeCategory=function(e){n.setState(function(t){return{toponymBusinesses:Object(r.a)(Object(r.a)({},t.toponymBusinesses),{},{selectedCategory:e})}})},n._search=function(e){n.setState(function(t){return{toponymBusinesses:Object(r.a)(Object(r.a)({},t.toponymBusinesses),{},{searchText:e})}})},n._getCategoriesFromFilters=function(e){var t=e.find(function(e){return"category_id"===e.id});return t&&p.n(t)?p.s(t):[]},n._getFilterFromSelectedCategory=function(){var e=n.state.toponymBusinesses.selectedCategory;return e?{id:"category_id",type:"enum",values:[{id:e.id,name:e.name,selected:!0}]}:void 0},n._loadResultsFromBeginning=function(){n.state.toponymBusinesses.items.length>0?n.setState(function(e){return{toponymBusinesses:Object(r.a)(Object(r.a)({},e.toponymBusinesses),{},{items:[]})}},n._fetchResults):n._fetchResults()},n._loadMoreResults=function(){var e=n.state.toponymBusinesses,t=e.totalResultCount;n.state.isLoading||"number"==typeof t&&e.items.length>=t||n._fetchResults()},n._fetchResults=function(){var e=n.props,t=n.state,a=e.config,i=e.toponym,o=t.toponymBusinesses,s=n._getFilterFromSelectedCategory();n.setState({isLoading:!0}),c.a.cancel(n._fetchAction),n._fetchAction=c.a.create(u.a.fetch({geoWhere:i.coordinates,businessMode:"exact",businessShowClosed:!1,text:o.searchText,filters:s?p.b([s]):void 0,origin:"toponym-orgs",type:["biz"],count:a.searchResultsCount,skip:o.items.length},a),{success:function(e){n.setState(function(t){var a;return{toponymBusinesses:Object(r.a)(Object(r.a)({},t.toponymBusinesses),{},{categories:o.categories.length>0?o.categories:n._getCategoriesFromFilters(null!==(a=e.filters)&&void 0!==a?a:[]),items:[].concat(o.items,e.items),totalResultCount:e.totalResultCount})}})},always:function(){return n.setState({isLoading:!1})}})},n.state={isLoading:!1,toponymBusinesses:t.initialToponymBusinesses},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){0===this.state.toponymBusinesses.items.length&&this._loadResultsFromBeginning()},n.componentDidUpdate=function(e,t){e.toponym!==this.props.toponym&&(this._saveState(),this.setState({toponymBusinesses:this.props.initialToponymBusinesses})),t.toponymBusinesses.selectedCategory===this.state.toponymBusinesses.selectedCategory&&t.toponymBusinesses.searchText===this.state.toponymBusinesses.searchText||this._loadResultsFromBeginning()},n.componentWillUnmount=function(){this._saveState(),c.a.cancel(this._fetchAction)},n.render=function(){var e=this.props,t=this.state,n=t.toponymBusinesses;return i.createElement(m.a,{categories:n.categories,isLoading:t.isLoading,items:n.items,onAddBusinessClick:e.onAddBusinessClick,onCategoryClick:this._changeCategory,onEndReached:this._loadMoreResults,onResultClick:e.onResultClick,onSearchTextChange:this._search,placeholder:e.placeholder,searchText:n.searchText,selectedCategory:n.selectedCategory})},t}(i.Component);t.a=v(h)},2107:function(e,t,n){},2109:function(e,t,n){"use strict";var r=n(6),a=(n(2110),n(4)),i=n(7),o=n(9),s=n(8),c=n(73),l=n(29),u=n(2112),d=n.n(u),p=n(2113),m=n.n(p),f=Object(i.a)("card-building-view"),v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getFeatures=function(){var e=t.props.building,n=(t.props.config,"Да"),r="Нет";return[{title:"Год постройки",value:e.builtYear},{title:"Количество этажей",value:e.floors},{title:"Жилых помещений",value:e.apartments},{title:"Кадастровый номер",value:e.cadastralNumber},{title:"Капитальный ремонт, год проведения",value:e.capitalRepairYear},{title:"Признан аварийным",value:e.emergencyCondition?n:!1===e.emergencyCondition?r:void 0},{title:"Управляющая компания",value:e.managingCompany}].filter(function(e){return void 0!==e.value})},t._renderFeature=function(e,t){return a.createElement(l.a,{key:e.title,iconUrl:0===t?d.a:void 0,border:"hide",size:"small"},a.createElement("div",null,a.createElement("span",{className:f("feature-name")},e.title,":")," ",e.value))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e,t=this,n=this._getFeatures();if(0===n.length)return null;var r=null!==(e=this.props.initialVisibleCount)&&void 0!==e?e:1/0,i=n.slice(0,r),o=n.slice(r);return a.createElement(s.a,{name:"building_info"},a.createElement("div",{className:f()},a.createElement("div",{className:f("top-features")},i.map(this._renderFeature)),o.length>0?a.createElement("div",{className:f("rest-features")},a.createElement(c.a,{content:o.map(function(e){return t._renderFeature(e)}),iconUrl:m.a,hideCardBorder:!0,delimiter:a.createElement("div",{className:f("delimiter")})},"Подробнее")):null))},t}(a.Component);t.a=Object(o.b)(v)},2110:function(e,t,n){},2112:function(e,t,n){e.exports=n.p+"_/b450f529e1ea7ea2817f88bc0a5f6425.svg"},2113:function(e,t,n){e.exports=n.p+"_/4496082defdd7796239c84a548bb9e21.svg"},2114:function(e,t,n){"use strict";var r=n(6),a=(n(2115),n(4)),i=n(7),o=n(664),s=n(9),c=n(8),l=n(11),u=n(187),d=n(43),p=n(395),m=n(338),f=n(396),v=n(618),h=n(425),g=n(397),_=n(491),E=n(2117),b=n.n(E),k=Object(i.a)("toponym-card-title-view"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getDescription=function(){var e=n.props.result;return"house"===e.kind&&e.postalCode?e.description+", "+e.postalCode:e.description},n._openAddObjectFeedback=function(){var e,t=n.props;null===(e=t.openAddObjectFeedback)||void 0===e||e.call(t,{coordinates:t.result.displayCoordinates,type:"address/add",context:"toponym.building_without_address"})},n._renderCoordinates=function(){return a.createElement(c.a,{name:"coordinates",subtreeMetrikaGoal:"goal_deepuse"},a.createElement("div",{className:k("coords")},a.createElement("span",{className:k("coords-label")},"Координаты",":"),a.createElement("span",{className:k("coords-badge-wrapper")},n._renderCoordinatesBadge())))},n._renderCoordinatesBadge=function(){var e=n.props.result.displayCoordinates,t=e[1].toFixed(6)+", "+e[0].toFixed(6);return a.createElement(d.a,{text:"Скопировать координаты",position:"top"},a.createElement(u.a,{view:"primary",noIcon:!0},a.createElement("div",{className:k("coords-badge")},t,a.createElement("span",{className:k("coords-copy-icon")},a.createElement(l.a,{url:b.a})))))},n._renderLinks=function(){var e=n.props;return!e.openAddObjectFeedback||!o.a.includes(e.result.kind)||!e.zoom||e.zoom<16?null:a.createElement("div",{className:k("links")},a.createElement("span",{className:k("add-object"),onClick:n._openAddObjectFeedback},"Добавить точный адрес"))},n._renderMeta=function(){var e=n.props.result.photos;return a.createElement(a.Fragment,null,a.createElement("meta",{itemProp:"description",content:n.props.result.title+", "+n._getDescription()}),e&&0!==e.items.length?a.createElement("meta",{itemProp:"image",content:e.items[0].urlTemplate.replace("%s","XXXL")}):null)},n._renderActions=function(){var e=n.props;return a.createElement("div",{className:k("actions")},a.createElement(p.a,null,a.createElement(f.a,{mini:Boolean(e.mini),onClick:e.onRouteClick}),e.mini&&!e.config.experiments.ui.noTaxiActionButton?a.createElement(v.a,{coordinates:e.result.coordinates}):null,e.result.placeId?null:a.createElement(g.a,{subject:{type:"search",data:e.result}}),a.createElement(h.a,{result:e.result})))},n._renderWeather=function(){var e=n.props.result.weather;return e?a.createElement("div",{className:k("weather"),onClick:function(e){return e.stopPropagation()}},a.createElement(_.a,{weather:e,size:"s",utm:{campaign:"informer",content:"toponym_informer"}})):null},n.state={},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(m.a,{title:this.props.result.title,truncateTitle:e.truncateTitle,sticky:!e.mini,onClose:e.onClose,withBorder:!0},a.createElement("div",{className:k("description")},this._getDescription()),this._renderCoordinates(),this._renderWeather(),this._renderLinks(),this._renderActions(),this._renderMeta())},t}(a.Component);t.a=Object(s.b)(y)},2115:function(e,t,n){},2117:function(e,t,n){e.exports=n.p+"_/666dc2ae104d3ea60eca2a6d88095098.svg"},2118:function(e,t,n){"use strict";var r=n(10),a=(n(2119),n(4)),i=n(12),o=n(7),s=n(21),c=n(59),l=n(189),u=n(8),d=n(38),p=n(29),m=Object(o.a)("catalog-entry-point"),f={openCatalog:l.a.openCatalog},v=i.b(function(e){return{config:e.config}},f);t.a=v(function(e){return a.createElement(u.a,{name:"catalog_control",logClick:!0},a.createElement(p.a,{view:"link",iconUrl:null,onClick:function(){return e.openCatalog(e.data.region)}},a.createElement(d.a,{className:m(),href:s.d(e.data.region,void 0,e.config)},(function(params){return params.amount+" "+(params.amount % 10 === 1 && params.amount % 100 !== 11 ? "организация" :(params.amount % 10 > 1 && params.amount % 10 < 5 && (params.amount % 100 < 10 || params.amount % 100 > 20) ? "организации" : "организаций"))+" "+params.preposition+" "+params.prepositional;})(Object(r.a)({amount:c.b(e.data.companyAmount,e.config.lang)},e.data.region.names)))))})},2119:function(e,t,n){},212:function(e,t,n){"use strict";var r=n(6),a=(n(213),n(4)),i=n(35),o=n(8),s=n(7),c=n(136),l=Object(s.a)("tabs-select-view"),u=function(e){function t(t){var n;(n=e.call(this,t)||this)._alignPad=function(){var e,t,r=n.props,a=r.tab;if(a){var i=null!==(e=null===(t=n._tabRefs[a])||void 0===t?void 0:t.current)&&void 0!==e?e:null;if(i){var o=i.scrollWidth,s=i.offsetLeft;n.setState({padWidth:o,padTranslateX:s})}if(!r.disableAnimation){var c,l,u=r.tabs.findIndex(function(e){return e.key===a});null===(c=(l=n)._setScrollPosition)||void 0===c||c.call(l,u)}}},n._renderTabTitle=function(e){return a.createElement(o.a,{key:e.key,name:"tab",nodeState:{tab:e.key},logClick:!0},a.createElement("div",{className:l("title",{name:e.key,selected:n.props.tab===e.key}),onClick:function(){return n.props.onTabChange(e)}},a.createElement("div",{className:l("label"),ref:n._tabRefs[e.key]},e.title),e.count?a.createElement("div",{className:l("counter")},e.count):null))},n._renderPad=function(){return a.createElement("div",{className:l("pad",{inited:void 0!==n.state.padTranslateX}),style:{width:n.state.padWidth,transform:n.state.padTranslateX?"translateX("+n.state.padTranslateX+"px)":void 0}})};var r=t.tabs.map(function(e){return e.key});return n.state={},n._tabRefs=r.reduce(function(e,t){return e[t]=a.createRef(),e},{}),n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){setTimeout(this._alignPad,0)},n.componentDidUpdate=function(e){e.tab!==this.props.tab&&this._alignPad()},n.render=function(){var e,t=this,n=this.props,r=n.hideSingle?1:0;if(n.tabs.length<=r)return null;var s=n.tabs.findIndex(function(e){return e.key===n.tab});return a.createElement(o.a,{name:"tabs"},a.createElement("div",{className:l({border:!n.hideBorder,wide:n.wide})},a.createElement("div",{className:l("titles")},a.createElement(i.a,{clickStep:2,itemsGap:0,buttonSize:"m",padding:4,renderInScrollContainer:this._renderPad,scrollContainerStyle:{position:"relative"},setPositionRef:function(e){return t._setScrollPosition=e},initialPosition:n.disableAnimation&&-1!==s?s:void 0,disableOldBrowsersWorkaround:!0},n.tabs.map(this._renderTabTitle)),null===(e=n.children)||void 0===e?void 0:e.call(n,{refs:this._tabRefs}),a.createElement(c.a,{listener:this._alignPad}))))},t}(a.Component);t.a=u},2121:function(e,t,n){},2123:function(e,t,n){},2125:function(e,t,n){"use strict";var r=n(6),a=n(2126),i=n.n(a),o=n(4),s=n.n(o),c=n(20),l=n(7),u=n(9),d=n(8),p=n(29),m=n(90),f=Object(c.a)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(null,227))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 227}}),v=Object(l.a)("toponym-service-orgs"),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderShowAll=function(){return o.createElement(d.a,{name:"show_all",logClick:!0},o.createElement(p.a,{iconUrl:null,onClick:function(){return t.props.onShowAllClick()},view:"link"},o.createElement("div",{className:v("show-all")},"Все службы")))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.serviceOrgs.items,n=t.length>e.visibleItemsCount,r=t.slice(0,e.visibleItemsCount);return o.createElement(d.a,{name:"service_orgs"},o.createElement("div",{className:v()},o.createElement(m.a,{type:"h2"},"Обслуживающие организации"),r.map(function(t,n){return o.createElement(f,{key:n,position:n,result:t,onClick:function(){return e.onResultClick(t)},showWideMedia:"never"})}),n?this._renderShowAll():null))},t}(o.Component);t.a=Object(u.b)(h)},2126:function(e,t,n){},2128:function(e,t,n){"use strict";var r=n(6),a=(n(2129),n(4)),i=n(9),o=n(7),s=n(36),c=n(8),l=n(11),u=n(2131),d=n.n(u),p=n(2132),m=n.n(p),f=Object(o.a)("nearby-categories"),v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderCategory=function(e){var n=s.d({type:"rubrics",name:e.icon,size:"normal"},t.props.config);if(!n||0===e.totalCount)return null;var r=e.id===t.props.selectedCategory;return a.createElement(c.a,{name:"category",nodeState:{id:e.id,isSelected:r},logClick:!0,key:e.name},a.createElement("div",{className:f("item",{selected:r}),style:{color:e.color},onClick:function(){return t.props.onCategoryClick(r?void 0:e)}},a.createElement("div",{className:f("body")},a.createElement("div",{className:f("shade")}),a.createElement(l.a,{className:f("icon"),url:n}),a.createElement("div",{className:f("badge")},a.createElement(l.a,{className:f("badge-icon"),url:e.isSquare?d.a:m.a}),a.createElement("div",{className:f("badge-text")},e.totalCount))),a.createElement("div",{className:f("text")},e.name)))},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement("div",{className:f({selected:Boolean(this.props.selectedCategory)})},this.props.categories.map(this._renderCategory))},t}(a.PureComponent);t.a=Object(i.b)(v)},2129:function(e,t,n){},213:function(e,t,n){},2131:function(e,t,n){e.exports=n.p+"_/5305f4fde1ec6a00fbdb31b88fc85264.svg"},2132:function(e,t,n){e.exports=n.p+"_/5d4ea651f0b80ec71a8d74423477979e.svg"},2133:function(e,t,n){e.exports=n.p+"_/9d5768e2516dcf2d4e562c412f8e6346.svg"},2134:function(e,t,n){e.exports=n.p+"_/968dedc429076101cf920f2cc1c11d43.svg"},2135:function(e,t,n){e.exports=n.p+"_/a4bfdf036c0886f289c121245de96f71.svg"},2136:function(e,t,n){"use strict";var r=n(6),a=(n(2137),n(2139),n(4)),i=n(7),o=n(8),s=n(620),c=n(395),l=n(396),u=n(397),d=n(29),p=n(527),m=n(228),f=n(244),v=n(2141),h=n.n(v),g=n(2142),_=n.n(g),E=n(854),b=Object(i.a)("direct-card-view"),k=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderTitle=function(){var e=t.props,n=e.result.direct.contactInfo;return a.createElement("div",{className:b("title")},n.title,a.createElement("div",{className:b("actions")},a.createElement(c.a,null,a.createElement(l.a,{mini:e.mini,onClick:e.onRouteClick}),a.createElement(u.a,{subject:{type:"search",data:e.result}}))))},t._renderBanner=function(){return a.createElement(E.default,{direct:t.props.result.direct})},t._renderWorkingTime=function(){var e=t.props.result.direct.contactInfo;return e.workingTimeText?a.createElement(d.a,{iconUrl:h.a},a.createElement(o.a,{name:"time"},a.createElement("div",{className:b("hours")},e.workingTimeText))):null},t._renderPhones=function(){var e=t.props.result.direct.contactInfo;return e.phones?a.createElement(p.a,{phones:e.phones}):null},t._renderAddress=function(){var e=t.props.result.direct.contactInfo;return e.address?a.createElement(d.a,{iconUrl:_.a},a.createElement("div",{className:b("address")},e.address)):null},t._renderUrl=function(){var e=t.props.result.direct,n=e.url,r=e.domain;return r?a.createElement(o.a,{name:"advert",logClick:!0},a.createElement(s.a,{urls:[n],domainName:r})):null},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:b()},this._renderTitle(),a.createElement("div",{className:b("section")},this._renderWorkingTime(),this._renderPhones(),this._renderAddress(),this._renderUrl(),this._renderBanner()),a.createElement(m.default,null),a.createElement(f.a,{url:this.props.result.direct.contactInfo.counterUrl}),a.createElement(o.a,{name:"direct_card"})))},t}(a.Component);t.a=k},2137:function(e,t,n){},2139:function(e,t,n){},2141:function(e,t,n){e.exports=n.p+"_/e81bb630e5c7c8475238c09aa0e4abe6.svg"},2142:function(e,t,n){e.exports=n.p+"_/7fd603f634deb186d559120f27b86a86.svg"},2143:function(e,t,n){e.exports=n.p+"_/8bf3219c1591f62e4489ce9efdffc0c5.svg"},215:function(e,t,n){"use strict";var r=n(25),a={sendAnswer:function(e,t){return Object(r.a)("business/sendAnswer",{body:e},t)},fetchUserReview:function(e,t){return Object(r.a)("business/fetchUserReview",{query:e},t)},fetchUserReviews:function(e,t){return Object(r.a)("business/fetchUserReviews",{query:e},t)},fetchUserPhotos:function(e,t){return Object(r.a)("business/fetchUserPhotos",{query:e},t)},deleteBusinessPhotos:function(e,t){return Object(r.a)("business/deleteUserPhotos",{query:e},t)},sendUserReview:function(e,t){return Object(r.a)("business/sendUserReview",{body:e},t)},addUserReaction:function(e,t){return Object(r.a)("business/addUserReaction",{body:e},t)},fetchReviews:function(e,t){return Object(r.a)("business/fetchReviews",{query:e},t)},fetchServiceZone:function(e,t){return Object(r.a)("business/fetchServiceZone",{query:{businessId:e,lang:t.lang,locale:t.locale}},t)},fetchUserImpressions:function(e,t){return Object(r.a)("business/fetchUserImpressions",{query:e},t)},answerSbsQuestionImpression:function(e,t){return Object(r.a)("business/answerSbsQuestionImpression",{query:e},t)},skipImpression:function(e,t){return Object(r.a)("business/skipImpression",{query:e},t)}};t.a=a},221:function(e,t,n){"use strict";var r,a=n(6),i=n(4),o=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={didHydrate:r},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.didHydrate||(r=!0,this.setState({didHydrate:r}))},n.render=function(){var e=this.props;return this.state.didHydrate?null:i.createElement("script",{type:"text/javascript",nonce:e.config.cspNonce,dangerouslySetInnerHTML:{__html:"window.timingsMarks."+e.type+" = performance.now();"}})},t}(i.Component);t.a=Object(o.b)(s)},222:function(e,t,n){"use strict";n(280);var r=n(4),a=n(7),i=n(8),o=Object(a.a)("notification-banner");t.a=function(e){var t=e.rightSlot?"center":"top";return r.createElement(i.a,{name:"notification_banner",subtreeState:{type:e.analyticsType}},r.createElement("div",{className:o({shadow:e.shadow,view:e.view})},r.createElement("div",{className:o("left",{position:t})},e.leftSlot),r.createElement("div",{className:o("content")},e.children),r.createElement("div",{className:o("right")},e.rightSlot)))}},223:function(e,t,n){"use strict";var r=n(4),a=n(28);t.a=function(e){return r.createElement(a.a,{selector:"head"},r.createElement("style",{type:"text/css"},e.stylesString))}},228:function(e,t,n){"use strict";n.r(t);var r=n(6),a=(n(494),n(4)),i=n(12),o=n(79),s=n(108),c=n.n(s),l=n(7),u=n(48),d=n(21),p=n(23),m=n(115),f=n(314),v=n(139),h=n(8),g=n(10),_=(n(496),n(88)),E=n(36),b={small:20,normal:24},k={small:6,normal:8},y=["facebook","instagram","ok","twitter","vkontakte","youtube","telegram"],C=Object(l.a)("orgpage-social-links-view"),w=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=a.createRef(),n._toggleExpand=function(){n.setState({isExpanded:!n.state.isExpanded})},n._getSocialLinks=function(){var e=n.props.links;if(!e||0===e.length)return[];var t=e.map(function(e){return e.type});return e.filter(function(e,n){return y.includes(e.type)&&t.indexOf(e.type)===n})},n._renderExpandElement=function(){var e=n.state,t=e.isExpanded,r=e.lineFitAmount;if(0===r)return null;var i=n._getSocialLinks().length-r;return a.createElement("div",{className:C("control"),onClick:n._toggleExpand},t?"Свернуть":(function(params){return "Ещё "+params.count;})({count:i}),a.createElement(_.a,{isFlipped:t}))},n._renderLink=function(e,t,r){var i=n.props.size,o=void 0===i?"normal":i,s=n.state.lineFitAmount,c=0===t||t%s==0?{marginLeft:0}:t===r.length-1||(t+1)%s==0?{marginRight:0}:void 0;return a.createElement(h.a,{key:t,name:"social_link",nodeState:{type:e.type},logClick:!0},a.createElement("a",{itemProp:"sameAs",className:C("icon"),href:e.href,target:"_blank",rel:"nofollow","aria-label":e.type,style:Object(g.a)({backgroundImage:"url("+E.c(e.type)+")",marginBottom:s?k[o]:0},c)}))},n.state={isExpanded:!1,lineFitAmount:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(this._ref.current){var e=this.props.size,t=void 0===e?"normal":e,n=this._ref.current.scrollWidth,r=2*k[t],a=b[t]+r;this._getSocialLinks().length*a-r>n&&this.setState({lineFitAmount:Math.floor((n+r)/a)})}},n.render=function(){var e=this.props,t=e.size||"normal",n=this._getSocialLinks();if(0===n.length)return null;var r=this.state,i=r.isExpanded,o=r.lineFitAmount,s=i?Math.ceil(n.length/o):1;return a.createElement(h.a,{name:"social_links"},a.createElement("div",{className:C({size:t,dark:e.dark}),ref:this._ref},a.createElement("div",{className:C("container"),style:{maxHeight:o?s*(b[t]+k[t])-k[t]:"none"}},n.map(this._renderLink)),this._renderExpandElement()))},t}(a.Component),S=n(73),N=n(61),T={openCommonFeedback:N.a.openCommonFeedback,openBusinessFeedback:N.a.openBusinessFeedback,openRoutePanel:m.a.open,enableTrafficLayer:f.a.enable,openBookmarksPanel:v.a.openPanel,checkAuthorization:p.a.checkAuthorization,setMobileViewState:p.a.setMobileViewState},O=[{type:"facebook",href:"https://www.facebook.com/maps.yandex/"},{type:"vkontakte",href:"https://vk.com/yandex.maps"},{type:"twitter",href:"https://twitter.com/yandexmaps"},{type:"instagram",href:"https://www.instagram.com/yandex.maps/"}],R=i.b(function(e){return{config:e.config,absoluteUrl:d.a(Object(o.a)(e),e.config)}},T),j=Object(l.a)("card-footer-view"),I=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._openBookmarks=function(){var e=t.props;e.checkAuthorization("favorites",function(){e.openBookmarksPanel({force:!0})})},t._openTraffic=function(){t.props.enableTrafficLayer()},t._getFooterActions=function(){var e=t.props;return{absoluteUrl:e.absoluteUrl,openBookmarks:t._openBookmarks,openRoutePanel:e.openRoutePanel,openTrafficPanel:t._openTraffic,addOrganization:e.openBusinessFeedback,reportMistake:e.openCommonFeedback}},t._renderActionLink=function(e){return a.createElement(h.a,{name:"link",logClick:!0,nodeState:{text:e.text,"with-action":!0}},a.createElement("div",{className:j("link"),onClick:e.action},e.text))},t._renderUrlLink=function(e){return a.createElement(h.a,{name:"link",logClick:!0,nodeState:{text:e.text}},a.createElement("a",{className:j("link"),href:e.url,target:"_blank"},e.text))},t._renderLink=function(e,n){return a.createElement("div",{className:j("link-wrap"),key:n},"action"in e?t._renderActionLink(e):t._renderUrlLink(e))},t._renderWideSection=function(e,n){return a.createElement("div",{className:j("column"),key:n},a.createElement("div",{className:j("column-header")},e.header),e.links.map(t._renderLink))},t._renderWideTop=function(){var e,n,r,i=t.props,o=t._getFooterActions();return a.createElement("div",{className:j("top")},a.createElement("div",{className:j("bold-column")},function(e,t){return[{text:"Сообщить об ошибке",action:e.reportMistake},{text:"Справка",url:t.feedback.helpUrl+"?lang="+t.lang}].filter(P)}(o,i.config).map(t._renderLink)),a.createElement("div",{className:j("columns-general")},a.createElement("div",{className:j("columns")},x(o,i.config).map(t._renderWideSection)),a.createElement("div",{className:j("column-rest")},(e=i.config,[{text:"О сервисе",url:e.feedback.helpUrl},{text:"Пользовательское соглашение",url:null===(n=e.hosts.mapsUserAgreement)||void 0===n?void 0:n.replace("{{lang}}",e.lang)},{text:"Мобильное приложение",url:null===(r=e.mobile)||void 0===r?void 0:r.url}].filter(P)).map(t._renderLink))))},t._renderWideBottom=function(){var e=t.props.getToday().getFullYear();return a.createElement("div",{className:j("bottom")},a.createElement("div",{className:j("social-links")},a.createElement(w,{links:O})),a.createElement(h.a,{name:"disclaimer",logViewportEnter:"when appears on screen"},a.createElement("div",{className:j("disclaimer-info")},a.createElement("div",{className:j("disclaimer")},"Яндекс.Карты — выбирайте, где поесть, куда сходить, чем заняться."),a.createElement("div",null,(function(params){return "© 2001–"+params.current+" ООО «Яндекс»";})({current:e})),t._renderExtraBottom())))},t._renderExtraBottom=function(){var e=t.props.renderExtraBottom;return e?a.createElement("div",{className:j("extra-bottom")},e()):null},t._renderWide=function(){return a.createElement(a.Fragment,null,t._renderWideTop(),t._renderWideBottom())},t._renderNarrowDropdown=function(e,n){return a.createElement(S.a,{size:"small",className:j("dropdown"),iconUrl:null,content:a.createElement("div",{className:j("section-items")},e.links.map(t._renderLink)),delimiter:null,hideCardBorder:!0,isInitiallyExpanded:t.props.config.uatraits.isRobot,key:n},e.header)},t._renderNarrow=function(){var e,n,r=t.props,i=t._getFooterActions(),o=t.props.getToday().getFullYear();return a.createElement(a.Fragment,null,a.createElement("div",{className:j("top",{narrow:!0})},a.createElement("div",{className:j("bold")},function(e,t){var n;return[{text:"Сообщить об ошибке",action:e.reportMistake},{text:"Мобильное приложение",url:null===(n=t.mobile)||void 0===n?void 0:n.url}].filter(P)}(i,r.config).map(t._renderLink)),x(i,r.config).map(t._renderNarrowDropdown)),a.createElement("div",{className:j("social-links")},a.createElement(w,{links:O,dark:!0})),a.createElement("div",{className:j("disclaimer-info")},a.createElement("div",{className:j("disclaimer")},"Яндекс.Карты — выбирайте, где поесть, куда сходить, чем заняться."),a.createElement("div",null,(function(params){return "© 2001–"+params.current+" ООО «Яндекс»";})({current:o})),a.createElement("div",{className:j("bottom-links")},(e=r.config,[{text:"Справка",url:e.feedback.helpUrl+"?lang="+e.lang},{text:"О сервисе",url:e.feedback.helpUrl},{text:"Пользовательское соглашение",url:null===(n=e.hosts.mapsUserAgreement)||void 0===n?void 0:n.replace("{{lang}}",e.lang)}].filter(P)).map(t._renderLink))))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(h.a,{name:"footer"},a.createElement("div",{className:j({wide:e.wide})},e.wide?this._renderWide():this._renderNarrow()))},t}(a.PureComponent);function x(e,t){return[{header:"Сервисы",links:[{text:"Маршруты",action:e.openRoutePanel},{text:"Пробки",action:e.openTrafficPanel},{text:"Редактор Яндекс.Карт",url:t.hosts.nmaps},{text:"Схема Метро",url:t.hosts.metro},{text:"Создать карту",url:t.hosts.constructor},{text:"API Карт",url:t.apiManual.url}].filter(P)},{header:"Персональное",links:[{text:"Закладки",action:e.openBookmarks},{text:"Мои отзывы",url:t.ugcCabinet?t.ugcCabinet.url+"?utm_source=maps":void 0},{text:"Мои карты",url:t.hosts.constructor},{text:"Настройки",url:t.morda.url+"/tune/?"+c.a.stringify({retpath:e.absoluteUrl})}].filter(P)},{header:"Для бизнеса",links:[{text:"Личный кабинет",url:t.advert.sprav.url},{text:"Реклама в Картах",url:t.advertLandingUrl?t.advertLandingUrl+"?utm_source=webmaps&utm_medium=gp_label&utm_campaign=orgpage_label":void 0},{text:"Добавить свою организацию",action:e.addOrganization},{text:"Стать автором",url:t.becomeAuthorUrl}].filter(P)}]}function P(e){return"url"in e?Boolean(e.url):"action"in e&&Boolean(e.action)}t.default=Object(u.b)(R(I))},235:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(24);function a(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=t||{},i=Object(r.a)(e,n).getTime(),o=Object(r.a)(a.start,n).getTime(),s=Object(r.a)(a.end,n).getTime();if(!(o<=s))throw new RangeError("Invalid interval");return i>=o&&i<=s}},236:function(e,t,n){},239:function(e,t,n){},241:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("masstransit-bookmarks").then(n.bind(null,568))},{initMasstransitManager:!0,addStop:!0,addLine:!0,removeStop:!0,removeLine:!0,setHighlightedStopId:!0})},242:function(e,t,n){},244:function(e,t,n){"use strict";var r=n(6),a=n(4),i=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._fetchUrl=function(){var e=t.props.url;if(e){var n=window.document.createElement("img");n.setAttribute("src",e),window.document.body.appendChild(n),n.addEventListener("load",r),n.addEventListener("error",r)}function r(){window.document.body.removeChild(n),n.removeEventListener("load",r),n.removeEventListener("error",r)}},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetchUrl()},n.componentDidUpdate=function(e){e.url!==this.props.url&&this._fetchUrl()},n.render=function(){return null},t}(a.PureComponent);t.a=i},245:function(e,t,n){},250:function(e,t,n){"use strict";var r=n(406);var a=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1};var i=function(e){return e!=e};var o=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1};var s=function(e,t,n){return t==t?o(e,t,n):a(e,i,n)};var c=function(e,t){return!!(null==e?0:e.length)&&s(e,t,0)>-1};var l=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1},u=n(349),d=n(348);var p=function(){},m=n(196),f=d.a&&1/Object(m.a)(new d.a([,-0]))[1]==1/0?function(e){return new d.a(e)}:p,v=200;t.a=function(e,t,n){var a=-1,i=c,o=e.length,s=!0,d=[],p=d;if(n)s=!1,i=l;else if(o>=v){var h=t?null:f(e);if(h)return Object(m.a)(h);s=!1,i=u.a,p=new r.a}else p=t?[]:d;e:for(;++a<o;){var g=e[a],_=t?t(g):g;if(g=n||0!==g?g:0,s&&_==_){for(var E=p.length;E--;)if(p[E]===_)continue e;t&&p.push(_),d.push(g)}else i(p,_,n)||(p!==d&&p.push(_),d.push(g))}return d}},257:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(98);function a(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(r.a)(e,n),i=Object(r.a)(t,n);return a.getTime()===i.getTime()}},258:function(e,t,n){"use strict";var r={setLayer:function(e){return function(t,n){t({type:"DEEP_EXTEND",payload:e?{parking:{isLayerShown:n().parking.isLayerEnabled},traffic:{isLayerEnabled:!1},panoramas:{isLayerEnabled:!1},photos:{isLayerEnabled:!1},mrc:{isLayerEnabled:!1}}:{parking:{isLayerShown:!1}}})}},toggleLayer:function(){return function(e,t){if(t().parking.isLayerShown)return e(r.setLayer(!1));e(r.setLayer(!0))}},updateLayerAvailability:function(e){return{type:"DEEP_EXTEND",payload:{parking:e}}}};t.a=r},259:function(e,t,n){"use strict";var r=n(6),a=(n(355),n(4)),i=n(12),o=n(7),s=n(220),c=n(8),l=n(123),u=n(133),d={setLoadingPanorama:s.a.setLoadingPanorama},p=Object(o.a)("panorama-thumbnail-view"),m=i.b(function(e){return{config:e.config}},d),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e,n;!1!==t.props.isInteractive&&(t.props.setLoadingPanorama({id:t.props.panorama.id,direction:t.props.panorama.direction}),null===(e=(n=t.props).onClick)||void 0===e||e.call(n))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(c.a,{name:"panorama",metrikaGoal:"goal_deepuse",logClick:!0},a.createElement("div",{className:p({view:e.view}),onClick:this._onClick},a.createElement(u.a,{src:e.panorama.preview,alt:e.panorama.alt,backgroundSize:"cover",renderImmediately:!0}),e.renderLabel?e.renderLabel():a.createElement("div",{className:p("label")},"preview"===e.view?"Панорама":""),a.createElement(l.a,{chunk:"panoramas"})))},t}(a.Component);t.a=m(f)},261:function(e,t,n){"use strict";n(276);var r=n(4),a=n(7),i=n(8),o=n(11),s=n(38),c=Object(a.a)("card-banner-view");t.a=function(e){if(!e.href&&!e.onClick)return null;var t=r.createElement(r.Fragment,null,e.iconUrl?r.createElement(o.a,{className:c("icon"),url:e.iconUrl}):e.icon||null,r.createElement("div",{className:c("text"),dangerouslySetInnerHTML:{__html:e.text}}),r.createElement("div",{className:c("button")},e.buttonContent));return r.createElement(i.a,{name:"card_promo",subtreeState:{id:e.id},logClick:!0},r.createElement("div",{className:c({view:e.view,size:e.size})},e.onClick?r.createElement(s.a,{className:c("banner"),onLeftClick:e.onClick,href:e.href},t):r.createElement("a",{className:c("banner"),href:e.href,target:"_blank"},t)))}},262:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(12),o={openMobileAppShare:n(188).a.open},s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e=t.props;e.openMobileAppShare(e.openOptions)},t}return Object(r.a)(t,e),t.prototype.render=function(){return this.props.children({onClick:this._onClick})},t}(a.PureComponent);t.a=i.b(null,o)(s)},2620:function(e,t,n){},2622:function(e,t,n){e.exports=n.p+"_/b1e8d602fb38a983e7b7c7188f0cfd51.svg"},263:function(e,t,n){"use strict";var r=n(6),a=(n(278),n(4)),i=n(7),o=n(52),s=n(8),c=n(111),l=Object(i.a)("dropdown-view"),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._content=null,t._show=function(){t._animateContent("EXPAND")},t._hide=function(){t._animateContent("COLLAPSE")},t._animateContent=function(e){if(t._content){var n=t._content,r="EXPAND"===e?0:n.offsetHeight,a="EXPAND"===e?n.offsetHeight:0;n.style[Object(c.b)().styles.transition]="max-height 0.15s ease-in-out",n.style.maxHeight=r+"px",n.getBoundingClientRect(),n.style.maxHeight=a+"px"}},t._onTransitionEnd=function(e){e.target===t._content&&t._content&&(t._content.style[Object(c.b)().styles.transition]="",t._content.style.maxHeight="",t.props.onTransitionEnd&&t.props.onTransitionEnd())},t._renderContent=function(){var e=t.props;return e.isExpanded?a.createElement(s.a,{name:"content"},a.createElement("div",{className:l("content"),ref:function(e){return t._content=e},onTransitionEnd:t._onTransitionEnd},e.children)):null},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement("div",{className:l()},a.createElement(o.a,{onShow:this._show,onHideStart:this._hide},this._renderContent()))},t}(a.Component);t.a=u},264:function(e,t,n){"use strict";var r=n(6),a=(n(296),n(4)),i=n(12),o=n(23),s=n(189),c=n(7),l=n(8),u=n(38),d=n(91),p=n(109),m=Object(c.a)("breadcrumbs-view"),f={openCategory:d.a.openCategory,openCatalog:s.a.openCatalog,hideLayers:o.a.hideLayers,showMasstransitHomePanel:p.a.resetStackAndShowHomePanel,showMasstransitTransportList:p.a.resetStackAndShowTransportList,search:d.a.search,searchChain:d.a.searchChain,openHomePanel:o.a.openHomePanel},v=i.b(null,f),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onBreadcrumbClick=function(e){"category"===e.type?t.props.openCategory(e.category):"chain"===e.type?t._showChain(e):"region"===e.type?t._showRegion(e):"root"===e.type?t.props.hideLayers():"search"===e.type?t._searchFor(e.name):"masstransit-home"===e.type?t.props.showMasstransitHomePanel():"masstransit-list"===e.type?t.props.showMasstransitTransportList(e.vehicleType):"catalog"===e.type&&t.props.openCatalog(e.region)},t._searchFor=function(e){t.props.search({searchType:"TEXT",text:e,origin:"category"},{stackAction:"push"})},t._showChain=function(e){var n=e.chain;t.props.searchChain({chain:n,center:n.center})},t._showRegion=function(e){var n=e.region;t.props.openHomePanel({center:n.center,zoom:n.zoom})},t._renderBreadcrumb=function(e,n){return e.currentPage?null:a.createElement(a.Fragment,{key:e.url},0===n?null:a.createElement("span",{className:m("delimiter")}," • "),a.createElement(l.a,{name:"item",logClick:!0,nodeState:{url:e.url,text:e.name}},a.createElement(u.a,{className:m("breadcrumb"),href:e.url,title:e.name,onLeftClick:function(){return t._onBreadcrumbClick(e)}},e.name)))},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(l.a,{name:"breadcrumbs"},a.createElement("div",{className:m()},this.props.breadcrumbs.map(this._renderBreadcrumb)))},t}(a.PureComponent);t.a=v(h)},2682:function(e,t,n){},2684:function(e,t,n){e.exports=n.p+"_/281bcb5fd5daa72f62bf7b9e5ec6e077.svg"},27:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(119),a=Object(r.a)("wideCard",!1,function(e){return{isWideCard:e}}),i=a.connect,o=a.Provider;t.b=i},2752:function(e,t,n){"use strict";var r=n(6),a=(n(1961),n(4)),i=n(2779),o=n(1910),s=n(7),c=n(9),l=n(27),u=n(8),d=n(11),p=n(29),m=n(10),f=(n(1963),n(16)),v=n(21),h=n(15),g=n(38),_=Object(s.a)("orgpage-categories-info-view"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderCategory=function(e){var n=t.props,r=n.result.region,o=r&&(function(params){return params.category+" "+params.preposition+" "+params.prepositional;})(Object(m.a)({category:e.name},r.names)),s=r&&v.e(e,r,n.config);return a.createElement(u.a,{key:e.name,name:"category",nodeState:{name:e.name},logClick:!0},a.createElement(g.a,{className:_("link"),title:o&&Object(i.a)(o),href:f.m(n.config)?void 0:s,onLeftClick:function(){var t;return null===(t=n.onCategoryClick)||void 0===t?void 0:t.call(n,e)}},a.createElement("div",{className:_("item")},a.createElement(h.a,{view:"secondary-gray",size:"small"},Object(i.a)(e.name)))))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.result.categories;return e?a.createElement(u.a,{name:"categories",nodeState:{categories:e.map(function(e){return e.seoname}).join(", ")}},a.createElement("div",null,e.map(this._renderCategory))):null},t}(a.PureComponent),b=Object(c.b)(E),k=(n(1965),n(88)),y=Object(s.a)("features-cut-view"),C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._contentNode=a.createRef(),n._updateHeight=function(){var e=n.state,t=n._contentNode.current;if(t){var r=t.scrollHeight;n.setState({cutHeight:e.cutHeight?e.cutHeight:r,fullHeight:e.cutHeight?r:e.fullHeight,isAnimated:Boolean(e.cutHeight)})}},n._onToggleClick=function(){n.setState({isExpanded:!n.state.isExpanded},n._updateHeight)},n._renderExpandLink=function(){var e=n.state;return a.createElement(u.a,{name:"expand",nodeState:{expanded:e.isExpanded},logClick:!0},a.createElement("span",{className:y("expand"),onClick:n._onToggleClick},e.isExpanded?"Свернуть":"Развернуть",a.createElement(k.a,{isFlipped:e.isExpanded})))},n.state={cut:t.features.length>t.maxElements,isExpanded:!1,isAnimated:!1,cutHeight:0,fullHeight:t.features.length>t.maxElements?0:void 0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateHeight()},n.render=function(){var e=this.props,t=this.state,n=t.cut&&!t.cutHeight?e.features.slice(0,e.maxElements):e.features,r=t.cut&&!t.isExpanded?t.cutHeight:t.fullHeight;return a.createElement("div",{className:y()},a.createElement("div",{className:y("wrap",{animated:t.isAnimated}),style:{maxHeight:r}},a.createElement("div",{ref:this._contentNode},e.renderFeatures(n),t.cut&&!t.isExpanded?a.createElement("div",{className:y("fade")}):null)),t.cut?this._renderExpandLink():null)},t}(a.Component),w=(n(1967),n(85)),S=Object(s.a)("cut-view"),N=50,T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._contentNode=a.createRef(),n._updateHeight=function(){var e=n.props,t=n._contentNode.current;if(t){var r=t.scrollHeight,a=!!e.height&&r-e.height>N;n.setState({cut:a,cutHeight:a?r:void 0})}},n._onToggleClick=function(){n.setState({isExpanded:!n.state.isExpanded})},n._renderExpandLink=function(){var e=n.state;return a.createElement(u.a,{name:"expand",nodeState:{expanded:e.isExpanded},logClick:!0},a.createElement("span",{className:S("expand"),onClick:n._onToggleClick},e.isExpanded?"Свернуть":"Развернуть",a.createElement(k.a,{isFlipped:e.isExpanded})))},n.state={cut:!1,isExpanded:!1,cutHeight:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateHeight()},n.componentDidUpdate=function(e){var t=this.props;t.height===e.height&&t.threshold===e.threshold||this._updateHeight()},n.render=function(){var e=this.props,t=this.state,n=!t.cut||t.isExpanded?t.cutHeight:e.height;return e.height?a.createElement("div",{className:S()},a.createElement("div",{className:S("wrap"),style:{maxHeight:n}},a.createElement("div",{ref:this._contentNode},e.children,t.cut&&!t.isExpanded?a.createElement("div",{className:S("fade")}):null,a.createElement(w.a,{onResize:this._updateHeight}))),t.cut?this._renderExpandLink():null):e.children},t}(a.Component),O=n(28),R=n(90),j=n(1969),I=n.n(j),x=n(1970),P=n.n(x),A=n(1971),B=n.n(A),M=n(1972),L=n.n(M),D={wi_fi:P.a,payment_by_credit_card:B.a},U=4,F=3,z=5,q=2,W=36,H=328,V=9,G=4,X=Object(s.a)("business-features-view"),Q=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getFeatures=function(){var e=t.props,n=(e.result.features||[]).filter(function(e){return e.name}),r="tab"===e.view||e.isOrgpage?n:n.filter(function(e){return e.important}),a=e.isOrgpage?V:U,i=r.filter(function(e){return"bool"===e.type}).slice(0,"tab"===e.view?void 0:a),o=i.filter(function(e){return D[e.id]}),s=i.filter(function(e){return!D[e.id]}),c=e.isOrgpage?G:Math.min(z-i.length,F),l=r.filter(function(e){return["enum","text"].includes(e.type)}).slice(0,"tab"===e.view?void 0:c);return{bool:o.concat(s),valued:l}},t._renderCategories=function(){var e=t.props;return a.createElement(b,{result:e.result,onCategoryClick:e.onCategoryClick})},t._renderBooleanFeature=function(e){var t=D[e.id];return a.createElement("div",{className:X("bool-item"),key:e.id},a.createElement("div",{className:X("bool")},a.createElement("div",{className:X("bool-icon",{defined:Boolean(t)})},a.createElement(d.a,{url:t||L.a})),a.createElement("div",{className:X("bool-text")},Object(i.a)(e.name))))},t._renderBooleanList=function(e){return a.createElement(u.a,{name:"boolean"},a.createElement("div",{className:X("bool-list")},"tab"===t.props.view||t.props.isOrgpage?e.map(t._renderBooleanFeature):Object(o.a)(e,q).map(function(e,n){return a.createElement("div",{className:X("bool-line"),key:n},e.map(t._renderBooleanFeature))})))},t._renderValuedFeature=function(e){if(!e.name)return null;var t="enum"===e.type?e.value.map(function(e){return e.name}).join(", "):e.value;return a.createElement("div",{className:X("valued"),key:e.id},a.createElement("div",{className:X("valued-content")},a.createElement("span",{className:X("valued-title")},Object(i.a)(e.name),":"),a.createElement("span",{className:X("valued-value")},t)))},t._renderValuedList=function(e){return a.createElement(u.a,{name:"enum"},a.createElement("div",{className:X("valued-list")},e.map(t._renderValuedFeature)))},t._renderMoreInfoButton=function(){var e=t.props;return"tab"===e.view||e.hideMoreInfo?null:a.createElement(u.a,{name:"more_info",metrikaGoal:"deepuse",logClick:!0},a.createElement(p.a,{className:X("more-info",{noprint:!0}),view:"link",iconUrl:I.a,onClick:e.onMoreInfoClick},a.createElement(g.a,{href:Object(v.t)("features",t.props.result.id,t.props.config,t.props.isOrgpage)},"Подробнее об организации")))},t._renderMeta=function(){var e=t.props,n=(e.result.features||[]).find(function(e){return"average_bill2"===e.id});if(!n)return null;var r="enum"===n.type?n.value.map(function(e){return e.name}):n.value,i=a.createElement("meta",{itemProp:"priceRange",content:String(r)});return e.config.uatraits.isRobot?i:a.createElement(O.a,{selector:".business-card-view"},i)},t._renderOverview=function(e,n){return a.createElement(a.Fragment,null,e.length>0?t._renderBooleanList(e):null,n.length>0?t._renderValuedList(n):null)},t._renderTab=function(e,n){return a.createElement(a.Fragment,null,e.length>0?a.createElement(C,{maxElements:W,features:e,renderFeatures:t._renderBooleanList}):null,e.length>0&&n.length>0?a.createElement("div",{className:X("separator")}):null,n.length>0?a.createElement(T,{height:H},t._renderValuedList(n)):null)},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result,n=this._getFeatures(),r=n.bool,i=n.valued,o=t.categories||[],s="overview"===e.view&&o.length>0,c=this._renderMoreInfoButton();return 0!==i.length||0!==r.length||s||c?a.createElement("div",{className:X({wide:e.isWideCard,view:e.view,orgpage:e.isOrgpage})},(r.length>0||i.length>0||e.isWideCard&&s)&&"overview"===e.view?a.createElement(R.a,{type:"h2",mediumBottomGutter:!e.isWideCard},"Особенности"):null,e.isWideCard?this._renderCategories():null,a.createElement(u.a,{name:"features"},"overview"===e.view?this._renderOverview(r,i):this._renderTab(r,i)),c,this._renderMeta()):this._renderMeta()},t}(a.Component);t.a=Object(c.b)(Object(l.b)(Q))},2754:function(e,t,n){"use strict";var r=n(6),a=(n(1979),n(4)),i=n(12),o=n(7),s=n(17),c=n(9),l=n(27),u=n(8),d=(n(1981),n(36)),p=n(32),m=n(47),f=n(11),v=Object(o.a)("business-post-card-view"),h=Object(c.b)(function(e){var t=e.post,n=d.d({type:"service",name:"like",size:"small"},e.config),r=p.a(new Date(t.publicationTime),0);return a.createElement("div",{className:v()},a.createElement("div",{className:v("header")},Object(m.b)(r,e.config)),a.createElement("div",{className:v("content")},a.createElement("div",{className:v("text")},t.text),t.photos.length>0?a.createElement("div",{className:v("photo"),style:{backgroundImage:"url("+t.photos[0].urlTemplate.replace("%s","M")+")"}}):null),a.createElement(u.a,{name:"likes_count",logClick:!0},a.createElement("div",{className:v("likes",{liked:t.like})},a.createElement(f.a,{url:n}),a.createElement("span",{className:v("likes-count")},t.likes))))}),g=n(35),_=(n(1983),n(133)),E=Object(o.a)("add-post-view"),b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement("div",{className:E()},a.createElement("div",{className:E("logo")},e.logoUrl?a.createElement(_.a,{src:e.logoUrl.replace("%s","S"),backgroundSize:"contain",renderImmediately:!0}):null),a.createElement("div",{className:E("link")},e.link))},t}(a.Component),k=n(806),y=n(90),C=Object(o.a)("business-posts-card-view"),w=Object(s.a)(i.b(function(e,t){var n;return{postItems:null===(n=t.posts)||void 0===n?void 0:n.items.map(function(t){return e.posts.byId[t.id]||t})}}),c.b,l.b),S=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._openPostDialog=function(e){t.props.onPostClick(e.id)},t._openPostsListDialog=function(){t.props.onPostClick()},t._renderPost=function(e){return a.createElement(u.a,{name:"business_post",logClick:!0,key:e.id},a.createElement("div",{className:C("item"),onClick:function(){return t._openPostDialog(e)}},a.createElement(h,{post:e})))},t._renderCarousel=function(e){return a.createElement(g.a,{theme:"black",clickStep:2,itemsGap:16,expandWidth:{left:80,right:80}},e.map(t._renderPost))},t._renderButton=function(){return a.createElement("div",{className:C("button")},a.createElement(k.a,{onClick:t.props.onCreatePostClick}))},t._renderItems=function(){var e=t.props;return e.postItems?a.createElement("div",{className:C("items")},t.props.isWideCard?t._renderCarousel(e.postItems):t._renderPost(e.postItems[0])):null},t._renderAddPost=function(){var e=t.props;return a.createElement("div",{className:C("add-post")},a.createElement(b,{logoUrl:e.logoUrl,link:a.createElement("div",{onClick:e.onCreatePostClick},"Добавить новость")}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.isWideCard;if(!e.posts&&!e.onCreatePostClick)return null;var n=e.posts&&e.postItems&&(t?e.posts.count>e.postItems.length:e.posts.count>1);return a.createElement("div",{className:C({wide:t})},a.createElement(y.a,{type:"h2",rightContent:n?a.createElement(u.a,{name:"posts_see_all",logClick:!0},a.createElement("div",{className:C("see-all"),onClick:this._openPostsListDialog},"Смотреть все")):null},"Новости"),a.createElement("div",{className:C("content")},e.posts?a.createElement(a.Fragment,null,this._renderItems(),e.onCreatePostClick?this._renderButton():null):e.onCreatePostClick?this._renderAddPost():null))},t}(a.Component);t.a=w(S)},276:function(e,t,n){},2772:function(e,t,n){"use strict";var r=n(6),a=(n(2121),n(4)),i=n(8),o=n(7),s=n(9),c=n(29),l=n(90),u=(n(2123),n(12)),d=n(38),p=n(17),m=n(121),f=n(21),v=Object(o.a)("card-providers-view"),h={openCard:m.a.openCard},g=Object(p.a)(s.b,u.b(null,h))(function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderProvider=function(e){var n,r=e.advert;return a.createElement(i.a,{name:"provider",nodeState:{advertId:null==r?void 0:null===(n=r.id)||void 0===n?void 0:n.toString(),title:e.title},logClick:!0,logViewportEnter:"when 100% visible",key:e.permalink},a.createElement("div",{className:v("provider",{advert:Boolean(r)})},e.icon?a.createElement("img",{className:v("icon"),src:e.icon.url_template}):a.createElement("span",{className:v("icon-placeholder")}),a.createElement("div",{className:v("labels")},t._renderProviderTitle(e),(null==r?void 0:r.text)?a.createElement("div",{className:v("description")},(function(params){return params.text+" Реклама.";})({text:r.text})):null),(null==r?void 0:r.min_price)?a.createElement("div",{className:v("price")},(function(params){return "от "+params.price;})({price:r.min_price.text})):null))},t._renderProviderTitle=function(e){var n=t.props,r=e.permalink?String(e.permalink):void 0;return e.url||!r?a.createElement("a",{href:e.url,target:"_blank",className:v("title",{active:Boolean(e.url)})},e.title):a.createElement(d.a,{className:v("title",{active:!0}),href:f.c({id:r},void 0,n.config),onLeftClick:function(){return n.openCard({from:"search",id:r},{stackAction:"push"})}},e.title)},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.providers,t=e.filter(function(e){return Boolean(e.advert)}),n=e.filter(function(e){return!e.advert});return a.createElement(i.a,{name:"providers"},a.createElement("div",{className:v()},t.map(this._renderProvider),t.length>0&&n.length>0?a.createElement("div",{className:v("separator")}):null,n.map(this._renderProvider)))},t}(a.Component)),_=Object(o.a)("card-providers-snippet-view"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderExpandButton=function(){return a.createElement(i.a,{name:"expand",logClick:!0},a.createElement("div",{className:_("expand")},a.createElement(c.a,{iconUrl:null,onClick:function(){return t.props.onClick()},view:"link"},"Все провайдеры")))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.providers,t=this.props.visibleItemsCount,n=e.filter(function(e){return Boolean(e.advert)}),r=e.filter(function(e){return!e.advert}),o=r.length>t,s=r.slice(0,o?t-1:t);return a.createElement(i.a,{name:"providers_snippet"},a.createElement("div",{className:_()},a.createElement(l.a,{type:"h2"},"Провайдеры в доме"),a.createElement("div",{className:_("providers")},a.createElement(g,{providers:[].concat(n,s)})),o?this._renderExpandButton():null))},t}(a.Component);t.a=Object(s.b)(E)},278:function(e,t,n){},2782:function(e,t,n){"use strict";var r=n(6),a=(n(1957),n(4)),i=n(7),o=n(8),s=(n(1959),Object(i.a)("disclaimers-view")),c=function(e){var t=e.disclaimers;return 0===t.length?null:a.createElement("div",{className:s()},t.map(function(e,t){return a.createElement("div",{className:s("disclaimer"),key:t},e)}))},l=n(426),u=Object(i.a)("business-advert-view"),d=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=t.text,r=t.disclaimers,i=t.title,s=t.url,d=e.advertBadgeUTMs,p=s?"a":"div";return a.createElement(o.a,{name:"advert",logClick:!0},a.createElement("div",{className:u()},i?a.createElement(p,{className:u("title",{link:Boolean(s)}),href:s,target:"_blank"},i):null,a.createElement("div",{className:u("text")},n),r?a.createElement(c,{disclaimers:r}):null,a.createElement("div",{className:u("badge")},a.createElement(l.a,{utms:d}))))},t}(a.Component);t.a=d},280:function(e,t,n){},282:function(e,t,n){"use strict";var r=n(6),a=n(283),i=n.n(a),o=n(4),s=n.n(o),c=n(178),l=n(9),u=n(223),d=n(8),p=n(7),m=n(20),f=Object(m.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,144))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 144}},{ssr:!1}),v=Object(p.a)("banner-wrapper-view"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._bannerContainerRef=o.createRef(),n._timerId=-1,n._collectStyles=function(e){var t=Object(c.d)(e.emptyBannerStyle)+Object(c.d)(e.containersStyle);return e.slots.forEach(function(e){t+=Object(c.d)(n._getSlotStyleSet(e))}),t},n._getSlotStyleSet=function(e){var t=n.props.bannerFirst;return"banner"===e.type?t?e.beforeChildrenStyle:e.afterChildrenStyle:"children"===e.type?t?e.afterBannerStyle:e.beforeBannerStyle:e.style},n._renderBanner=function(){var e=n.props;return o.createElement(d.a,{name:"banner",nodeState:{isBlocked:n.state.isBlocked}},o.createElement(f,{id:e.bannerId,fallback:e.fallback,fallbackDirect:e.fallbackDirect,fallbackView:e.fallbackView}))},n._renderSlot=function(e){var t=n.props,r=n._getSlotStyleSet(e);return"banner"===e.type?o.createElement("div",{key:r.selector,className:r.selector,style:t.bannerStyle,ref:n._bannerContainerRef},n._renderBanner()):"children"===e.type?o.createElement("div",{key:r.selector,className:r.selector},t.children):o.createElement("div",{key:r.selector,className:r.selector},o.createElement("div",{className:e.childrenClassNames[0]},o.createElement("div",{className:e.childrenClassNames[1]}),o.createElement("div",{className:e.childrenClassNames[2]})))},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._timerId=window.setTimeout(function(){var t,n;(null===(t=e._bannerContainerRef.current)||void 0===t?void 0:null===(n=t.style)||void 0===n?void 0:n.cssText)&&e.setState({isBlocked:!0})},5e3)},n.componentWillUnmount=function(){clearTimeout(this._timerId)},n.render=function(){var e=this.props,t=e.config.bannerLayout;if(g()){var n={order:e.bannerFirst?2:0};return o.createElement("div",{className:v("")},o.createElement("div",{className:v("content"),style:n},e.children),o.createElement("div",{className:v("banner")},this._renderBanner()),o.createElement(u.a,{stylesString:Object(c.d)({selector:"banner-wrapper-view__banner",style:""})}))}return o.createElement("div",{className:t.containersStyle.selector},o.createElement(u.a,{stylesString:this._collectStyles(t)}),t.slots.map(this._renderSlot))},t}(o.Component);function g(){return Math.random()==Math.random()}t.a=Object(l.b)(h)},283:function(e,t,n){},29:function(e,t,n){"use strict";var r=n(6),a=(n(171),n(4)),i=n(7),o=n(27),s=n(11),c=n(130),l=n.n(c),u=Object(i.a)("card-feature-view"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderIcon=function(){var e=t.props,n=e.iconUrl;if(null===n)return null;var r=e.iconClassName;return a.createElement("div",{className:u("icon-wrapper",{"no-color":e.keepIconColor})+(r?" "+r:"")},n?a.createElement(s.a,{url:n}):e.icon)},t._renderMain=function(){var e=t.props;return a.createElement("div",{className:u("main")},t._renderIcon(),a.createElement("div",{className:u("content")},e.title?a.createElement("div",{className:u("title")},e.title):null,a.createElement("div",{className:u("main-content")},e.children),e.subcontent?a.createElement("div",{className:u("subcontent")},e.subcontent):null))},t._renderAdditional=function(){var e=t.props;return e.value||e.arrowView?a.createElement("div",{className:u("additional"),onClick:e.onAdditionalClick},e.value?a.createElement("div",{className:u("value")},e.value):null,e.arrowView?a.createElement("div",{className:u("arrow",{view:e.arrowView})},a.createElement(s.a,{url:l.a})):null):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.subcontent,n=e.onClick,r=e.title?"medium":e.size||"large",i=null===e.icon||null===e.iconUrl;return a.createElement("div",{className:u({view:e.view||"normal",size:r,subcontent:Boolean(t),interactive:Boolean(n),"has-title":Boolean(e.title),disabled:e.disabled,"no-icon":i,"no-side-padding":e.noSidePadding||e.isWideCard})+(e.className?" "+e.className:""),onClick:n},a.createElement("div",{className:u("wrapper")},this._renderMain(),this._renderAdditional()),a.createElement("div",{className:u("border",{border:e.border,stretch:e.stretchBorder||i})}))},t}(a.Component);t.a=Object(o.b)(d)},291:function(e,t,n){"use strict";var r=n(6),a=(n(381),n(4)),i=n(7),o=n(15),s=n(173),c=n(413),l=n(80),u=n(53),d=Object(i.a)("select"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onButtonClick=function(){n.setState({isMenuShown:!n.state.isMenuShown,isAnimated:!0}),n.props.onClick&&n.props.onClick()},n._onMenuChange=function(e){var t=n.props;(t.hideMenuOnClick||"check"!==t.mode)&&n.setState({isMenuShown:!1}),t.onChange(e)},n._onClose=function(){n.state.isMenuShown&&n.setState({isMenuShown:!1})},n.state={isMenuShown:!1,isAnimated:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n={shown:t.isMenuShown,position:e.position||"top",stretched:e.isStretched},r=e.checkedItemsToNode||m;return a.createElement(c.a,{callback:this._onClose},a.createElement("div",{className:d(n)},a.createElement(l.a,{handlers:{key:u.a.ESC,callback:this._onClose,allowInEditable:!0}}),a.createElement(o.a,{tick:e.tick||"triangle",checked:e.buttonChecked,flippedTick:t.isMenuShown,tabIndex:e.tabIndex,disabled:e.disabled,view:e.buttonView,size:e.buttonSize,onClick:this._onButtonClick,isStretched:e.isStretched,isTextAlignLeft:e.isTextAlignLeft},r(e.checkedItems,e.groups)),a.createElement("div",{className:d("dropdown",{animated:t.isAnimated,"same-width-as-select":e.isStretched,"align-rigth":e.isMenuAlignRigth}),style:{zIndex:e.zIndex}},a.createElement(s.a,{groups:e.groups,checkedItems:e.checkedItems,disabledItems:e.disabledItems,mode:e.mode||"radio",onChange:this._onMenuChange}))))},t}(a.Component);function m(e,t){var n=t.reduce(function(t,n,r){return[].concat(t,n.items.filter(function(t){return e.includes(t.id)}).map(function(e,t){return 0===r&&0===t?a.createElement(a.Fragment,{key:e.id},e.text):a.createElement(a.Fragment,{key:e.id},", ",e.text)}))},[]);return 0===n.length?"-":n}t.a=p},295:function(e,t,n){"use strict";var r=n(6),a=n(2798),i=n(4),o=n(95),s=function(e){function t(t){var n;return(n=e.call(this,t)||this)._refreshCardTypes=function(){var e=o.c();Object(a.a)(n.state.cardTypes,e)||n.setState({cardTypes:e})},n._updateCardTypes=function(e){n.setState({cardTypes:e}),o.f(e)},n.state={cardTypes:[]},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._refreshCardTypes()},n.componentDidUpdate=function(){this._refreshCardTypes()},n.render=function(){return this.props.children({cardTypes:this.state.cardTypes,updateCardTypes:this._updateCardTypes})},t}(i.Component);t.a=s},296:function(e,t,n){},298:function(e,t,n){"use strict";function r(e){var t=Number(e);return[1,2,3,4,5].includes(t)?t:null}function a(e,t){var n;return null!==(n=e.reviews.businessReviews[t.id])&&void 0!==n?n:function(e,t){var n,r,a,i,o;return{count:t.ratingData.reviewCount,isLoading:!1,items:null!==(n=null===(r=t.reviewResults)||void 0===r?void 0:r.reviews)&&void 0!==n?n:[],selectedTag:null===(a=e.config.query.reviews)||void 0===a?void 0:a.tag,tags:null!==(i=null===(o=t.reviewResults)||void 0===o?void 0:o.tags)&&void 0!==i?i:[],userReview:e.config.authorization?void 0:null}}(e,t)}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},299:function(e,t,n){},301:function(e,t,n){},322:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(194),a=n(232);function i(e){var t=e[0][1],n=[e[1][0]-e[0][0],e[1][1]-t],i=Math.tan(Object(r.a)(t+90)/2),o=Math.tan(Object(r.a)(n[1])/2),s=Math.max((-i*i-i*o)/(i*o-1),0),c=.5*Math.log(s),l=2*(Math.atan(Math.exp(c))-.25*Math.PI);return{center:[(e[0][0]+e[1][0])/2,Object(a.a)(l)],span:n}}},323:function(e,t,n){"use strict";var r=n(180);t.a=function(e){return(null==e?0:e.length)?Object(r.a)(e,1):[]}},326:function(e,t,n){e.exports=n.p+"_/113d4bdd030901e316d83e1a389ed2ad.svg"},330:function(e,t,n){"use strict";var r=n(10),a=n(6),i=n(4),o=n(136),s=1,c={key:void 0,isCollapsed:!0,updaters:[]},l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._textRef=i.createRef(),n._checkSharedState=function(){var e=n.props.sharedKey;e&&(c.key!==e&&(c={key:e,isCollapsed:!0,updaters:[]}),c.updaters.push(n._updateState),n.setState({isCollapsed:c.isCollapsed}))},n._updateState=function(e){n.setState(e)},n._checkIfOverflown=function(){var e=n._textRef.current;if(e){var t=e.scrollHeight-e.offsetHeight;n.setState({isOverflown:t>s})}},n._onButtonClick=function(e){var t="boolean"==typeof e?e:!n.state.isCollapsed;n.setState({isCollapsed:t}),n.props.sharedKey&&(c.isCollapsed=t,c.updaters.forEach(function(e){return e({isCollapsed:t})}))},n._onShowClick=function(){n._onButtonClick(!1)},n.state={isCollapsed:!0,isOverflown:!1},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._checkSharedState(),this._checkIfOverflown()},n.componentDidUpdate=function(){this._checkIfOverflown()},n.componentWillUnmount=function(){var e=this;this.props.sharedKey&&(c.updaters=c.updaters.filter(function(t){return t!==e._updateState}),0===c.updaters.length&&(c.key=void 0))},n.render=function(){var e=this.props,t=this.state;return i.createElement(i.Fragment,null,e.children(Object(r.a)(Object(r.a)({},t),{},{ref:this._textRef})),e.renderButton(Object(r.a)(Object(r.a)({},t),{},{onClick:this._onButtonClick,onShowClick:this._onShowClick})),i.createElement(o.a,{listener:this._checkIfOverflown}))},t}(i.PureComponent);t.a=l},331:function(e,t,n){"use strict";var r=n(6),a=(n(796),n(4)),i=n(7),o=n(9),s=n(40),c=n(72),l=n(102),u=n.n(l),d=Object(i.a)("business-dialog-view"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClick=function(){n.setState({isVisible:!0})},n._onClose=function(){n.setState({isVisible:!1})},n._renderDialog=function(){var e=n.props;return a.createElement(s.default,{isOpen:n.state.isVisible,onClose:n._onClose,showCloseButton:!0},a.createElement("div",{className:d("dialog")},a.createElement("div",{className:d("title")},e.title),a.createElement("div",{className:d("content")},e.content)))},n._renderActionsMenu=function(){var e=n.props;return a.createElement(u.a,{isShown:n.state.isVisible,swipeable:!0,onClose:n._onClose},a.createElement(c.a,{title:e.title,onClose:n._onClose,showBorder:!0,view:"tall"}),a.createElement("div",{className:d("content")},e.content))},n.state={isVisible:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this._renderDialog;return a.createElement(a.Fragment,null,this.props.children({isVisible:this.state.isVisible,onClick:this._onClick}),e())},t}(a.PureComponent);t.a=Object(o.b)(p)},332:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("search").then(n.bind(null,943))},{toggle:!0,close:!0})},333:function(e,t,n){"use strict";var r=n(41),a=(n(398),n(4)),i=n(7),o=n(8),s=n(123),c=n(133),l=Object(i.a)("photos-thumbnail-view");t.a=function(e){var t=e.size,n=void 0===t?"S":t,i=e.hideLabel,u=void 0!==i&&i,d=Object(r.a)(e,["size","hideLabel"]),p=d.urlTemplate.replace("%s",n),m=Boolean(d.count&&d.onClick);return a.createElement(o.a,{name:"photos",metrikaGoal:"deepuse",logClick:m},a.createElement("div",{className:l({clickable:m,type:d.type}),onClick:m?d.onClick:void 0},a.createElement(c.a,{src:p,backgroundSize:d.contain?"contain":"cover",alt:d.alt,renderImmediately:!0}),d.count&&(!u||d.smallLabel&&1===d.count)?a.createElement("div",{className:l("label",{position:d.labelPosition,small:d.smallLabel})},d.smallLabel?d.count:(function(params){return params.count+" фото";})({count:d.count})):null,d.showAdvertLabel?a.createElement("div",{className:l("notice")},"Реклама"):null,m?a.createElement(s.a,{chunk:"photos"}):null))}},338:function(e,t,n){"use strict";var r=n(6),a=(n(388),n(31)),i=(n(390),n(4)),o=n(7),s=Object(o.a)("expand-button"),c=function(e){var t,n=(2+4*(null!==(t=e.fold)&&void 0!==t?t:0)).toFixed(2);return i.createElement("div",{className:s(),onClick:e.onClick},i.createElement("svg",{viewBox:"0 0 24 8",xmlns:"http://www.w3.org/2000/svg",className:s("dash")},i.createElement("path",{d:"M2 "+n+"L12 2L22 "+n,fill:"none",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})))},l=n(8),u=n(38),d=n(131),p=n(42),m=Object(o.a)("card-title-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderInner=function(e){var n=t.props,r=n.dangerouslySetInnerHTML?i.createElement("span",{dangerouslySetInnerHTML:{__html:e}}):e;return n.onTitleClick?i.createElement(l.a,{name:"title",metrikaGoal:"deepuse",logClick:!0},i.createElement("div",{className:m("title-link")},i.createElement(u.a,{href:n.url,onLeftClick:n.onTitleClick},r)),t._renderBadge()):i.createElement(i.Fragment,null,r,t._renderBadge())},t._renderBadge=function(){var e=t.props.renderBadge;return e?e():null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=i.createElement("div",{className:m("wrapper",{view:e.view})},e.displayTitle&&e.displayTitle!==e.title?i.createElement(i.Fragment,null,i.createElement(d.a,{className:m("hidden-title")},e.title),i.createElement("div",{className:m("title",{truncated:e.truncateTitle}),itemProp:"name"},this._renderInner(e.displayTitle))):i.createElement(d.a,{className:m("title",{truncated:e.truncateTitle}),itemProp:"name"},this._renderInner(e.title)));return i.createElement(i.Fragment,null,i.createElement(p.a,{header:!0,position:"top",order:0,disabled:!e.sticky},e.withShutterControl?i.createElement(c,null):null,e.onClose?i.createElement(a.a,{onClick:e.onClose,offset:"large",circle:!0}):null,t),e.noSubtitle?null:i.createElement("div",{className:m("subtitle",{view:e.view,"no-bottom-padding":e.noBottomPadding})},e.children),e.withBorder?i.createElement("div",{className:m("bottom-border")}):null)},t}(i.Component);t.a=f},340:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(12),o=n(84),s=n.n(o),c=n(2792),l=n(17),u=n(9),d=n(23),p=n(139),m=n(241),f=n(49),v=n(114),h=n(8),g=n(43),_=n(22),E=(n(386),n(7)),b=Object(E.a)("bookmark-error-message-view"),k=function(e){return a.createElement("div",{className:b()},e.text)},y={addBookmark:p.a.addBookmark,removeBookmark:p.a.removeBookmark,initBookmarksManager:p.a.initBookmarksManager,checkAuthorization:d.a.checkAuthorization,initMasstransitManager:m.a.initMasstransitManager,addStop:m.a.addStop,addLine:m.a.addLine,removeStop:m.a.removeStop,removeLine:m.a.removeLine},C=Object(l.a)(i.b(function(e){return{rootFolder:e.bookmarks.rootFolder,actions:e.bookmarks.actions,masstransitActions:e.masstransitBookmarks.actions,stops:e.masstransitBookmarks.stops,lines:e.masstransitBookmarks.lines}},y),u.b),w=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=a.createRef(),n._onMouseEnter=function(){n.setState({justClicked:!1})},n._onClick=function(){var e=n.props,t=n.state.lastActionId,r=N(e.subject)||T(e.subject)?"favoritesMasstransit":"favorites";n.setState({justClicked:!0}),e.checkAuthorization(r,function(){var e=t&&n._getActions()[t];if(!e||!e.inProgress){var r=s.a.v4();n.setState({lastActionId:r});var a=n._findBookmark();a?n._removeBookmark(r,a):n._addBookmark(r)}})},n._getActions=function(){var e=n.props;return N(e.subject)||T(e.subject)?e.masstransitActions:e.actions},n._findBookmark=function(){var e,t=n.props,r=t.subject;if(N(r)){var a=r.data.id;e=t.stops&&t.stops.find(function(e){return e.stopId===a})}else if(T(r)){var i=r.data.lineId;e=t.lines&&t.lines.find(function(e){return e.lineId===i})}else t.rootFolder&&(e=S(r)?v.d(r.data,t.rootFolder):v.c(r.data.uri,t.rootFolder));return e||void 0},n._addBookmark=function(e){var t=n.props,r=t.subject;if(N(r)){var a=r.data;t.addStop({actionId:e,data:{stopId:a.id,coordinates:a.coordinates,title:a.name,transportTypes:a.transports[0]&&a.transports[0].Types}})}else if(T(r)){var i=r.data;t.addLine({actionId:e,data:{lineId:i.lineId,transportTypes:i.Types,title:i.name,uri:i.uri}})}else t.addBookmark({actionId:e,data:{uri:(S(r)?O(r.data):r.data.uri)||"",title:r.data.title||"",description:r.data.description}})},n._removeBookmark=function(e,t){"stopId"in t?n.props.removeStop({actionId:e,recordId:t.recordId}):"lineId"in t?n.props.removeLine({actionId:e,recordId:t.recordId}):n.props.removeBookmark({actionId:e,bookmarkId:t.id})},n._onClosePopup=function(){n.setState({lastActionId:null})},n._renderPopup=function(){var e=n.state,t=e.lastActionId&&n.props.actions[e.lastActionId],r=t&&t.error?["add_bookmark","add_line","add_stop"].includes(t.type)?"add":"remove":void 0;if(!r)return null;var i="add"===r?"Не удалось сохранить закладку.\nПовторите позже.":"Не удалось удалить закладку.\nПовторите позже.",o=n.props.subject;return(N(o)||T(o))&&(i="add"===r?"Не удалось сохранить объект.\nПовторите позже.":"Не удалось удалить объект.\nПовторите позже."),a.createElement(_.a,{position:"bottom",type:"error",getTarget:function(){return n._ref.current},onClose:n._onClosePopup,isShown:!0},a.createElement(k,{text:i}))},n.state={lastActionId:null,justClicked:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;e.config.authorization&&(N(e.subject)||T(e.subject)?e.initMasstransitManager():e.initBookmarksManager())},n.render=function(){var e=this.props,t=this._getActions(),n=this.state,r=Boolean(!e.rootFolder&&e.config.authorization);N(e.subject)?r=Boolean(!e.stops&&e.config.authorization):T(e.subject)&&(r=Boolean(!e.lines&&e.config.authorization));var i,o=this._findBookmark(),s=Boolean(o),c=Boolean(n.lastActionId&&t[n.lastActionId]&&t[n.lastActionId].error);i=r?"Загрузка":s?this.state.justClicked?"Сохранено":"Удалить":"Сохранить";var l=e.subject;return a.createElement(g.a,{text:i,position:"bottom",hideOnClick:!0,isDisabled:T(l)},a.createElement(h.a,{name:"bookmark",nodeState:{uri:N(l)||T(l)?void 0:l.data.uri||f.g(l.data),state:c?"error":o?"saved":"unsaved",type:S(l)?"bookmark":l.type},metrikaGoal:"goal_deepuse",logClick:!0,useParentState:!0},e.children({saved:s,disabled:r,onClick:this._onClick,ref:this._ref,onMouseEnter:this._onMouseEnter})),this._renderPopup())},t}(a.Component);function S(e){return"search"===e.type}function N(e){return"stop"===e.type}function T(e){return"line"===e.type}function O(e){var t=f.g(e),n=e.displayCoordinates;if(n&&"business"!==e.type){var r=e.coordinates;return Object(c.a)(r,n)?t:f.b(n)}return t}t.a=C(w)},35:function(e,t,n){"use strict";var r=n(10),a=n(6),i=(n(63),n(4)),o=n(2800),s=n(2765),c=n(7),l=n(50),u=n(86),d=n(9),p=(n(65),n(8)),m=n(11),f=n(67),v=n.n(f),h=n(68),g=n.n(h),_={l:v.a,m:g.a},E={l:40,m:32},b=Object(c.a)("carousel"),k=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onPrevClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(-1)},t._onNextClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(1)},t._renderButton=function(e){var n;if(!t.props.showButtons[e])return null;var r=t.props,a=r.arrowStyle,o=void 0===a?{}:a,s=r.buttonSize,c=void 0===s?"l":s,l=o.horizontalOffset,u=void 0===l?0:l,d=o.topVerticalOffset,f=E[c]/2,v=void 0!==d,h=v?d-f:0;return i.createElement("div",{className:b("arrow-wrapper",(n={centered:!v},n[e]=!0,n.size=c,n))},i.createElement(p.a,{name:e,logClick:!0,useParentState:!0},i.createElement("div",{className:b("arrow",{size:c}),style:{margin:h+"px "+u+"px"},onClick:"prev"===e?t._onPrevClick:t._onNextClick,onMouseEnter:t.props.onMouseEnter,onMouseLeave:t.props.onMouseLeave},i.createElement(m.a,{className:b("arrow-image"),url:_[c]}))))},t}return Object(a.a)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,this._renderButton("prev"),this._renderButton("next"))},t}(i.Component),y=n(85),C=n(110),w=21,S=Object(c.a)("carousel"),N=function(e){function t(t){var n;return(n=e.call(this,t)||this)._analyticsRef=i.createRef(),n._scrollable=i.createRef(),n._isProgrammaticScroll=!1,n._contentNode=null,n._elementWidth=0,n._insideButton=!1,n._isClickAllowed=!0,n._isSwiping=!1,n._swipeStartScreen=0,n._getCurrentScreen=function(){var e=n._scrollable.current.scrollLeft/(n._elementWidth+n.props.itemsGap),t=n.props.children.length-1;return Math.max(0,Math.min(t,e))},n._onScroll=function(){n.props.snap&&(n._isSwiping?n._checkSwipeEndDebounced():n._onSwipeStart()),n.props.onScroll&&n._scrollable.current&&n.props.onScroll(n._getCurrentScreen(),n._isProgrammaticScroll),n._updateArrowsVisibility()},n._checkSwipeEnd=function(){var e=n._getCurrentScreen();Math.abs(e-Math.round(e))<.03&&n._onSwipeEnd()},n._onSwipeStart=function(){var e,t;(n._isSwiping=!0,n._swipeStartScreen=Math.round(n._getCurrentScreen()),n._isProgrammaticScroll)||(null===(e=(t=n.props).onSwipeStart)||void 0===e||e.call(t))},n._onSwipeEnd=function(){var e,t,r;Math.round(n._getCurrentScreen())===n._swipeStartScreen||n._isProgrammaticScroll||(null===(e=n._analyticsRef.current)||void 0===e||e.logEvent("swipe"));n._isProgrammaticScroll||(null===(t=(r=n.props).onSwipeEnd)||void 0===t||t.call(r));n._isSwiping=!1,n._isProgrammaticScroll=!1},n._setScrollPosition=function(e){if(void 0!==e){var t=e*(n._elementWidth+n.props.itemsGap);n._setOffset(t)}},n._contentRef=function(e){if(n._contentNode=e,e){var t=n.props.padding,r=void 0===t?0:t,a=n.props.expandWidth||{left:0};n._elementWidth=e.children[0].offsetWidth-(r+a.left),setTimeout(n._updateHeight,0)}},n._updateHeight=function(){n._contentNode&&n.setState({height:n._contentNode.clientHeight})},n._updateArrowsVisibility=function(){var e=n._scrollable.current,t=e.scrollLeft,r=e.scrollWidth-e.clientWidth-t,a=n.props.buttonOffset,i=void 0===a?1:a,o=t>i,s=r>i,c=n.state.showButtons;o===c.prev&&s===c.next||(n.setState({showButtons:{prev:o,next:s}}),n._leaveButton())},n._enterButton=function(){n._insideButton=!0,n._isClickAllowed=!1},n._leaveButton=function(){n._insideButton=!1},n._onMouseMove=function(){n._insideButton||n._isClickAllowed||(n._isClickAllowed=!0)},n._checkClick=function(e){n._isClickAllowed||(e.preventDefault(),e.stopPropagation())},n._setOffset=function(e){var t=n._scrollable.current,r=n.state.smoothScroll;t&&(n._isProgrammaticScroll=!0,"scrollBehavior"in document.body.style?t.scrollLeft=e:Object(l.a)({duration:r?350:0,element:t,horizontal:!0,targetPosition:e},n.props.config))},n._setOffsetByDirection=function(e){if(n._scrollable.current){var t=n.props,r=n._elementWidth+t.itemsGap,a=n._scrollable.current.scrollLeft+(t.clickStep||1)*r*e,i=1===e?Math.floor:Math.ceil;n._setOffset(i(a/r)*r)}},n._getScrollableContainerStyles=function(e){var t=n.props,a=n.state,i=Object(r.a)({},t.scrollContainerStyle);t.snap&&!e.has.snapAlign&&(i.scrollSnapPointsX="repeat("+(n._elementWidth+t.itemsGap)+"px)");var o=a.height;return o&&(i.height=o+w,i.paddingBottom=w),i},t.scrollableRef&&(n._scrollable=t.scrollableRef),n.state={showButtons:{prev:!1,next:!0},smoothScroll:!1},n._onScrollThrottled=Object(o.a)(n._onScroll,20),n._checkSwipeEndDebounced=Object(s.a)(n._checkSwipeEnd,200),n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props;t.resetCarouselRef&&t.resetCarouselRef(function(){return e._setOffset(0)}),t.setPositionRef&&t.setPositionRef(function(t){return e._setScrollPosition(t)}),this._scrollable.current.addEventListener("scroll",this._onScrollThrottled,{passive:!0}),this._updateArrowsVisibility(),this._setScrollPosition(t.initialPosition),this.setState({smoothScroll:!t.config.query["no-animation"]})},n.componentDidUpdate=function(e){i.Children.count(e.children)!==i.Children.count(this.props.children)&&this._updateArrowsVisibility()},n.componentWillUnmount=function(){var e=this.props;e.resetCarouselRef&&e.resetCarouselRef(void 0),e.setPositionRef&&e.setPositionRef(void 0),this._scrollable.current.removeEventListener("scroll",this._onScrollThrottled),this._onScrollThrottled.cancel(),this._checkSwipeEndDebounced.cancel()},n.render=function(){var e=this,t=this.props,n=this.state,a=t.expandWidth||{left:0,right:0},o=t.padding||0,s=o+a.left,c=o+a.right,l=i.Children.toArray(t.children).filter(Boolean),d={"old-browsers-workaround":!t.disableOldBrowsersWorkaround,theme:t.theme||"white","show-arrows":"always"===t.showArrows};return i.createElement(p.a,{name:"carousel",useParentState:!0,nodeRef:this._analyticsRef},i.createElement("div",{className:S(d)+(t.className?" "+t.className:""),style:Object(r.a)({height:n.height,marginLeft:-a.left,marginRight:-a.right},t.style),ref:t.forwardedRef},i.createElement(u.a,null,function(r){var a,o;return i.createElement("div",{className:S("scrollable",{snap:t.snap,"smooth-scroll":n.smoothScroll}),style:e._getScrollableContainerStyles(r),ref:e._scrollable,onClickCapture:e._checkClick,onMouseMove:e._onMouseMove},i.createElement("div",{className:S("content"),ref:e._contentRef},l.map(function(e,n){return i.createElement("div",{key:"object"==typeof e&&e&&"key"in e?e.key||void 0:n,className:S("item"),style:{paddingLeft:0===n?s:t.itemsGap,paddingRight:n===l.length-1?c:void 0}},e)}),i.createElement(y.a,{onResize:function(){e._updateHeight(),e._updateArrowsVisibility()}})),null!==(a=null===(o=t.renderInScrollContainer)||void 0===o?void 0:o.call(t))&&void 0!==a?a:null)}),"never"!==t.showArrows?i.createElement(k,{showButtons:n.showButtons,arrowStyle:t.arrowStyle,buttonSize:t.buttonSize,onMouseEnter:this._enterButton,onMouseLeave:this._leaveButton,setOffsetByDirection:this._setOffsetByDirection}):null))},t}(i.Component);t.a=Object(C.a)(Object(d.b)(N))},351:function(e,t,n){"use strict";function r(e){return"businessProperties"in e&&e.businessProperties&&e.businessProperties.level||null}function a(e,t){var n;return t.isVectorEnabled&&"businessProperties"in e&&Boolean(null===(n=e.businessProperties)||void 0===n?void 0:n["indoor-plan-id"])}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},352:function(e,t,n){"use strict";n.d(t,"a",function(){return U}),n.d(t,"b",function(){return F});var r=n(10),a=n(679),i=n.n(a),o=n(680),s=n.n(o),c=n(681),l=n.n(c),u=n(682),d=n.n(u),p=n(683),m=n.n(p),f=n(684),v=n.n(f),h=n(685),g=n.n(h),_=n(686),E=n.n(_),b=n(687),k=n.n(b),y=n(688),C=n.n(y),w=n(689),S=n.n(w),N=n(690),T=n.n(N),O=n(691),R=n.n(O),j=n(692),I=n.n(j),x=n(693),P=n.n(x),A=n(694),B=n.n(A),M=n(695),L=n.n(M),D=[{id:"delivery",text:"Заказать доставку",shortText:"Заказать доставку",expandedText:"Выберите службу доставки",icon:i.a,altIcon:s.a,type:"booking",links:{"#yandex-eda":{icon:i.a,altIcon:s.a,text:"Яндекс.Еда",viaText:"через Яндекс.Еду",urlExtension:"utm_source=ymaps&utm_medium=yp&utm_campaign=rest_card&utm_content=desktop"}}},{id:"exhibits",text:"Посмотреть экспонаты",shortText:"Посмотреть экспонаты",expandedText:"Посмотреть экспонаты",type:"booking",links:{"#goskatalog":{text:"ГОСКАТАЛОГ"}}},{id:"table",text:"Забронировать столик",shortText:"Забронировать",expandedText:"Выберите сервис",icon:v.a,type:"booking",links:{"#afisha-ru-eda":{icon:l.a,text:"Афиша-Рестораны",viaText:"через Афиша-Рестораны",iframe:{width:"620px",height:"680px"}},"#tomesto":{icon:d.a,text:"ТоМесто",viaText:"через ТоМесто"}}},{id:"menu",text:"Посмотреть меню",shortText:"Меню",expandedText:"Меню",icon:m.a,type:"menu",links:{}},{id:"appointment",text:"Записаться онлайн",shortText:"Записаться онлайн",expandedText:"Выберите сервис",icon:v.a,type:"booking",links:{"#yclients":{icon:g.a,text:"YCLIENTS",viaText:"через YCLIENTS",iframe:{width:"500px",height:"calc(100vh - 217px)"}},"#gbooking":{icon:E.a,text:"GBooking",viaText:"через GBooking",iframe:{width:"721px",height:"491px"}},"#bookform":{icon:v.a,text:"Bookform",viaText:"через Bookform",iframe:{width:"1024px",height:"491px"}},"#med_me":{icon:k.a,text:"Med.me",viaText:"через Med.me",iframe:{width:"721px",height:"520px"}},"#docdoc":{icon:C.a,text:"DocDoc",viaText:"через DocDoc"},"#dikidi":{icon:S.a,text:"Dikidi",viaText:"через Dikidi",iframe:{width:"721px",height:"520px"}},"#napopravku":{icon:T.a,text:"Napopravku.ru",viaText:"через Napopravku.ru",iframe:{width:"721px",height:"582px"}},"#universe_soft":{icon:I.a,text:"Universe-Запись",viaText:"через Universe-Запись",iframe:{width:"721px",height:"582px"}},"#fitness1c":{icon:R.a,text:"1С:Салон красоты",viaText:"через 1С:Салон красоты",iframe:{width:"721px",height:"582px"}},"#arnica":{icon:P.a,text:"Арника",viaText:"через Арнику",iframe:{width:"721px",height:"582px"}},"#denta":{icon:L.a,text:"1Дента",viaText:"через 1Дента",iframe:{width:"721px",height:"582px"}},"#klinikon":{icon:B.a,text:"Клиника Онлайн",viaText:"через Клинику Онлайн",iframe:{width:"721px",height:"582px"}}}}];function U(e,t){return"ru"!==t.lang?[]:D.reduce(function(t,n){var a=[];if(n.links&&Object.keys(n.links).length>0)a=Object.keys(n.links).reduce(function(t,a){var i=e.find(function(e){return e.aref===a&&e.type===n.type});return i&&t.push(Object(r.a)(Object(r.a)({},i),n.links[a])),t},[]);else{var i=e.find(function(e){return e.type===n.type});i&&a.push(Object(r.a)(Object(r.a)({},i),{},{icon:n.icon,altIcon:n.altIcon,text:n.text}))}return 0!==a.length&&t.push(Object(r.a)(Object(r.a)({},n),{},{links:a})),t},[])}function F(e,t){return U(e,t).map(function(e){var t=e.links[0];return{text:e.text,icon:e.icon,altIcon:e.altIcon,type:t.type,iframe:t.iframe,href:t.href,urlExtension:t.urlExtension}})}},353:function(e,t,n){},355:function(e,t,n){},381:function(e,t,n){},383:function(e,t,n){"use strict";var r=n(132),a=n(91),i=n(170),o=n(254),s={runPromoAction:function(e,t){return function(n){switch(e.type){case"search":n(a.a.search({origin:t,text:e.searchText,displayText:e.displayText||e.searchText,searchType:"TEXT",rawParams:e.params}));break;case"videoUrl":n(r.a.show({videoUrl:e.url,name:e.name,description:e.description,share:e.share,textSize:"l",origin:t}));break;case"externalLink":window.open(e.href,e.target);break;case"discovery":n(i.a.load(e.id));break;case"covid":e.isolation?n(o.a.openIsolation()):n(o.a.open())}}}};t.a=s},386:function(e,t,n){},388:function(e,t,n){},390:function(e,t,n){},394:function(e,t,n){"use strict";var r=n(4),a=n(30),i=n(49),o=n(8);t.a=function(e){var t=e.result,n=e.position,s=e.nodeRef,c=e.children;return r.createElement(o.a,{name:"result_item",nodeState:{type:a.e(t),gml_id:t.analyticsId,logId:t.logId,position:n,permalink:t.id,uri:i.g(t),reqid:t.requestId,discovery:"collection"===t.type?t.alias:void 0},logClick:!0,nodeRef:s},c)}},395:function(e,t,n){"use strict";var r=n(6),a=(n(521),n(4)),i=n(7),o=n(8),s=n(35),c=Object(i.a)("card-actions-view"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._preventBubbling=function(e){e.stopPropagation(),e.nativeEvent.stopPropagation()},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(o.a,{name:"actions"},a.createElement("div",{className:c()},a.createElement("div",{className:c("bar"),onClick:this._preventBubbling},a.createElement(s.a,{itemsGap:8,buttonSize:"m",padding:16},a.Children.toArray(this.props.children)))))},t}(a.Component);t.a=l},396:function(e,t,n){"use strict";var r=n(13),a=n(4),i=n(96),o=n(9),s=n(523),c=n.n(s);t.a=Object(o.b)(function(e){var t=e.config.experiments.ui.routeButtonPessimisation,n=e.withoutText||"always-icon"===t||"icon-in-mini-card"===t&&e.mini,o=e.withoutIcon||"icon-in-mini-card"===t&&!e.mini,s={text:"Маршрут",icon:c.a};return n?delete s.text:o&&(s.text="Маршрут",delete s.icon),a.createElement(i.a,Object(r.a)({},s,{type:"route",view:e.pessimizeColor?"secondary-blue":"primary",hint:e.withoutHint?null:"Проложить маршрут",analytics:"build_route",metrikaGoal:["goal_deepuse",e.additionalMetrikaGoal].filter(Boolean),onClick:function(){return e.onClick()}}))})},397:function(e,t,n){"use strict";var r=n(4),a=n(340),i=n(96),o=n(525),s=n.n(o),c=n(526),l=n.n(c);t.a=function(e){return r.createElement(a.a,{subject:e.subject,key:"bookmark"},function(t){var n=t.saved,a=t.disabled,o=t.onClick;return r.createElement(i.a,{type:"bookmark",onClick:o,icon:n?l.a:s.a,mods:{saved:n,disabled:a},text:e.withText?n?"Удалить":"Сохранить":void 0})})}},398:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(6),a=(n(56),n(4)),i=n(7),o=n(28),s=n(80),c=n(9),l=n(53),u=n(31),d=n(52),p=n(8),m=Object(i.a)("dialog"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._container=a.createRef(),t._ref=a.createRef(),t._focusContainer=function(){if(t._container.current&&(!window.document.activeElement||!t._container.current.contains(window.document.activeElement))){var e=t._ref.current.scrollTop;t._container.current.focus(),t._ref.current.scrollTop=e}},t._onClose=function(){t.props.onClose()},t._onMouseDown=function(e){var n=e.currentTarget,r=!!(n.scrollHeight>n.offsetHeight)&&n.offsetWidth===n.clientWidth?15:0;e.target===e.currentTarget&&e.clientX+r<e.currentTarget.clientWidth&&t._onClose()},t._onScroll=function(){var e=t._ref.current,n=e.clientHeight+e.scrollTop>=e.scrollHeight;t.props.onScrollToEnd&&n&&t.props.onScrollToEnd()},t._renderClose=function(){if(!t.props.showCloseButton)return null;var e=Boolean(!1);return a.createElement(p.a,{name:"close",useParentState:!0,logClick:!0},a.createElement(u.a,{onClick:t._onClose,offset:e?"small":"large",circle:!0,usePortal:!1}))},t._renderContainer=function(){var e=t.props,n=Boolean(!1);return a.createElement("div",{className:m("container"),ref:t._container,tabIndex:1},a.createElement(s.a,{handlers:{key:l.a.ESC,callback:t._onClose,allowInEditable:!0},stopPropagation:!0}),a.createElement("div",{className:m("content",{"with-title":n})},n?a.createElement(o.a,{selector:".body"},a.createElement("div",{className:m("title")},e.mobileTitle)):null,t._renderClose(),e.children))},t._renderDialog=function(){var e=t.props;return a.createElement(p.a,{name:"dialog",useParentState:!0,logClick:!0},a.createElement(a.Fragment,null,a.createElement("div",{className:m({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:t._ref,onMouseDown:t._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:t.props.onScrollToEnd?t._onScroll:void 0},t._renderContainer()),a.createElement("div",{className:m("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0})))},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?a.createElement(d.a,null,t):a.createElement(o.a,{selector:".body"},a.createElement(d.a,null,t))},t}(a.Component);t.default=Object(c.b)(f)},415:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(316),a=n(98),i=864e5;function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(a.a)(e,n),s=Object(a.a)(t,n),c=o.getTime()-Object(r.a)(o),l=s.getTime()-Object(r.a)(s);return Math.round((c-l)/i)}},42:function(e,t,n){"use strict";var r=n(6),a=(n(81),n(4)),i=n(7),o=n(116),s=n(97),c=n(46),l=1,u=Object(i.a)("sticky-wrapper"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._containerRef=a.createRef(),n._isDisabled=function(e){return void 0===e&&(e=n.props),e.disabled||!e.scrollId},n._registerContainer=function(){var e,t=n.props,r=null!==(e=t.order)&&void 0!==e?e:l;if(n._containerRef.current){var a=t.scrollId;if(!a)return;t.registerStickyElement(a,r,n._containerRef,n._onPositionUpdate),t.updateStickyElement(a,r,n._containerRef.current.offsetHeight),n._unregisterContainer=function(){t.unregisterStickyElement(a,r)}}},n._onIntersectionChange=function(e){n.setState({fixed:!e})},n._onPositionUpdate=function(e){var t,r;n.setState({position:e}),null===(t=(r=n.props).onOffsetChange)||void 0===t||t.call(r,e)},n._onIntersectionParentBoundaries=function(e){n.setState({reachedParentBoundaries:!e})},n.state={fixed:!1,reachedParentBoundaries:!1,position:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isDisabled()||this._registerContainer()},n.componentDidUpdate=function(e,t){var n=this.props,r=this.state,a=n.children!==e.children;(n.children&&a||this._isDisabled(e)&&!this._isDisabled())&&this._registerContainer(),n.onFixedChange&&t.fixed!==r.fixed&&n.onFixedChange(r.fixed)},n.componentWillUnmount=function(){var e;null===(e=this._unregisterContainer)||void 0===e||e.call(this)},n.render=function(){var e,t=this.props,n=this.state;return t.children?this._isDisabled()?t.children:a.createElement(a.Fragment,null,"top"===t.position?a.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target"),onChange:this._onIntersectionChange},null):null,a.createElement("div",{className:u({position:t.position,fixed:n.fixed,header:t.header,border:null!==(e=t.border)&&void 0!==e?e:"auto",wide:t.wide,"reached-boundaries":n.reachedParentBoundaries}),style:{top:this.state.position,zIndex:t.zIndex},ref:this._containerRef},a.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target",{absolute:!0}),onChange:this._onIntersectionParentBoundaries},null),t.children)):null},t}(a.Component);t.a=Object(s.b)(Object(o.b)(d))},424:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return u});var r=n(32),a=n(47),i=n(607),o={caps:"Текст новости не должен быть написан прописными (заглавными) буквами",light_obscene:"В новостях не должно быть грубой и ненормативной лексики",hard_obscene:"В новостях не должно быть грубой и ненормативной лексики",law_violation:"Контент должен соответствовать законам",light_threat:"В новостях не должно быть угроз, агрессивных призывов, побуждений к жестокости или насилию",hard_threat:"В новостях не должно быть угроз, агрессивных призывов, побуждений к жестокости или насилию",light_insult:"В новостях не должно быть оскорблений, агрессивных призывов, побуждений к жестокости или насилию",hard_insult:"В новостях не должно быть оскорблений, агрессивных призывов, побуждений к жестокости или насилию",bad_link:"Ссылка должна вести на сайт или страницу в социальных сетях",porno:"В новостях не должно быть материалов порнографического характера",light_vulgarity:"В новостях не должно быть шокирующего и отталкивающего контента",personal_data:"В новостях не должно быть персональных данных",spam:"Новость не может быть опубликована по Политике Яндекса. Сервис оставляет за собой право отказать в публикации любой новости без объяснения причин",no_sense:"Текст в новости должен быть осмысленным и содержательным",rude:"В новостях не должно быть жаргонных, грубых и просторечных выражений",policy:"Новость не может быть опубликована по Политике Яндекса. Сервис оставляет за собой право отказать в публикации любой новости без объяснения причин",toxic:"В новостях не должно быть слов и фраз, которые могут быть восприняты читателем как оскорбительные или неуважительные",media_porno:"Изображения, приложенные к новостям, не должны содержать объекты непристойного или порнографического характера",media_violence:"Изображения, приложенные к новостям, не должны содержать сцены жестокости или насилия",media_shock:"Изображения, приложенные к новостям, не должны содержать объекты шокирующего или отталкивающего характера",media_toxic:"Изображения, приложенные к новостям, не должны содержать объекты, которые могут быть восприняты читателем как оскорбительные или неуважительные",unknown:"Неизвестная причина"};function s(e){switch(e){case"tycoon_text_auto_obscene":case"text_auto_obscene":case"text_toloka_obscene_light":return"light_obscene";case"text_toloka_obscene_hard":return"hard_obscene";case"tycoon_capital_letters":case"capital_letters":case"text_capital_letters":case"text_auto_caps":return"caps";case"tycoon_text_auto_law_violation":case"text_auto_law_violation":case"text_toloka_law_violation":return"law_violation";case"text_toloka_threat_light":return"light_threat";case"text_toloka_threat_hard":return"hard_threat";case"text_toloka_insult_light":return"light_insult";case"text_toloka_insult_hard":return"hard_insult";case"text_auto_bad_link":return"bad_link";case"text_toloka_porno":return"porno";case"text_toloka_vulgarity":return"light_vulgarity";case"text_toloka_personal_data":return"personal_data";case"text_toloka_spam":return"spam";case"text_toloka_no_sense":return"no_sense";case"text_toloka_rude":return"rude";case"text_toloka_policy":return"policy";case"text_toloka_toxic":return"toxic";case"media_auto_porno":case"media_toloka_porno":case"media_toloka_erotica":return"media_porno";case"media_toloka_violence":return"media_violence";case"media_toloka_shock":return"media_shock";case"image_toloka_toxic":return"media_toxic";default:return"unknown"}}function c(e){var t;if(e.moderation_status){var n=(e.photos||[]).reduce(function(e,t){var n;return[].concat(e,(null===(n=t.moderation_status)||void 0===n?void 0:n.error)||[])},[]),r=(Object(i.a)([].concat((null===(t=e.text_moderation_status)||void 0===t?void 0:t.error)||[],n),function(e){return e.message}).map(function(e){return e.message})||[]).filter(function(e){return Boolean(e)});return{status:"suitable"===e.moderation_status.status?"approved":"not_suitable"===e.moderation_status.status?"rejected":"pending",error:"not_suitable"===e.moderation_status.status?r.map(s):[]}}}function l(e){return o[e]}function u(e){var t=null==e?void 0:e.status;return"pending"===t?"На модерации":"rejected"===t?"Новость не прошла модерацию и была снята с публикации":null}function d(e,t,n){if(void 0===n&&(n=!1),e){var i=r.a(new Date(e.publicationTime),0);return Object(a.a)(i,t,{isShortDate:n})}}function p(e){return{text:e.content,photos:e.photos||[]}}function m(e,t){return void 0===t&&(t=!1),Boolean(t&&e.experiments.ui.postEditorEntry&&!1)}},425:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(12),o=n(17),s=n(9),c=n(18),l=n(96),u=n(332),d=n(79),p=n(21),m=n(16),f=n(524),v=n.n(f),h={toggleShare:u.a.toggle},g=Object(o.a)(i.b(function(e){return{url:Object(d.a)(e)}},h),s.b),_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._toggleShare=function(){var e=t.props;e.toggleShare(e.result)},t._onOpenShareClick=function(){var e=t.props,n=e.result;if(window.navigator.share&&"poi"!==n.type){c.a.cancel(t._shareAction);var r=window.document.title,a="business"===n.type?r+"\n"+(n.fullAddress||n.address)+"\n":void 0,i="business"===n.type?m.m(e.config)?p.p(n):p.c(n):"toponym"===n.type?p.v(n,n.region):n.region?p.m(n,n.region):void 0;t._shareAction=c.a.create(window.navigator.share({url:p.a(i?"/"+i:e.url,e.config),title:r,text:a}),{fail:function(e){e.message.startsWith("Internal error:")&&t._toggleShare()}})}else t._toggleShare()},t}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){c.a.cancel(this._shareAction)},n.render=function(){var e=this.props;return a.createElement(l.a,{type:"share",analytics:"share",text:e.withText?"Поделиться":void 0,hint:"Поделиться",icon:v.a,onClick:this._toggleShare})},t}(a.Component);t.a=g(_)},426:function(e,t,n){"use strict";var r=n(6),a=(n(804),n(4)),i=n(7),o=n(9),s=Object(i.a)("advert-badge"),c=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.config.advertLandingUrl,n=t+(e.utms?"?"+e.utms:"");return a.createElement("span",{className:s(),style:{height:e.height}},t?a.createElement("a",{className:s("link"),href:n,target:"_blank"},"Реклама"):a.createElement("div",{className:s("link")},"Реклама"))},t}(a.Component);t.a=Object(o.b)(c)},427:function(e,t,n){"use strict";var r=n(6),a=n(10),i=n(4),o=n(12),s=n(17),c=n(9),l=n(27),u=n(428),d=n(298),p={changeUserReaction:u.a.changeUserReaction,changeRanking:u.a.changeRanking,changeSelectedTag:u.a.changeSelectedTag,loadReviews:u.a.loadReviews,loadUserReview:u.a.loadUserReview,editReview:u.a.editReview,deleteReview:u.a.deleteReview,restoreReview:u.a.restoreReview,updateReview:u.a.updateReview},m=Object(s.a)(c.b,l.b,o.b(function(e,t){var n=d.a(e,t.result);return Object(a.a)(Object(a.a)({},n),{},{isDeleted:Boolean(n.deletedUserReview),ranking:e.reviews.ranking})},p)),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._fetch=function(){var e=t.props;e.result.ratingData.reviewCount>0&&0===e.items.length&&t._loadReviews(),void 0===e.userReview&&e.loadUserReview(e.result)},t._onTagClick=function(e){var n=t.props;n.changeSelectedTag(n.result,n.pageSize,e)},t._updateReview=function(e,n,r){t.props.updateReview(t.props.result,e,n,r)},t._changeUserReaction=function(e,n){var r=t.props,a=r.items.find(function(e){return e.reviewId===n});a&&r.changeUserReaction(r.result,a,e)},t._loadReviews=function(e){var n=t.props,r=Math.floor(n.items.length/n.pageSize);n.loadReviews(n.result,n.pageSize,null!=e?e:r+1)},t._updateRanking=function(e){var n=t.props;n.changeRanking(n.result,n.pageSize,e)},t._editReview=function(e){t.props.editReview(t.props.result,e)},t._deleteReview=function(){t.props.deleteReview(t.props.result)},t._restoreReview=function(){t.props.restoreReview(t.props.result)},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetch()},n.componentDidUpdate=function(e){e.result.id!==this.props.result.id&&this._fetch()},n.render=function(){var e=this.props;return e.children({count:e.count,pageSize:e.pageSize,reviews:e.items,isLoading:e.isLoading,ranking:e.ranking,hasMore:e.items.length<e.count&&0!==e.items.length,loadMore:this._loadReviews,selectedTag:e.selectedTag,tags:e.tags,onTagClick:this._onTagClick,hasReviewSuggestion:e.isWideCard?!e.userReview:!e.userReview&&!e.isDeleted,userReview:e.userReview,isDeleted:e.isDeleted,isUserReviewLoading:void 0===e.userReview,editReview:this._editReview,deleteReview:this._deleteReview,restoreReview:this._restoreReview,updateReview:this._updateReview,addUserReaction:this._changeUserReaction,updateRanking:this._updateRanking})},t}(i.Component);t.a=m(f)},428:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("reviews").then(n.bind(null,944))},{loadReviews:!0,loadUserReview:!0,reloadReviews:!0,editReview:!0,deleteReview:!0,restoreReview:!0,updateReview:!0,changeUserReaction:!0,changeRanking:!0,changeSelectedTag:!0})},429:function(e,t,n){"use strict";var r=n(6),a=(n(551),n(4)),i=n(12),o=n(7),s=n(61),c=Object(o.a)("masstransit-empty-schedule-view"),l={openEditObjectFeedback:s.a.openEditObjectFeedback},u=i.b(function(e){return{config:e.config}},l),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onAddFeedbackClick=function(){var e=t.props;e.feedbackItem&&e.openEditObjectFeedback({type:"transit/stop/route/incorrect",result:e.feedbackItem})},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement("div",{className:c()},e.collapsed?null:a.createElement("div",{className:c("title-list")},"Расписание"),a.createElement("div",{className:c("empty")},a.createElement("div",{className:c("empty-text")},e.collapsed?"Нет информации о расписании":"Пока нет информации"),e.feedbackItem?a.createElement("div",{className:c("empty-control"),onClick:this._onAddFeedbackClick},"Добавить"):null))},t}(a.Component);t.a=u(d)},439:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(12),o=n(17),s=n(332),c=n(27),l=n(8),u=n(73),d=(n(533),n(7)),p=n(79),m=n(21),f=n(158),v=n(187),h=n(29),g=n(9),_=n(262),E=n(535),b=n.n(E),k=Object(d.a)("card-push-view"),y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getShareType=function(e){return"business"===e.type?"org":"toponym"===e.type?"toponym":"stop"},t._getSendParams=function(){var e,n=t.props.result;return"toponym"===n.type||"business"===n.type?{uri:n.uri}:{uri:null===(e=n.searchResult)||void 0===e?void 0:e.uri,stopId:n.id}},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;if(e.config.uatraits.isMobile)return null;var t,n,r,i,o=e.result;"business"===o.type||"toponym"===o.type?(t=o.address,n=o.title):(t=null===(r=o.searchResult)||void 0===r?void 0:r.address,n=(null===(i=o.searchResult)||void 0===i?void 0:i.title)||o.name);return"business"!==o.type&&t||(t=n+(t?". "+t:"")),a.createElement(_.a,{openOptions:{type:this._getShareType(o),pushMessage:t,sendParams:this._getSendParams()}},function(e){var t=e.onClick;return a.createElement(l.a,{name:"service",logClick:!0,metrikaGoal:"goal_deepuse"},a.createElement(h.a,{className:k("service"),view:"link",iconUrl:b.a,onClick:t},"Отправить в телефон"))})},t}(a.Component),C=Object(g.b)(y),w=n(39),S=n(30);function N(e){var t=60*((e=Math.abs(e))-Math.floor(e)),n=Math.round(60*(t-Math.floor(t)));return t=Math.floor(t),60===n&&(n=0,t+=1),60===t&&(t=0,e+=1),Math.floor(e)+"°"+t+"′"+(n?Math.round(n)+"″":"")}var T=n(536),O=n.n(T),R=n(537),j=n.n(R),I=i.b(function(e){return{config:e.config,url:Object(p.a)(e)}}),x=Object(d.a)("card-share-view"),P=I(function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderDmsCoordinates=function(e){var t=e[0],n=e[1];return a.createElement(h.a,null,a.createElement(l.a,{name:"dms_coordinates",subtreeMetrikaGoal:"goal_deepuse"},a.createElement(v.a,{view:"primary"},a.createElement("div",{className:x("text",{clickable:!0}),dangerouslySetInnerHTML:{__html:[N(n)+(n>0?"N":"S"),N(t)+(t>0?"E":"W")].join(", ")}}))))},t._renderShortUrl=function(){var e=t.props;return a.createElement(h.a,{className:x("short-link"),iconUrl:O.a},a.createElement(l.a,{name:"short_link"},a.createElement(v.a,{view:"primary"},a.createElement("div",{className:x("text")},a.createElement(f.a,{url:e.url},function(t,n){return n?m.a(t,e.config):a.createElement(w.a,{view:"small",withoutMargin:!0})})))))},t._renderCoordinatesContent=function(e){return a.createElement(l.a,{name:"coordinates",subtreeMetrikaGoal:"goal_deepuse"},a.createElement(v.a,{view:"primary"},a.createElement("div",{className:x("text")},e[1].toFixed(6)+", "+e[0].toFixed(6))))},t._renderCoordinates=function(){var e=t.props.result;if(S.y(e)&&S.C(e))return null;var n="displayCoordinates"in e?e.displayCoordinates:"poi"===e.type?e.poiData.center:e.coordinates;return a.createElement(u.a,{className:x("coordinates"),iconUrl:j.a,content:t._renderDmsCoordinates(n),delimiter:null,isLast:!0},t._renderCoordinatesContent(n))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result;return a.createElement("div",{className:x()},e.hidePush||"poi"===t.type?null:a.createElement(C,{result:t}),this._renderShortUrl(),e.hideCoordinates?null:this._renderCoordinates())},t}(a.Component)),A={closeShare:s.a.close},B=Object(o.a)(i.b(function(e){return{config:e.config,isExpanded:e.share.isExpanded}},A),c.b),M=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.closeShare()},n.render=function(){var e=this.props;return a.createElement(l.a,{name:"share"},a.createElement(u.a,{isExpanded:e.isExpanded,content:e.result?a.createElement(P,{result:e.result,hidePush:e.hidePush||e.isWideCard,hideCoordinates:e.hideCoordinates}):null}))},t}(a.PureComponent);t.a=B(M)},441:function(e,t,n){"use strict";var r=n(6),a=(n(826),n(828),n(4)),i=n(7),o=n(8),s=n(11),c=n(259),l=n(333),u=n(252),d=n(450),p=n(2796),m=n(108),f=n.n(m),v=15,h="400,400";function g(e,t){var n,r=e.zoom||v;if(e.center){var a=u.a(e.center,r),i=a[0],o=a[1];n=d.a([i,o-(e.placemarkTopMargin||0)],r).join(",")}var s=e.bounds?e.bounds.map(function(e){return p.a(e)}).join("~"):void 0,c={z:e.zoom&&r||void 0,l:"map",lg:0,cr:0,scale:2,size:e.size||h,key:t.staticMapKeys.maps,bbox:s,ll:n||void 0,pt:e.placemark?e.placemark.join(",")+",placemark":void 0};return t.hosts.printerApi+"1.x/?"+f.a.stringify(c)}var _=n(9),E=(n(830),Object(i.a)("card-media-preview")),b=function(e){return a.createElement("div",{className:E()},a.createElement("div",{className:E("background")},e.background),a.createElement("div",{className:E("icon")},e.icon),a.createElement("div",{className:E("label")},e.label))},k=n(832),y=n.n(k),C=n(833),w=n.n(C),S=n(834),N=n.n(S),T=Object(i.a)("card-media-view"),O=300,R=function(e){function t(t){var n;return(n=e.call(this,t)||this)._mapPreviewRef=a.createRef(),n._onStaticMapClick=function(){n.props.setMobileViewState&&n.props.setMobileViewState("mini"),n.props.setMapLocation&&n.props.placemark&&n.props.setMapLocation({center:n.props.placemark,duration:O})},n._renderAddPhotos=function(){var e=n.props,t=Boolean(e.config.hosts.photoUploadApi);return e.photos||e.panorama||!t||!e.onAddPhotosClick?null:a.createElement("div",{className:T("photos")},a.createElement(o.a,{name:"add_photo",logClick:!0},a.createElement("div",{className:T("add-photo"),onClick:e.onAddPhotosClick},a.createElement("div",{className:T("add-photo-icon")},a.createElement(s.a,{url:y.a})),a.createElement("div",{className:T("add-photo-label")},"Добавить фото"))))},n._renderStaticMap=function(){var e=n.props;return!e.bounds||e.placemark,null},n._renderPhotos=function(){var e=n.props,t=e.photos;return t?a.createElement("div",{className:T("photos"),itemScope:!0,itemType:"http://schema.org/ImageGallery"},a.createElement(b,{background:a.createElement(l.a,{hideLabel:!0,urlTemplate:t.urlTemplate,size:"M",count:t.count,contain:t.contain,onClick:e.onPhotosClick,alt:t.items.length>0?t.items[0].alt:void 0}),icon:a.createElement(s.a,{url:N.a}),label:(function(params){return params.count+" фото";})({count:t.count})})):null},n._renderPanorama=function(){var e=n.props,t=e.panorama;return t?a.createElement("div",{className:T("panorama")},a.createElement(b,{background:a.createElement(c.a,{panorama:t,view:"org",isInteractive:e.isPanoramaInteractive}),icon:a.createElement(s.a,{url:w.a}),label:"Панорама"})):null},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mapPreviewRef.current&&this.props.bounds&&this.props.placemark&&this.setState({staticMapUrl:g({bounds:this.props.bounds,placemark:this.props.placemark,size:2*this._mapPreviewRef.current.offsetWidth+","+2*this._mapPreviewRef.current.offsetHeight},this.props.config)})},n.render=function(){var e,t=this.props;return t.photos||t.panorama||!t.collapseEmpty?a.createElement("div",{className:T({"only-add-photo":Boolean(this._renderAddPhotos()),"small-gutter-bottom":t.smallBottomGutter,wide:t.wide})},this._renderPanorama(),this._renderStaticMap(),null!==(e=this._renderPhotos())&&void 0!==e?e:this._renderAddPhotos()):null},t}(a.Component);t.a=Object(_.b)(R)},446:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(514),n(4)),o=n(12),s=n(17),c=n(7),l=n(21),u=n(91),d=n(9),p=n(38),m=n(8),f=n(137),v=n(113),h=n(35),g=n(190),_=n(162),E=n(11),b=n(394),k=(n(516),n(36)),y=n(123),C=320,w=C/2,S="rgba(0,0,0,.04)",N=Object(c.a)("orgpage-similar-item"),T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hover=function(){n.setState({hovered:!0})},n._unhover=function(){n.setState({hovered:!1})},n._renderImage=function(){var e=n.props.item,t=n.state.hovered;if(e.photoUrlTemplate)return i.createElement(_.a,{url:e.photoUrlTemplate.replace("%s","M"),height:C/2,backgroundFallback:S,hovered:t,withParanja:!0});var r=null;return e.icon&&(r=k.d({type:"rubrics",name:e.icon,size:"normal"},n.props.config)),r||(r=k.d({type:"rubrics",name:"fallback",size:"normal"},n.props.config)),i.createElement(_.a,{height:C/2,backgroundFallback:S,hovered:t,withParanja:!0},i.createElement(E.a,{url:r,className:N("rubric-image")}))},n._renderRating=function(){var e=n.props.item;return i.createElement("div",{className:N("rating")},e.rating?i.createElement(v.a,{ratingValue:e.rating}):i.createElement(f.a,{ratingCount:0}))},n.state={hovered:!1},n}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=t.id?l.c({id:t.id,seoname:t.seoname},void 0,e.config):void 0;return i.createElement(m.a,{name:"organization_card",logClick:!0,nodeState:{logId:t.id,permalink:t.id,uri:t.uri,title:t.title},useParentState:!0},i.createElement(p.a,{href:n,onLeftClick:e.onClick},i.createElement("div",{className:N(),onMouseEnter:this._hover,onMouseLeave:this._unhover},i.createElement("div",{className:N("image")},this._renderImage()),i.createElement("div",{className:N("info")},i.createElement("div",{className:N("title")},t.title),i.createElement(g.a,{result:t}),i.createElement("div",{className:N("rubrics")},t.category||e.category),i.createElement("div",{className:N("feature")},this._renderRating())),i.createElement(y.a,{chunk:"orgpage"}))))},t}(i.Component),O=Object(d.b)(T),R=n(90),j={openSimilar:u.a.openSimilar},I=Object(c.a)("card-similar-carousel"),x=96,P=Object(s.a)(o.b(null,j),d.b),A=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onSimilarClick=function(e){var t=n.props;t.onClick?t.onClick(e):t.openSimilar(e,{serpId:t.serpId,wide:t.wide})},n._onMouseEnter=function(e){n.setState({hoveredItemIndex:e})},n._onMouseLeave=function(){n.setState({hoveredItemIndex:null})},n._renderItemContent=function(e,t){var r=n.props,a=e.id?l.c({id:e.id,seoname:e.seoname},{},r.config):void 0,o=e.photoUrlTemplate&&e.photoUrlTemplate.replace("%s","M");return r.wide?i.createElement(O,{key:e.id,item:e,onClick:function(){return n._onSimilarClick(e)}}):i.createElement(p.a,{href:a,onLeftClick:function(){return n._onSimilarClick(e)}},i.createElement("div",{className:I("item"),onMouseEnter:function(){return n._onMouseEnter(t)},onMouseLeave:n._onMouseLeave},i.createElement("div",{className:I("image")},i.createElement(_.a,{height:x,url:o,hovered:n.state.hoveredItemIndex===t},!e.photoUrlTemplate&&e.iconUrl?i.createElement(E.a,{url:e.iconUrl,className:I("icon-fallback")}):null)),i.createElement("div",{className:I("description")},i.createElement("div",{className:I("title")},e.title),i.createElement("div",{className:I("badge")},i.createElement(g.a,{result:e})),i.createElement("div",{className:I("extra")},e.rating?i.createElement(v.a,{ratingValue:e.rating}):i.createElement(f.a,{ratingCount:0}),e.category&&!e.price?i.createElement("div",{className:I("category")},e.category):null,e.price?i.createElement("div",{className:I("price")},(function(params){return "от "+params.price;})({price:e.price})," ₽"):null))))},n._renderSearchItem=function(e,t){return i.createElement(b.a,{result:n.props.searchResults[t],position:n.props.position||0,key:t},n._renderItemContent(e,t))},n._renderSimilarItem=function(e,t){return i.createElement(m.a,{name:"result_item",nodeState:{type:e.isAdvert?"yabs":"business",logId:e.logId,permalink:e.id,uri:e.uri,position:t},useParentState:!0,logClick:!0,key:t},n._renderItemContent(e,t))},n._renderItem=function(e,t){return n.props.searchResults?n._renderSearchItem(e,t):n._renderSimilarItem(e,t)},n.state={hoveredItemIndex:null},n}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=4+(e.wide?w:x)/2;return i.createElement(m.a,{name:"related_places"},i.createElement("div",{className:I({wide:e.wide})},i.createElement(R.a,{type:"h2"},i.createElement("div",{className:I("label")},e.label)),i.createElement(h.a,Object(r.a)({key:t.map(function(e){return e.id}).join(","),clickStep:2,buttonSize:"m",arrowStyle:{topVerticalOffset:n},itemsGap:16,padding:16},e.carouselOptions),t.map(this._renderItem))))},t}(i.PureComponent);t.a=P(A)},45:function(e,t,n){"use strict";var r=n(94),a=1/0;t.a=function(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},460:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(199),o=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getUrl=function(e){return e.urlExtension?e.href+(e.href.includes("?")?"&":"?")+(e.urlExtension||""):e.href},n._onClick=function(){var e=n.props.link;e.iframe?n.setState({showIframe:!0}):window.open(n._getUrl(e),"_blank")},n._onClose=function(){n.setState({showIframe:!1})},n._renderIframe=function(){var e=n.props.link;return e.iframe?a.createElement(i.a,{isOpen:n.state.showIframe,href:n._getUrl(e),text:e.text,iframeStyle:e.iframe,onClose:n._onClose}):null},n.state={showIframe:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(a.Fragment,null,this._renderIframe(),e.children(this._onClick))},t}(a.Component);t.a=o},477:function(e,t,n){e.exports=n.p+"_/5bcb85f0acb9638dd984a9f953f3de6a.svg"},491:function(e,t,n){"use strict";var r=n(6),a=(n(492),n(4)),i=n(7),o=n(8),s=n(43),c=Object(i.a)("weather-view"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getUrl=function(){var e=t.props;if(e.weather.url)return e.weather.url+"?utm_source=yamaps&utm_medium=web&utm_campaign="+e.utm.campaign+"&utm_content="+e.utm.content},t._renderContent=function(){var e=t.props.weather,n=e.temperature<0?"&minus;"+Math.abs(e.temperature):String(e.temperature);return a.createElement(a.Fragment,null,a.createElement("img",{className:c("icon"),src:"//yastatic.net/weather/i/icons/funky/dark/"+e.icon+".svg"}),a.createElement("span",{className:c("temperature"),dangerouslySetInnerHTML:{__html:n+"&deg;C"}}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this._getUrl();return t?a.createElement(s.a,{text:"Посмотреть прогноз",position:"right"},a.createElement(o.a,{name:"weather_link",logClick:!0},a.createElement("a",{className:c({link:!0,size:e.size}),href:t,target:"_blank"},this._renderContent()))):a.createElement("div",{className:c({size:e.size})},this._renderContent())},t}(a.Component);t.a=l},492:function(e,t,n){},494:function(e,t,n){},496:function(e,t,n){},50:function(e,t,n){"use strict";function r(e,t){var n=e.duration,r=void 0===n?0:n,i=e.element,o=e.targetPosition,s=e.horizontal,c=e.onStart,l=void 0===c?function(){}:c,u=e.onEnd,d=void 0===u?function(){}:u,p=s?i.scrollLeft:i.scrollTop,m=Math.round(o-p);if(o===p)return l(),void d();t.query["no-animation"]&&(r=0);var f,v=0;l(),r?window.requestAnimationFrame(function e(t){f=f||t;var n=t-f;var o=n>=r?1:(c=n/r,c<.5?8*c*c*c*c:1-8*--c*c*c*c);var c;v=p+Math.ceil(m*o);a(i,v,s);o<1?window.requestAnimationFrame(e):d()}):(a(i,o,s),d())}function a(e,t,n){n?e.scrollLeft=t:e.scrollTop=t}function i(){}n.d(t,"a",function(){return r}),t.b=function(e,t){var n=e.targetElement,a=e.duration,o=void 0===a?0:a,s=e.insideElement,c=e.offset,l=void 0===c?0:c,u=e.onStart,d=void 0===u?i:u,p=e.onEnd,m=void 0===p?i:p,f=e.horizontal;if(n&&s){var v=s.getBoundingClientRect(),h=n.getBoundingClientRect();"center"===l&&(l=-1*Math.round(v.width/2-h.width/2));var g=f?s.scrollLeft:s.scrollTop;r({duration:o,element:s,targetPosition:Math.min(g+l+(f?h.left-v.left:h.top-v.top),f?s.scrollWidth:s.scrollHeight),horizontal:f,onStart:d,onEnd:m},t)}}},500:function(e,t,n){"use strict";t.a=function(e){var t=e.count%10,n=e.count%100;return 1===t&&11!==n?e.one:t>1&&t<5&&(n<10||n>20)?e.some:e.many}},513:function(e,t){},514:function(e,t,n){},516:function(e,t,n){},520:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(10),i=n(6),o=n(1950),s=n.n(o),c=n(4),l=n.n(c),u=n(12),d=n(7),p=n(17),m=n(20),f=n(9),v=n(27),h=n(165),g=n(1002),_=n(16),E=n(21),b=n(30),k=n(146),y=n(205),C=n(424),w=n(178),S=n(953),N=n(50),T=n(793),O=n(8),R=n(1054),j=n(1055),I=n(2782),x=n(2752),P=n(1973),A=n(1974),B=n(2754),M=n(760),L=n(1173),D=n(954),U=n(1987),F=n(2006),z=n(29),q=n(2009),W=n(2014),H=n(2020),V=n(441),G=n(1061),X=n(835),Q=n(2025),Y=n(439),K=n(2033),J=n(2036),Z=n.n(J),$=n(2037),ee=n(2041),te=n(840),ne=n(2047),re=n(38),ae=n(841),ie=n(613),oe=n(2053),se=n(2055),ce=n(123),le=n(2061),ue=n(352),de=n(2064),pe=n(2076),me=n(228),fe=n(842),ve=n(1066),he=n(839),ge=n(221),_e=n(97),Ee=n(264),be=n(2082),ke=n(623),ye=n(651),Ce=n(429),we=n(428),Se=n(624),Ne=n(23),Te=n(1057),Oe=n(427),Re=n(61),je=n(2085),Ie=n(2088),xe=n.n(Ie),Pe=n(2089),Ae=n.n(Pe),Be=n(2090),Me=n.n(Be),Le=n(621),De=n.n(Le),Ue=n(282),Fe=n(852),ze=n(1067),qe=n(619),We=n(234),He=Object(m.a)({resolved:{},chunkName:function(){return"metro-jams"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("metro-jams").then(n.bind(null,270))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 270}}),Ve=Object(m.a)({resolved:{},chunkName:function(){return"booking"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("booking").then(n.bind(null,653))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 653}},{ssr:!1}),Ge=Object(m.a)({resolved:{},chunkName:function(){return"booking"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("booking").then(n.bind(null,1149))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1149}},{ssr:!1}),Xe=Object(m.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,144))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 144}},{ssr:!1}),Qe=Object(m.a)({resolved:{},chunkName:function(){return"afisha"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("afisha").then(n.bind(null,1148))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1148}},{fallback:c.createElement(T.a,null)}),Ye=Object(m.a)({resolved:{},chunkName:function(){return"full"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("full").then(n.bind(null,1152))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1152}},{fallback:c.createElement(he.a,null)}),Ke=Object(m.a)({resolved:{},chunkName:function(){return"posts"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("posts").then(n.bind(null,1140))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1140}}),Je=Object(m.a)({resolved:{},chunkName:function(){return"photos"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("photos").then(n.bind(null,1125))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1125}},{fallback:c.createElement(he.a,null),ssr:!1}),Ze=Object(m.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,1126))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1126}}),$e=Object(m.a)({resolved:{},chunkName:function(){return"afisha"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("afisha").then(n.bind(null,1167))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1167}}),et=Object(m.a)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(null,1127))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1127}}),tt=function(e){return{booking:e.booking,wide:Object(_.o)(e)}},nt={openCardEvent:qe.a.openCardEvent,writeReview:we.a.editReview,openCreatePost:Se.a.openCreatePost,openEditPost:Se.a.openEditPost,openDeletePost:Se.a.openDeletePost,openBusinessFeedback:Re.a.openBusinessFeedback,setMobileViewState:Ne.a.setMobileViewState,setMapLocation:Ne.a.setMapLocation},rt=Object(d.a)("business-card-view"),at=Object(p.a)(_e.b,f.b,u.b(tt,nt)),it=function(e){function t(t){var n;return(n=e.call(this,t)||this)._reviewsRef=c.createRef(),n._contactsRef=c.createRef(),n._scrolledToHighlightedReview=!1,n._onScroll=function(e){var t,r=(null!==(t=null==e?void 0:e.scrollTop)&&void 0!==t?t:0)>0;n.state.hideShutterControl!==r&&n.props.config.uatraits.isTurboApp&&n.setState({hideShutterControl:r})},n._scrollTo=function(e){var t=n.props.getScrollableNode();e&&t&&Object(N.b)({targetElement:e,insideElement:t,duration:500},n.props.config)},n._onAddPhotosClick=function(){var e=n.props;e.result.id&&e.checkAuthorization("reviews",function(){e.showAddPhotosForm(e.result.id)})},n._onBrandingBannerClick=function(){var e=n.props,t=e.result,r=e.onBrandingClick;r&&t.brandingBanner&&t.brandingBanner.action&&r(t.brandingBanner.action,"preview_card")},n._onEditClick=function(e){var t=n.props;if(!e){var r=t.result;h.a.reachGoal("correct_inac");var a=r.isUserOwner?E.s(r.id,t.config):void 0;if(a)return void window.open(a,"_blank")}t.onEditClick(e)},n._onPhotosClick=function(){n.props.result.photos;n.props.onPhotosClick()},n._onCreatePostClick=function(){n.props.openCreatePost(n.props.result.id)},n._onEventPhotoClick=function(e,t){var r=e.action.blockData.images;if(r){var a=String(r.indexOf(t));n.props.showPhoto({meta:{id:a,skipAdvert:!1},isPreviewMode:!1,photos:r.map(function(e,t){return{id:String(t),url:e.urlTemplate.replace("%s","XXL")}}),selectedId:a})}},n._onPostClick=function(e){var t=n.props;t.onPostClick&&t.onPostClick(e),t.onTabChange("posts")},n._openFullObjects=function(){var e=n._getResultFullItemsTab();e&&n.props.onTabChange(e)},n._openFullPlaces=function(){var e=n._getResultFullItemsTab();e&&n.props.onTabChange(e)},n._scrollToReviews=function(){var e=n.props;0===e.result.ratingData.reviewCount?e.writeReview(e.result):e.onTabChange("reviews")},n._scrollToContacts=function(){n._scrollTo(n._contactsRef.current)},n._scrollToHighlightedReview=function(e){n._scrolledToHighlightedReview||(n._scrolledToHighlightedReview=!0,setTimeout(function(){var t=n.props.getScrollableNode();Object(N.b)({targetElement:e,insideElement:t,offset:-103,duration:500,onEnd:function(){return e.classList.add("_highlighted")}},n.props.config)},0))},n._getRelatedProducts=function(e){return e.matchedObjects||e.topObjects},n._getAfishaWidget=function(){var e=n.props.result,t=e.categories,r=e.references,a=n.props.filters,i=t&&t.find(function(e){return"cinemas"===e.class}),o=r&&r.find(function(e){return"afisha"===e.scope}),s=o&&o.id;if(!s||!i)return null;var c=(a||[]).filter(k.q).find(function(e){return"events"===e.id});return{id:s,initialMovieId:c?k.h(c)[0]:void 0}},n._getResultFullItemsTab=function(){return Object(S.a)(n.props.result)},n._getBookingIframeUrl=function(){var e=n.props,t=e.booking,r=b.f(e.result,e.config);if(r){var a=r.href.includes("?")?"&":"?",i="utm_source=yandex-maps&utm_medium=price-widget&isHeadless=1&activeTabId=offers";return t.personsAmount&&(i+="&adults="+t.personsAmount),t.dateFrom&&(i+="&checkinDate="+t.dateFrom),t.dateTo&&(i+="&checkoutDate="+t.dateTo),r.href+a+i}},n._getRealtyIframeUrl=function(){var e=n.props.result.businessLinks.find(function(e){return"#widjet_realty_yandex"===e.aref&&e.href});return null==e?void 0:e.href.replace("https://m.realty.","https://realty.")},n._getTabs=function(){var e,t=n.props.result,r=n.props.config,i=[{key:"overview",title:"Обзор",render:function(){return c.createElement("div",{className:rt("shrink")},n._renderOverviewTab())}}],o=n._getResultFullItemsTab(),s=t.businessLinks.find(function(e){return"#edadeal"===e.aref&&e.href}),l=n._getRealtyIframeUrl();if(t.certificatesUrl&&i.push({key:"coupons",title:"Акции",render:n._renderCertificates,wide:!0}),r.business.enableRealty&&l&&"MSIE"!==r.uatraits.BrowserName&&i.push({key:"realty",title:"Недвижимость",render:n._renderRealtyTab,count:t.realtyOffersCount,wide:!0}),n._renderBookingTab()&&i.push({key:"booking",title:"Номера и цены",render:n._renderBookingTab,wide:!0}),r.business.enableEdadeal&&s&&"MSIE"!==r.uatraits.BrowserName&&"Edge"!==r.uatraits.BrowserName&&i.push({key:"edadeal",title:"Каталог скидок",render:n._renderEdadeal,wide:!0}),o){var u={inside:"Организации внутри",menu:"Меню",prices:"Товары и услуги"};n._isHideRichContentExp()&&("menu"===o||"prices"===o)||i.push({key:o,title:u[o],render:n._renderFullItemsTab,wide:"inside"!==o})}return t.posts&&t.posts.count>0&&!n._isHideRichContentExp()&&i.push({key:"posts",title:"Новости",count:t.posts.count,render:n._renderPostsTab,wide:!0}),t.photos&&!n._isHideRichContentExp()&&i.push({key:"gallery",title:"Фото",count:t.photos.count,render:n._renderPhotosTab,wide:!0}),r.uatraits.isMobile&&t.events&&t.events.length>0&&i.push({key:"events",title:"События",render:n._renderEventsTab,wide:!0}),r.business.enableReview&&t.ratingData.reviewCount>0&&!n._isHideRichContentExp()&&i.push({key:"reviews",title:"Отзывы",count:t.ratingData.reviewCount,render:n._renderReviewsTab,wide:!0}),(null===(e=n.props.result.features)||void 0===e?void 0:e.length)&&i.push({key:"features",title:"Особенности",render:n._renderFeaturesTab,wide:!0}),!n.props.isOrgpage&&Boolean(n._renderSimilarPlacesTab())&&i.push({key:"related",title:"Похожие места",render:n._renderSimilarPlacesTab}),n.props.isOrgpage?i.map(function(e){return Object(a.a)(Object(a.a)({},e),{},{wide:!0})}):i},n._onMetrikaReady=function(e){var t=n.props,r={};Object.entries(t.config.query).forEach(function(e){var t=e[0],n=e[1];("yclid"===t||t.startsWith("utm_"))&&(r[t]=n)});var a=Object(_.m)(t.config)?E.p(t.result,t.config,r):E.c(t.result,{},t.config,r);h.a.hitByCounter(e,{url:a,params:h.a.buildMetrikaOrgEventParams(t.result.id,"show_org")})},n._isHideRichContentExp=function(){return b.A(n.props.result,n.props.config)},n._getAdvertUTMs=function(){return Object(w.a)(n.props.isOrgpage)},n._renderSection=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);return 0===a.length?null:c.createElement("div",{className:n.props.isOrgpage?void 0:rt("section")},a.map(function(e,t){return c.createElement(c.Fragment,{key:t},e)}))},n._renderGraySection=function(e){return n.props.isOrgpage?e:c.createElement("div",{className:rt("gray-section")},e)},n._renderBreadcrumbs=function(){var e=n.props,t=e.result.breadcrumbs;return!t||0===t.length||Object(_.m)(e.config)?null:c.createElement("div",{className:rt("breadcrumbs")},c.createElement(Ee.a,{breadcrumbs:t}))},n._renderOfferMedia=function(){var e=n.props.result,t=e.panorama,r=e.photos,a=e.advert;return a?n._renderIfSwipableMedia(n._renderAdaptiveExtended(c.createElement(W.a,{panorama:t,photos:r,advertPhoto:a.photo,logo:a.logo,onPhotosClick:n._onPhotosClick,onAddPhotosClick:n._onAddPhotosClick,hideRichContent:n._isHideRichContentExp()}))):null},n._renderIfSwipableMedia=function(e){return e},n._renderSpecialOffer=function(e){var t=n.props,r=t.result.matchedObjects,a=b.j(t.result);return!a||r||t.config.hideAdverts||n._isHideRichContentExp()?null:c.createElement("div",{className:rt("offers")},c.createElement(O.a,{name:"popular"},n._renderAdaptiveExtended(c.createElement(K.a,{items:a,view:t.isOrgpage?"wide":"narrow",advertBadgeUTMs:n._getAdvertUTMs()})),n._renderRelatedProductsLink({withMargin:!0,withBorder:!e})))},n._renderAboutBusiness=function(){var e=n.props,t=e.result.advert;return t&&t.about?n._renderSection(c.createElement("div",{className:rt("about-business")},c.createElement(F.a,{text:t.about,wide:e.isOrgpage,advertBadgeUTMs:n._getAdvertUTMs(),disclaimer:t.disclaimers?t.disclaimers[0]:void 0}))):null},n._renderBrandingBanner=function(e){return n._renderIfSwipableMedia(c.createElement(O.a,{name:"branding_banner",logClick:!0,nodeState:{branding:e.id}},c.createElement("img",{className:rt("branding-banner",{clickable:Boolean(e.action)}),src:e.url,onClick:n._onBrandingBannerClick})))},n._renderAdaptiveExtended=function(e){return n.props.isOrgpage&&e?c.createElement("div",{className:rt("extend")},e):e},n._renderHeaderMedia=function(){var e=n.props;return n._renderIfSwipableMedia(n._renderAdaptiveExtended(c.createElement(q.a,{wide:e.isOrgpage,result:e.result,onPhotosClick:n._onPhotosClick,onPhotoClick:e.onPhotoClick,onAddPhotoClick:n._onAddPhotosClick,hideRichContent:n._isHideRichContentExp()})))},n._renderPromo=function(){var e;return n.props.config.enableZapravkiPromo&&(null===(e=n.props.result.features)||void 0===e?void 0:e.some(function(e){return"payment_from_car"===e.id&&e.value}))?c.createElement(Fe.a,null):null},n._renderHeaderAdvert=function(){var e=n.props,t=b.g(e.result,e.config);return t?c.createElement(j.a,{data:t,wide:e.wide}):null},n._renderTitleBlock=function(e){var t=n.props,r=!t.wide&&!t.config.experiments.ui.disableOrgTitleLink;return c.createElement(U.a,{result:t.result,onTitleClick:r?t.onDetailsClick:void 0,onRouteClick:t.onRouteClick,onCategoryClick:t.onCategoryClick,onReviewsClick:n._scrollToReviews,onMovedClick:t.onMovedClick,onClose:void 0,addToVisited:t.addToVisited,title:t.result.title,generateUrl:!0,withShutterControl:!1,openShareDialog:t.openShareDialog,view:t.isOrgpage?"wide":"normal",sticky:!0,justTitle:null==e?void 0:e.justTitle})},n._renderOwnersBanner=function(){var e=n.props.result.ownersBanner;return e?n._renderSection(c.createElement(H.a,{banner:e})):null},n._renderAfisha=function(){var e=n.props.result,t=e.afishaItems,r=n._renderAfishaLink();return n._renderRelatedProducts(!1)||n._renderAfishaWidget()||!t||0===t.length?r?n._renderSection(r):null:n._renderSection(n._renderAdaptiveExtended(c.createElement($e,{wide:Boolean(n.props.isOrgpage),place:e,items:t})),n._renderAfishaLink())},n._renderRelatedProducts=function(e){var t=n.props,r=t.result,a=n._getRelatedProducts(r);return!a||0===a.categories[0].categoryItems.length||n._isHideRichContentExp()||n._getAfishaWidget()?null:c.createElement(ve.a,{businessLinks:r.businessLinks},function(i){var o=i.onChangeOpenContextMenu;return n._renderAdaptiveExtended(c.createElement(de.a,{items:Object(fe.d)(a.categories[0].categoryItems),businessLinks:r.businessLinks,matched:Boolean(r.matchedObjects),hasPhotos:a.hasPhotos,onAllClick:n._openFullObjects,rubric:a.rubric,allItemsButton:n._renderRelatedProductsLink({wide:t.isOrgpage,withBorder:!e}),allItemsUrl:E.c(r,{sublanding:Object(S.a)(r)},t.config),onClick:o,size:t.isOrgpage?"normal":"small",carouselOptions:t.isOrgpage?{padding:80}:void 0}))})},n._renderPlacesInside=function(){var e=n.props,t=e.result,r=Boolean(b.j(t));if(Boolean(t.topObjects||t.matchedObjects)||r||!t.topPlaces)return null;var a=E.c(t,{sublanding:"inside"},n.props.config);return n._renderSection(c.createElement(pe.a,{items:t.topPlaces,onClick:e.onPlacesInsideClick,onAllClick:n._openFullPlaces,allItemsButton:n._renderPlacesInsideLink(),allItemsUrl:a}))},n._renderPlacesInsideLink=function(){var e=n.props,t=e.result;if(!t.topPlaces)return null;var r=E.c(t,{sublanding:"inside"},e.config);return c.createElement(O.a,{name:"show_places_inside",logClick:!0},c.createElement("div",{className:rt("menu-link")},c.createElement(re.a,{href:r},c.createElement(z.a,{view:"link",iconUrl:Ae.a,onClick:n._openFullPlaces},"Показать все места"))))},n._renderPersonalFeedback=function(){return n.props.result.sources.every(function(e){return"personal_feedback"!==e.id})?null:c.createElement("div",{className:rt("personal-feedback")},c.createElement("div",{className:rt("personal-feedback-text")},"Спасибо, что обновили данные об этой организации. Сейчас исправления проходят проверку и видны только вам, а после станут доступны всем пользователям."))},n._renderMobileAdvert=function(){var e,t=n.props;t.config.experiments.ui.orgpageMobileDirect||null===(e=t.config.banner)||void 0===e||e.blockIds.orgpageMobile;return null},n._renderAfishaLink=function(){var e=n.props.result.afishaUrl;return e?c.createElement(oe.a,{url:e}):null},n._renderBusinessLinks=function(){var e=n.props.result,t=e.status,r=e.businessLinks,a=e.topObjects,i=e.matchedObjects;if(!r||0===r.length||"open"!==t)return null;var o=a||i?r.filter(function(e){return!("menu"===e.type)}):r;return c.createElement(P.a,{links:o})},n._renderBusinessAdvert=function(){var e=n.props,t=e.result.advert;if(t&&t.text&&!e.config.hideAdverts)return c.createElement("div",{className:rt("advert")},c.createElement(I.a,{data:t,advertBadgeUTMs:n._getAdvertUTMs()}))},n._renderAddPhotos=function(){var e=n.props,t=e.config,r=e.result;return!t.hosts.photoUploadApi||r.photos?null:c.createElement(O.a,{name:"add_photo",logClick:!0},c.createElement(z.a,{className:rt("add-photo",{noprint:!0}),view:"link",iconUrl:xe.a,onClick:n._onAddPhotosClick},"Добавить фото"))},n._renderCurrencyExchange=function(){var e=n.props.result.currencyExchange;return e&&e.items?n._renderSection(c.createElement($.a,e)):null},n._renderAfishaWidget=function(){var e=n._getAfishaWidget();return e?n._renderSection(n._renderAdaptiveExtended(c.createElement(Qe,e))):null},n._renderMetroJamsLevel=function(){var e=n.props.result.masstransitStop;return e&&void 0!==e.metroJamsInfo?c.createElement(He,{metroJamsInfo:e.metroJamsInfo,stopId:e.id,view:"full"}):null},n._renderEncyclopedia=function(){var e=n.props.result.encyclopedia;return e?c.createElement(ze.a,{data:e}):null},n._renderFuelInfo=function(){var e=n.props.result.fuelInfo;return e?c.createElement(ne.a,e):null},n._renderFeaturesTab=function(){return n._renderFeatures("tab")},n._renderFeatures=function(e){var t,r=n.props,a=r.result;return(null===(t=a.features)||void 0===t?void 0:t.length)?c.createElement(x.a,{result:a,onMoreInfoClick:function(){return r.onTabChange("features")},view:e,onCategoryClick:Object(_.m)(r.config)?void 0:function(e){return r.onCategoryClick(e,{})},hideMoreInfo:Boolean(a.masstransitStop),isOrgpage:r.isOrgpage}):null},n._renderBeOwner=function(){var e=n.props,t=e.config,r=e.result;if(!t.hosts.sprav||r.isUserOwner||t.hideAdverts)return null;var a=r.businessProperties;if((null==a?void 0:a.has_verified_owner)||(null==a?void 0:a.hide_claim_organization)||b.w(r))return null;var i=E.s(r.id,t,"&utm_medium=org_card&utm_campaign=owner-button");return c.createElement("div",{className:rt("footer-link-wrapper")},c.createElement(O.a,{name:"sprav_link",logClick:!0},c.createElement("a",{href:i,target:"_blank",className:rt("footer-link"),"data-id":"become-owner"},"Стать владельцем в Яндекс.Картах")))},n._renderAdvertOrderLink=function(){var e=n.props,t=e.result,r=e.config.advertLandingUrl;if(!r||b.w(t)||e.config.hideAdverts)return null;var a=r+"?utm_source=webmaps&utm_medium=org_card_link&utm_campaign=webmaps_org_card&permalink="+t.id;return c.createElement("div",{className:rt("footer-link-wrapper")},c.createElement(O.a,{name:"advert_order_link",logClick:!0},c.createElement("a",{href:a,target:"_blank",className:rt("footer-link")},"Разместить рекламу")))},n._renderVerified=function(){var e=n.props,t=e.result,r=t.businessProperties;return e.config.hideAdverts||t.isUserOwner?null:c.createElement(se.a,{businessId:t.id,isVerified:b.H(t),isAdvert:b.w(t),hideBecomeOwner:null==r?void 0:r.hide_claim_organization})},n._renderPersonalRating=function(){var e=n.props.result.personalRating;return e&&n.props.config.experiments.ui.personalRating?c.createElement(X.a,{personalRating:e}):null},n._renderReviewsTab=function(){n.props;return n._renderReviewsWithRating(!0)},n._renderReviews=function(){var e=n.props,t="reviews"===n.props.tab?e.config.reviews.narrowCardReviewsTabAmount:e.config.reviews.narrowCardAmount;return c.createElement(ke.default,{reviewsAmount:t,result:e.result,showPhoto:e.showPhoto,showMore:"overview"===n.props.tab?function(){return n.props.onTabChange("reviews")}:void 0,nodeRef:n._reviewsRef,scrollToReview:n._scrollToHighlightedReview,sectionClassName:rt("section")})},n._renderChain=function(){var e=n.props,t=e.result;if(!t.chain||Object(_.m)(e.config))return null;var r=t.region&&e.isOrgpage?E.f(t.chain,t.region,e.config):void 0;return c.createElement(O.a,{name:"chain",logClick:!0},c.createElement(z.a,{className:rt("chain",{noprint:!0}),view:"link",iconUrl:Ae.a,onClick:e.onChainClick},c.createElement(re.a,{href:r},"Все филиалы сети")))},n._renderDataSources=function(){var e=n.props.result.sources;return 0===e.length?null:c.createElement("div",{className:rt("sources")},c.createElement(ae.default,{sources:e}))},n._renderBooking=function(){var e=n.props;return b.w(e.result)||!y.a(e.result)||e.config.hideAdverts?null:n._renderSection(c.createElement(Ve,{id:e.result.id,reqId:e.result.requestId,searchQuery:e.requestCorrectedQuery},function(t){return c.createElement(Ge,Object(r.a)({},t,{serpId:e.serpId,wide:e.isOrgpage}))}))},n._renderRealtyTab=function(){var e=n._getRealtyIframeUrl();return e?c.createElement(M.a,{url:e,placeholder:c.createElement(he.a,null)}):null},n._renderRealty=function(){var e=n.props,t=e.result.realty,r=e.result.sources.find(function(e){return"realty_yandex"===e.id});return!t||e.config.hideAdverts?null:n._renderSection(c.createElement(G.a,{company:t.company,offers:t.offers}),(null==r?void 0:r.href)?c.createElement("a",{className:rt("menu-link",{"no-border":!0}),href:r.href,target:"_blank"},c.createElement(z.a,{view:"link",iconUrl:De.a,border:"hide"},"Посмотреть все предложения")):null)},n._renderTypo=function(){var e=n.props,t=e.onTypoClick,r=e.requestQuery;return r&&t?c.createElement(ie.a,{query:r,onClick:t}):null},n._renderMastercardSection=function(){var e=n.props.result.mastercardData;return e&&b.x(n.props.result)?n._renderSection(c.createElement(te.default,{data:e})):null},n._renderDiscoveryList=function(){var e=n.props,t=e.result;return!t.discoveryList||Object(_.m)(e.config)?null:n._renderSection(c.createElement(ee.a,{items:t.discoveryList,onClick:e.onDiscoveryClick}))},n._renderMediaBlock=function(){var e,t=n.props,r=t.result;return r.advert&&(r.advert.logo||r.advert.photo)?t.config.experiments.ui.gpTopPhoto?n._renderHeaderMedia():n._renderOfferMedia():(null===(e=r.brandingBanner)||void 0===e?void 0:e.url)?n._renderBrandingBanner(r.brandingBanner):n._renderHeaderMedia()},n._renderPostsPreview=function(){var e,t,r=n.props,a=r.result,i=a.posts&&0!==a.posts.items.length&&!n._isHideRichContentExp()?a.posts:void 0,o=C.a(r.config,a.isUserOwner);return i||o?n._renderSection(c.createElement(B.a,{posts:i,logoUrl:(null===(e=a.advert)||void 0===e?void 0:e.logo)||(null===(t=a.businessImages)||void 0===t?void 0:t.logo.urlTemplate),onPostClick:n._onPostClick,onCreatePostClick:o?n._onCreatePostClick:void 0})):null},n._renderEvents=function(){var e=n.props.result.events;return e&&0!==e.length?c.createElement("div",{className:rt("section")},c.createElement(A.a,{events:e,onShowAllButtonClick:function(){return n.props.onTabChange("events")},wide:n.props.isOrgpage})):null},n._renderEventsTab=function(){var e=n.props.result.events;return e&&0!==e.length?c.createElement(be.a,{events:e,onEventClick:function(e){return n.props.openCardEvent(e)},onPhotoClick:n._onEventPhotoClick}):null},n._renderAttendanceBlock=function(){var e=n.props.result;return e.histogramData?n._renderSection(c.createElement(le.a,{data:e.histogramData,tzOffset:e.tzOffset})):null},n._renderRelatedProductsLink=function(e){void 0===e&&(e={});var t=n.props,r=t.result,a=t.config,i=t.requestCorrectedQuery,o=r.matchedObjects&&"drug"===r.matchedObjects.rubric,s=ue.a(r.businessLinks,a).find(function(e){return"order"===e.id}),l=o&&s&&s.links.find(function(e){return"booking"===e.type});if(l)return l.href+="&query="+encodeURIComponent(i),c.createElement("div",{className:rt("menu-link")},c.createElement(P.a,{links:[l]}));if(!r.topObjects||0===r.topObjects.categories[0].categoryItems.length)return null;var u=E.c(r,{sublanding:Object(S.a)(r)},n.props.config);return c.createElement(O.a,{name:"show_menu",logClick:!0},c.createElement("div",{className:rt("menu-link",{margin:Boolean(e.withMargin),wide:e.wide})},c.createElement(re.a,{href:u},c.createElement(z.a,{view:"link",iconUrl:Me.a,onClick:n._openFullObjects,border:e.withBorder?"show":void 0},"food"===r.topObjects.rubric?"Посмотреть всё меню":"Посмотреть все товары и услуги"))))},n._renderMediaPanorama=function(){var e=n.props,t=e.result.panorama;return!t||n._isHideRichContentExp()?null:c.createElement("div",{className:rt("panorama")},c.createElement(V.a,{panorama:t,wide:e.isOrgpage,placemark:e.result.coordinates,bounds:e.result.bounds,setMapLocation:e.setMapLocation,setMobileViewState:e.setMobileViewState}))},n._renderBusinessContacts=function(){var e=n.props,t=e.isOrgpage;return c.createElement(c.Fragment,null,c.createElement("div",{ref:n._contactsRef}),c.createElement(D.a,{result:e.result,onEntrancesClick:e.onEntrancesClick,onRouteClick:b.z(e.result)?void 0:e.onRouteClick,onMovedClick:e.onMovedClick,onAddressClick:e.onAddressClick,onEditClick:n._onEditClick,isPhoneInitiallyExpanded:e.isPhoneInitiallyExpanded,hideEmptyBlocks:b.G(e.result)}),n._renderChain(),t?null:n._renderAddPhotos())},n._renderTransitSection=function(){var e=n.props;return c.createElement(ye.a,{result:e.result,requestCorrectedQuery:e.requestCorrectedQuery,onDistanceClick:e.onDistanceClick,wide:e.wide})},n._renderPanoramaAndAddressBlock=function(){var e,t,r=n.props,a=r.result,i=r.isOrgpage,o=(null===(e=a.photos)||void 0===e?void 0:e.count)||(null===(t=a.advert)||void 0===t?void 0:t.photo),s=r.config.experiments.ui;return!i&&s.aboutTopAddressFirst?c.createElement(c.Fragment,null,n._renderSection(n._renderBusinessContacts()),n._renderSection(i||!o||a.brandingBanner?null:n._renderMediaPanorama())):c.createElement(c.Fragment,null,n._renderSection(i||!o||a.brandingBanner?null:n._renderMediaPanorama()),n._renderSeparator(),n._renderSection(n._renderBusinessContacts()))},n._renderAboutSection=function(){var e=n.props,t=e.isOrgpage,r=e.config.experiments.ui,a=!t&&(r.aboutTopAddressFirst||r.aboutTopPanoramaFirst);return c.createElement(c.Fragment,null,n._renderSection(n._renderMetroJamsLevel(),n._renderEncyclopedia(),n._renderPersonalFeedback()),a?null:n._renderPanoramaAndAddressBlock(),n._renderSeparator(),n._renderSection(n._renderTransitSection()),n._renderSeparator(),n._renderSection(n._renderBusinessAdvert()),n._renderSeparator(),n._renderSection(n._renderFeatures("overview")))},n._renderOverviewTab=function(){var e,t,r=n.props,a=r.config.experiments.ui,i=r.isOrgpage,o=n._renderAfishaWidget(),s=n._renderAfisha(),l=n._renderDirect(null===(e=r.config.banner)||void 0===e?void 0:e.blockIds.orgpageMiddle,"middle"),u=n._renderDirect(null===(t=r.config.banner)||void 0===t?void 0:t.blockIds.orgpageBottom,"bottom"),d=Boolean(n._renderSpecialOffer(!1)),p=n._renderBusinessLinks(),m=!i&&(a.aboutTopAddressFirst||a.aboutTopPanoramaFirst);return c.createElement(c.Fragment,null,c.createElement("div",{className:rt("overview")},n._renderNoSeparator(),i?null:n._renderMasstransitEmptySchedule(),m?n._renderPanoramaAndAddressBlock():null,n._renderEvents(),n._renderPlacesInside(),d?n._renderSection(n._renderSpecialOffer(!p),p):null,n._renderSeparator(),n._renderPostsPreview(),n._renderSeparator(),d?null:n._renderSection(n._renderRelatedProducts(!p),p),s,n._renderCurrencyExchange(),n._renderPromo(),n._renderFuelInfo(),n._renderBooking(),n._renderRealty(),o,n._renderSeparator(),n._renderAboutSection(),n._renderSeparator(),i?n._renderMediaPanorama():null,n._renderSeparator(),n._renderMobileAdvert(),n._renderDiscoveryList(),n._renderMastercardSection(),n._renderSeparator(),n._renderSection(n._renderVerified()),n._renderAboutBusiness(),i&&l?c.createElement(c.Fragment,null,l,n._renderNoSeparator()):null,n._renderSeparator(),n._renderAttendanceBlock(),n._renderSeparator(),n._renderSimilarPlaces("carousel"),n._renderSeparator(),n._isHideRichContentExp()?null:i?n._renderAdaptiveExtended(n._renderReviewsWithRating()):c.createElement(c.Fragment,null,n._renderPersonalRating(),n._renderReviews())),n._renderGraySection(c.createElement(c.Fragment,null,n._renderBeOwner(),n._renderAdvertOrderLink(),i?null:n._renderDataSources())),i&&u?u:null,i||Object(_.m)(r.config)?null:c.createElement(me.default,null))},n._renderFullItemsTab=function(){return n._renderSection(c.createElement(Ye,{onAddBusinessClick:function(){return n.props.openBusinessFeedback({type:"organization/add"})},onPlacesInsideClick:n.props.onPlacesInsideClick,placeholder:c.createElement(he.a,null),result:n.props.result,wide:n.props.wide}))},n._renderPhotosTab=function(){return c.createElement(Je,{onFullScreenEnter:n._onPhotosClick,onPhotoClick:function(e){return n.props.onPhotoClick(e,{skipPreviewModeOnExit:!0})},placeholder:c.createElement(he.a,null),result:n.props.result})},n._renderCertificates=function(){var e=n.props.result.certificatesUrl;return e?c.createElement(M.a,{url:e,placeholder:c.createElement(he.a,null)}):null},n._renderPostsTab=function(e){var t=n.props,r=t.result.posts;if(!r||0===r.count)return null;var a=C.a(t.config,t.result.isUserOwner);return c.createElement(Ke,{businessId:t.result.id,isUserOwner:t.result.isUserOwner,selectedPostId:t.selectedPostId,placeholder:c.createElement(he.a,null),tab:t.tab,onPostClick:n._onPostClick,onCreatePostClick:a?n._onCreatePostClick:void 0,onEditPostClick:a?t.openEditPost:void 0,onDeletePostClick:a?t.openDeletePost:void 0,scrollToTabTop:e})},n._renderEdadeal=function(){var e=n.props.result.businessLinks.find(function(e){return"#edadeal"===e.aref});return e?c.createElement(M.a,{url:e.href+"&appsearch_header=1",placeholder:c.createElement(he.a,null)}):null},n._renderBookingTab=function(){var e=n._getBookingIframeUrl();return e?c.createElement(M.a,{url:e,placeholder:c.createElement(he.a,null)}):null},n._renderSimilarPlaces=function(e){var t,r=n.props,a=n.props.result,i=(null===(t=a.relatedAdverts)||void 0===t?void 0:t.nearbyOnCard)||[],o=a.relatedPlaces||[];if(b.C(a))return null;var s,l=i&&i.length>=2&&!r.isOrgpage,u=!b.w(a)&&!Object(_.m)(r.config);return l||u?n._renderSection(c.createElement(Q.a,{analyticsName:l?"list"===e?"low_relevance_list":"low_relevance_carousel":"similar_organizations",uri:a.uri,serpId:r.serpId,onResultClick:r.onSimilarResultClick,preloadedResults:i.length>0?i:o,wide:r.isOrgpage,view:e,category:l?void 0:null===(s=a.categories)||void 0===s?void 0:s[0],onCategoryClick:l?void 0:r.onCategoryClick})):null},n._renderSimilarPlacesTab=function(){return n._renderSimilarPlaces("list")},n._renderTabbedView=function(){var e,t=n.props,r=t.tab,a=n._getTabs();return n._renderAdaptiveExtended(c.createElement(L.a,{key:t.result.id,animatedScrollTo:function(e){return Object(N.b)(e,t.config)},getScrollableNode:t.getScrollableNode,initiallyScrollToTop:"overview"!==t.tab&&"inside"!==t.tab&&("reviews"!==t.tab||!(null===(e=t.config.query.reviews)||void 0===e?void 0:e.id)||n._scrolledToHighlightedReview),tab:a.find(function(e){return e.key===r})?r:"overview",onTabChange:t.onTabChange,tabs:a,wide:t.isOrgpage}))},n._renderDirect=function(e,t){var r=n.props,a=r.config;if(!e||b.w(r.result)||Object(_.m)(a))return null;var i=a.orgpageDirects&&a.orgpageDirects[t]||void 0;return c.createElement(Ue.a,{bannerId:e,fallbackDirect:i,fallbackView:"row",bannerFirst:!0})},n._renderSeparator=function(){return n.props.isOrgpage?c.createElement("div",{className:rt("separator")}):null},n._renderNoSeparator=function(){return n.props.isOrgpage?c.createElement("div",{className:rt("no-separator")}):null},n._renderReviewsWithRating=function(e){var t=n.props,a=t.config.reviews;return!t.config.business.enableReview||n._isHideRichContentExp()?null:c.createElement(Oe.a,{result:t.result,pageSize:a.wideCardAmount},function(i){return c.createElement(et,Object(r.a)({result:t.result,nodeRef:n._reviewsRef,showPhoto:t.showPhoto,initiallyExpanded:e||!i.isLoading&&i.reviews.length<=a.wideCardInitialAmount},i))})},n._renderMasstransitEmptySchedule=function(){var e=n.props;return b.G(e.result)?c.createElement("div",{className:rt("masstransit-empty-schedule")},c.createElement(Ce.a,{feedbackItem:e.result})):null},n._renderOldOrgpageHeader=function(){var e=n.props,t=e.result;return c.createElement(c.Fragment,null,c.createElement(je.a,{result:t,onAddressClick:e.onAddressClick,onReviewsClick:n._scrollToReviews,onMovedClick:e.onMovedClick}),c.createElement("div",{className:rt("orgpage-actions")},c.createElement(R.a,{result:t,view:"wide",onRouteClick:e.onRouteClick,onSendToPhoneClick:e.openShareDialog})),n._renderMasstransitEmptySchedule(),n._renderAdaptiveExtended(c.createElement(Ze,{key:t.id,result:t,onAddPhotoClick:n._onAddPhotosClick,onPhotoClick:e.onPhotoClick,hidePhotos:n._isHideRichContentExp()})))},n._renderHeader=function(e){var t=n.props;if("wide"===e.effectiveWidth&&!t.isOrgpage)return n._renderTitleBlock({justTitle:!0});if(t.isOrgpage){var r,a=n._renderDirect(null===(r=t.config.banner)||void 0===r?void 0:r.blockIds.orgpageUpper,"upper");return c.createElement(c.Fragment,null,a,n._renderBreadcrumbs(),n._renderOldOrgpageHeader(),n._renderHeaderAdvert())}var i=t.result;return c.createElement(c.Fragment,null,n._renderTitleBlock(),n._renderTypo(),c.createElement(Y.a,{result:i,hideCoordinates:b.z(i)}),n._renderOwnersBanner())},n._renderContent=function(){var e=n.props;return c.createElement(c.Fragment,null,c.createElement(Te.a,null,function(t){return e.isOrgpage||"wide"===t.effectiveWidth?null:n._renderMediaBlock()}),c.createElement("div",{className:rt("main-wrapper")},c.createElement(Te.a,null,n._renderHeader),n._renderTabbedView()),e.isOrgpage?null:c.createElement(ce.a,{chunk:"orgpage"}),e.config.business.enableReview&&e.result.ratingData.reviewCount>0?c.createElement(ce.a,{chunk:"reviews"}):null)},n.state={hideShutterControl:!1},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.isOrgpage?h.a.reachGoal("orgpage"):h.a.reachGoal("show_minicard"),setTimeout(function(){"contacts"===e.props.initialScrollTo?e._scrollToContacts():"reviews"===e.props.initialScrollTo&&e._scrollToReviews()},0)},n.render=function(){var e=this.props;return c.createElement(v.a,{value:e.wide},c.createElement("div",{className:rt({wide:e.isOrgpage}),itemScope:!0,itemType:"http://schema.org/LocalBusiness"},this._renderContent()),e.result.metrika?c.createElement(g.a,Object(r.a)({},e.result.metrika,{orgId:e.result.id,onReady:this._onMetrikaReady})):null,c.createElement(ge.a,{type:"search_card_page"}),c.createElement(We.a,{eventHandler:this._onScroll}))},t}(c.Component);t.default=at(it)},521:function(e,t,n){},523:function(e,t,n){e.exports=n.p+"_/297b04b602bc8f93b66d20d5993ba5d1.svg"},524:function(e,t,n){e.exports=n.p+"_/0049a900fa223f25a87aa8d76b566925.svg"},525:function(e,t,n){e.exports=n.p+"_/cc7121ef531b9d65204824220de7d1d3.svg"},526:function(e,t,n){e.exports=n.p+"_/f336aa8b73ab7d3390715130fcd38773.svg"},527:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(812),n(4)),o=n(9),s=n(27),c=n(7),l=n(77),u=n(8),d=n(244),p=n(73),m=n(29),f=(n(614),n(814)),v=n.n(f),h=Object(c.a)("card-phones-view"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onPhoneClick=function(e){null==e||e.stopPropagation(),n.setState({showCounter:!0})},n._renderNumberWithSpoiler=function(e,t){if(t)return e;var r=n.props,a=r.goal?["goal_deepuse",r.goal]:"goal_deepuse";return i.createElement("div",{className:h("number")},i.createElement("span",{itemProp:"telephone"},e),i.createElement(u.a,{name:"show_phone",metrikaGoal:a,logClick:!0},i.createElement("div",{className:h("more-wrapper"),onClick:function(e){n.setState({opened:!0}),n._onPhoneClick(e)}},i.createElement("div",{className:h("more")},"Показать телефон"))))},n._renderNumber=function(e){var t=n.props,r=t.goal?["goal_deepuse",t.goal]:"goal_deepuse";return i.createElement(u.a,{name:"call_phone",metrikaGoal:r,logClick:!0},i.createElement("a",{href:"tel:"+e,target:"_parent",className:h("phone-number-link"),onClick:n._onPhoneClick,itemProp:"telephone"},e))},n._renderPhone=function(e,t){var r=e.number;return e.extraNumber&&(r+=" "+(function(params){return "(доб. "+params.number+")";})({number:e.extraNumber})),i.createElement("div",{className:h("phone"),ref:function(e){return e&&e.setAttribute("x-ms-format-detection","none")}},i.createElement("div",{className:h("phone-number")},n.props.isPhoneInitiallyExpanded?n._renderNumber(r):n._renderNumberWithSpoiler(r,n.state.opened||!t)),n.state.showCounter?i.createElement(d.a,{url:e.counter}):null)},n._renderPlaceholder=function(){var e=n.props,t=e.onEditClick,r=e.newContacts;return i.createElement(m.a,{iconUrl:r?void 0:v.a,border:r?"hide":"show",value:t?i.createElement("div",{className:h("add"),onClick:function(){return t("organization/edit-info")}},"Добавить"):null},i.createElement("div",{className:h("placeholder")},r?"Телефон не указан":"Нет информации"))},n._renderDropdown=function(e){var t=n.props,a=n.state,o=e[0],s=t.newContacts,c=Object(l.d)(o,t.config),u=i.createElement("div",{className:h("list",{new:s,expanded:!c})},e.slice(1).map(function(e,r){return i.createElement(m.a,{size:s?"large":"small",title:Object(l.d)(e,t.config),border:s?"show":void 0,key:r},n._renderPhone(e))})),d=a.opened&&e.length>1?e.length-1:void 0,f={size:s?"small":void 0,title:c,iconUrl:s?void 0:v.a,value:d,children:n._renderPhone(o,!0)};return i.createElement(p.a,Object(r.a)({},f,{content:u,arrowHidden:!a.opened||1===e.length,hideCardBorder:s,delimiter:s?null:void 0,isInitiallyExpanded:n.props.isPhoneInitiallyExpanded}))},n.state={opened:Boolean(n.props.isPhoneInitiallyExpanded),showCounter:!1},n}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props.phones;return i.createElement(u.a,{name:"phones"},i.createElement("div",{className:h({wide:this.props.isWideCard})},e&&0!==e.length?this._renderDropdown(e):this._renderPlaceholder()))},t}(i.Component);t.a=Object(s.b)(Object(o.b)(g))},528:function(e,t,n){"use strict";n(529);var r=n(4),a=n(9),i=n(7),o=n(8),s=n(11),c=n(43),l=n(163),u=n(531),d=n.n(u),p=n(532),m=n.n(p),f=Object(i.a)("business-header-personal-rating");t.a=Object(a.b)(function(e){var t=(function(params){return "Подходит вам на "+params.percentage;})({percentage:"__percentage"}),n=e.personalRating.last_rate,a=n?r.createElement(r.Fragment,null,"Ваша оценка",": ",r.createElement("span",{className:f("rating")},n)):Object(l.a)(t,{__percentage:r.createElement("span",{className:f("rating")},e.personalRating.score,"%")});return r.createElement(o.a,{name:"personal_rating",nodeState:{lastRate:n,score:e.personalRating.score},logClick:!0},r.createElement("div",{className:f()},r.createElement(s.a,{url:m.a,className:f("icon",{rated:Boolean(n)})}),r.createElement("span",{className:f("label")},a),e.showHint&&!n?r.createElement(c.a,{text:r.createElement(o.a,{name:"hover_hint"},"Персональный рейтинг основан на ваших оценках организаций. Чем больше оценок вы оставляете, тем он точнее."),isNeededOnMobile:!0,position:["right","bottom"],className:f("hint"),hideOnClick:!1},r.createElement("div",{className:f("hint-icon")},r.createElement(s.a,{url:d.a}))):null))})},529:function(e,t,n){},531:function(e,t,n){e.exports=n.p+"_/0f42c7f9ab59cf2314bd7f2987756007.svg"},532:function(e,t,n){e.exports=n.p+"_/62adaefa9833bfd0284b3f484a5f7cd5.svg"},533:function(e,t,n){},535:function(e,t,n){e.exports=n.p+"_/113d4bdd030901e316d83e1a389ed2ad.svg"},536:function(e,t,n){e.exports=n.p+"_/b75f293b42e1975dc602910bdfab77e7.svg"},537:function(e,t,n){e.exports=n.p+"_/c1688d08da22cea405f7b5d074ee4220.svg"},538:function(e,t,n){"use strict";n(539);var r=n(4),a=n(7),i=n(9),o=n(8),s=Object(a.a)("mastercard-snippet-badge");t.a=Object(i.b)(function(e){var t=e.currentOffer,n=e.type,a=e.config.bunker.mastercard;return r.createElement(o.a,{name:"mastercard_badge"},r.createElement("div",{className:s({type:n})},r.createElement("div",{className:s("icon")}),r.createElement("div",{className:s("info")},r.createElement("div",{className:s("offer")},t.offer),a&&a.serp?r.createElement("div",{className:s("badge")},a.serp.specialBadge):null)))})},539:function(e,t,n){},541:function(e,t,n){"use strict";var r=n(6),a=(n(2069),n(4)),i=n(7),o=n(162),s=n(8),c=n(93),l=Object(i.a)("related-item-photo-view"),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getPhotoLink=function(){if(n.props.photoLink)return n.props.photoLink.replace("%s","small"===n.props.size?"S":"M")},n._renderImage=function(){var e=n.props,t=a.createElement(o.a,{height:"snippet"===e.view?"100%":e.imageHeight,url:e.transition?void 0:n._getPhotoLink(),hovered:n.state.hovered},n._renderIcon({transition:e.transition}));return e.lazyImageLoad?a.createElement(c.a,null,t):t},n._renderMain=function(){var e=n.props;return a.createElement("div",{className:l("main")},a.createElement("div",{className:l("title"),title:e.title},e.title),e.description?a.createElement("div",{className:l("description"),title:e.description},e.description):null)},n._renderIcon=function(e){var t=(void 0===e?{}:e).transition;return n.props.photoLink?null:a.createElement("div",{className:l("icon",{transition:t}),style:{backgroundImage:"url('"+n.props.iconUrl+"')"}})},n.state={hovered:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n="snippet"===t.view?void 0:{height:t.imageHeight};return a.createElement(s.a,{name:t.transition?"transition_item":"photo_item",nodeState:{hasPhoto:t.transition?void 0:Boolean(t.photoLink)}},a.createElement("div",{className:l({size:t.size,"two-columns":t.twoColumns,clickable:t.clickable,view:t.view,first:t.first}),onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},a.createElement("div",{className:l("image"),style:n},this._renderImage()),a.createElement("div",{className:l("info")},this._renderMain(),t.additional)))},t}(a.PureComponent);t.a=u},542:function(e,t,n){"use strict";var r=n(6),a=(n(543),n(4)),i=n(7),o=n(8),s=n(88),c=n(22),l=["by_relevance_org","by_time","by_likes_count_desc","by_rating_asc","by_rating_desc"],u={by_time:"По новизне",by_relevance_org:"По умолчанию",by_likes_count_desc:"По популярности",by_rating_asc:"Сначала отрицательные",by_rating_desc:"Сначала положительные"},d=Object(i.a)("rating-ranking-view"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=a.createRef(),n._switchPopup=function(){n.setState({isPopupShown:!n.state.isPopupShown})},n._closePopup=function(){n.setState({isPopupShown:!1})},n._selectRanking=function(e){n._closePopup(),n.props.onUpdate(e)},n._renderPopup=function(){return a.createElement(c.a,{isShown:n.state.isPopupShown,getTarget:function(){return n._ref.current},onClose:n._closePopup,position:"bottom-left",restrictPosition:!0,showArrow:!1,offset:{main:8,side:0},type:"map-hint",onScroll:"close"},a.createElement("div",{className:d("popup")},l.map(function(e){return a.createElement(o.a,{key:e,name:"ranking_option",nodeState:{ranking:e},logClick:!0},a.createElement("div",{className:d("popup-line"),onClick:function(){return n._selectRanking(e)}},u[e]))})))},n.state={isPopupShown:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.ranking;return a.createElement(o.a,{name:"ranking",nodeState:{ranking:e},logClick:!0},a.createElement("div",{className:d(),ref:this._ref,onClick:this._switchPopup},a.createElement("span",null,u[e]),a.createElement(s.a,{isFlipped:this.state.isPopupShown})),this._renderPopup())},t}(a.PureComponent);t.a=p},543:function(e,t,n){},545:function(e,t,n){"use strict";n(546);var r=n(4),a=n(7),i=n(27),o=n(548),s=Object(a.a)("business-summary-rating");t.a=Object(i.b)(function(e){return e.ratingValue?r.createElement("div",{className:s({wide:e.isWideCard})},r.createElement(o.a,e)):null})},546:function(e,t,n){},548:function(e,t,n){"use strict";var r=n(549),a=n.n(r),i=n(4),o=n.n(i),s=n(7),c=n(27),l=n(9),u=n(8),d=n(113),p=n(137),m=n(20),f=n(59),v=Object(m.a)({resolved:{},chunkName:function(){return"good-place"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("good-place").then(n.bind(null,334))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 334}}),h=Object(s.a)("business-summary-rating-badge-view"),g=function(e){var t=f.b(e.ratingValue,e.config.lang,{min:1,max:1}),n=t[0],r=t[1],a=t[2];return i.createElement(u.a,{name:"business_rating"},i.createElement("div",{className:h({wide:e.isWideCard,"no-review-suggestion":!e.hasReviewSuggestion||e.isUserReviewLoading})},i.createElement("div",{className:h("rating-and-stars")},i.createElement("span",{className:h("rating")},i.createElement("span",{className:h("rating-text")},n),i.createElement("span",{className:h("rating-text",{separator:!0})},r),i.createElement("span",{className:h("rating-text")},a)),i.createElement("div",{className:h("stars-and-count")},i.createElement(d.a,{ratingValue:e.ratingValue,onlyStars:!0}),i.createElement("div",{className:h("rating-count")},i.createElement(p.a,{ratingCount:e.ratingCount,isSummary:!0})))),e.goodPlaceYear?i.createElement(v,{goodPlaceYear:e.goodPlaceYear}):null))};t.a=Object(l.b)(Object(c.b)(g))},549:function(e,t,n){},551:function(e,t,n){},553:function(e,t,n){"use strict";var r=n(6),a=(n(554),n(4)),i=n(7),o=Object(i.a)("direct-advert-view"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderDisclaimers=function(e){return e.map(function(e,t){return a.createElement("span",{key:t,className:o("disclaimer")},e)})},t._renderSubtitle=function(){var e=t.props,n=e.direct.disclaimers||[];return a.createElement("span",{className:o("bottom",{"as-block":e.isInCard&&n.length>0})},a.createElement("span",{className:o("advert")},"Реклама"),t._renderDisclaimers(n))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.direct;return a.createElement("div",{className:o({link:Boolean(e.isInCard&&t.url)})},a.createElement("span",{className:o("title")},t.title),a.createElement("span",{className:o("text")},t.text),this._renderSubtitle())},t}(a.Component);t.a=s},554:function(e,t,n){},56:function(e,t,n){},584:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(12),o=n(25),s={},c={getRoute:function(e,t){var n=e.points.join("~");return s[n]||(s[n]=Object(o.a)("taxi/getRoute",{query:{rll:n,lang:t.locale}},t)),s[n]}},l=n(612),u=n(18),d=n(17),p=n(9),m=Object(d.a)(p.b,i.b(function(e){return{geolocation:e.geolocation}})),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._loadTaxi=function(){var e=n.props,t=[Object(l.a)(e.geolocation),e.coordinates];n._taxiAction=u.a.create(c.getRoute({points:t},e.config),{success:function(e){var t,r;(!n.state.taxi||"error"in n.state.taxi)&&(n.setState({taxi:e}),"error"in e||null===(t=(r=n.props).onLoad)||void 0===t||t.call(r))}})},n.state={taxi:null},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadTaxi()},n.componentDidUpdate=function(e){var t=Object(l.a)(e.geolocation),n=Object(l.a)(this.props.geolocation);!t&&n&&this._loadTaxi()},n.componentWillUnmount=function(){u.a.cancel(this._taxiAction)},n.render=function(){return!this.state.taxi||"error"in this.state.taxi?null:this.props.children(this.state.taxi)},t}(a.Component);t.a=m(f)},607:function(e,t,n){"use strict";var r=n(120),a=n(250);t.a=function(e,t){return e&&e.length?Object(a.a)(e,Object(r.a)(t,2)):[]}},61:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("feedback").then(n.bind(null,249))},{openCommonFeedback:!0,closeCommonFeedback:!0,openFeedback:!0,closeFeedback:!0,openSelectObjectFeedback:!0,openBusinessFeedback:!0,openRouteFeedback:!0,openAddObjectFeedback:!0,openEditObjectFeedback:!0,openMapEditFeedback:!0,completeFeedback:!0,submitFeedback:!0})},612:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=500;function a(e){return(null==e?void 0:e.accuracy)&&e.accuracy<=r?e.currentPosition:null}},613:function(e,t,n){"use strict";n(777);var r=n(4),a=n(7),i=n(8),o=Object(a.a)("search-typo-view");t.a=function(e){var t=e.query,n=e.onClick;return r.createElement(i.a,{name:"typo",logClick:!0},r.createElement("div",{className:o()},r.createElement("span",{className:o("title")},"Исправлена опечатка"," "),r.createElement("span",{className:o("query-wrapper")},r.createElement("span",{className:o("query"),onClick:n},t))))}},614:function(e,t,n){"use strict";var r=n(6),a=(n(794),n(4)),i=n(7),o=n(9),s=n(77),c=n(331),l=n(8),u=n(29),d=n(615),p=n.n(d),m=Object(i.a)("business-phones-dialog-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderContent=function(){var e=t.props;return e.phones.map(function(t,n){return a.createElement(u.a,{title:Object(s.d)(t,e.config),iconUrl:p.a,key:n},a.createElement(l.a,{name:"call_phone",logClick:!0,metrikaGoal:"goal_deepuse"},a.createElement("a",{href:"tel:"+t.number,className:m("link"),target:"_parent"},t.number)))})},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(c.a,{title:"Все телефоны",content:this._renderContent()},this.props.children)},t}(a.PureComponent);t.a=Object(o.b)(f)},615:function(e,t,n){e.exports=n.p+"_/d354bf9f740fa19de769a348441d3f2f.svg"},616:function(e,t,n){"use strict";var r=n(6),a=(n(798),n(4)),i=n(7),o=n(9),s=n(21),c=n(331),l=n(8),u=n(29),d=n(800),p=n.n(d),m=Object(i.a)("business-urls-dialog-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderContent=function(){return a.createElement(l.a,{name:"urls"},t.props.urls.map(function(e,t){return a.createElement(u.a,{iconUrl:p.a,key:t},a.createElement(l.a,{name:"url",metrikaGoal:"deepuse",logClick:!0},a.createElement("a",{className:m("link"),href:e,target:"_blank",rel:"nofollow"},s.w(e,0===t))))}))},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(c.a,{title:"Все сайты",content:this._renderContent()},this.props.children)},t}(a.PureComponent);t.a=Object(o.b)(f)},617:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(9),o=n(8),s=n(96),c=n(199),l=n(77),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClick=function(e){var t=n.props;"tel"===t.type?n.setState({isTelButtonClicked:!0}):t.iframe&&!t.preferNewTab&&(e.preventDefault(),n.setState({isFrameOpened:!0}))},n._onIframeClose=function(){n.setState({isFrameOpened:!1})},n._renderFrame=function(){var e=n.props,t=n.state;if(!e.iframe||!e.value)return null;var r={border:"none",width:e.iframe.width,height:e.iframe.height};return a.createElement(c.a,{isOpen:t.isFrameOpened,href:e.value,iframeStyle:r,onClose:n._onIframeClose,fullView:!0})},n.state={isFrameOpened:!1,isTelButtonClicked:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this.state.isTelButtonClicked,n="tel"===e.type,r=n&&t?"+"+l.a(e.value,"7 923 456 78 90"):e.title,i=n?t?"tel:+"+e.value:void 0:e.value;return a.createElement(o.a,{name:"cta_button",nodeState:{actionType:e.type,title:r},metrikaGoal:e.metrikaGoal,logClick:!0},this._renderFrame(),a.createElement(s.a,{view:e.view,type:"action_button",rel:"nofollow",text:r,url:i,target:n?void 0:"_blank",onClick:this._onClick,isStretched:e.isStretched,size:e.size}))},t}(a.PureComponent);t.a=Object(i.b)(u)},618:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(96),o=n(9),s=n(803),c=n.n(s),l=n(59),u=n(584),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderTaxiButton=function(e){var n=t.props,r=e.price?(function(params){return "от "+params.price;})({price:Object(l.a)({value:e.price,currency:e.currencyCode},n.config.lang)}):"";return a.createElement(i.a,{type:"taxi",analytics:"get_taxi_button",text:r,icon:c.a,url:e.link,target:"_blank"})},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(u.a,{coordinates:e.coordinates,onLoad:e.onLoad},this._renderTaxiButton)},t}(a.PureComponent);t.a=Object(o.b)(d)},619:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("events").then(n.bind(null,1131))},{openMapEvent:!0,openCardEvent:!0})},62:function(e,t,n){"use strict";var r=n(44),a=n(94),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.a=function(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(a.a)(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},620:function(e,t,n){"use strict";var r=n(13),a=n(6),i=(n(815),n(4)),o=n(7),s=n(9),c=n(27),l=n(8),u=n(73),d=n(29),p=(n(616),n(21)),m=n(621),f=n.n(m),v=Object(o.a)("business-urls-view"),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onUrlClick=function(e){e.stopPropagation()},t._renderUrl=function(e,n){var r=t.props.domainName,a=e,o=p.w(e,n),s=t.props.newContacts;return i.createElement("div",{className:v("url")},i.createElement(l.a,{name:"site_link",metrikaGoal:"deepuse",logClick:!0},i.createElement("a",{itemProp:"url",className:v("link",{expanded:!s}),href:a,onClick:t._onUrlClick,target:"_blank",rel:"nofollow"},i.createElement("span",{className:v("text")},r||o))))},t._renderDropdownContent=function(e){if(0===e.length)return null;var n=t.props,r=n.newContacts;return i.createElement("div",{className:v("list",{new:r,"hide-last-border":n.hideLastBorder})},e.map(function(a,o){return i.createElement(d.a,{key:o,className:r?void 0:v("regular"),view:r?void 0:"link",size:r?"large":"small",border:!r||n.hideLastBorder&&o===e.length-1?void 0:"show"},t._renderUrl(a,!1))}))},t._renderDropdown=function(){var e=t.props,n=e.urls,a=n[0],o=n.slice(1),s=e.newContacts,c=n.length-1,l={content:t._renderDropdownContent(o),value:c,onClick:s?void 0:function(){},view:s?void 0:"link",iconUrl:s?void 0:f.a,size:s?"small":void 0,children:t._renderUrl(a,!0)};return i.createElement(u.a,Object(r.a)({},l,{hideCardBorder:s,delimiter:s?null:void 0}))},t}return Object(a.a)(t,e),t.prototype.render=function(){return i.createElement(l.a,{name:"site_links"},i.createElement("div",{className:v({wide:this.props.isWideCard})},this._renderDropdown()))},t}(i.Component);t.a=Object(c.b)(Object(s.b)(h))},621:function(e,t,n){e.exports=n.p+"_/59aeb8e5c610ef0eca2860560442a1a3.svg"},622:function(e,t,n){"use strict";var r=n(6),a=(n(819),n(4)),i=n(7),o=n(27),s=n(8),c=n(29),l=n(43),u=Object(i.a)("business-working-intervals-view"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderInterval=function(e,t){var n=e.isToday?a.createElement("div",{className:u("current-icon")}):void 0;return a.createElement(c.a,{size:"small",icon:n,key:t,border:"hide"},a.createElement(l.a,{isDisabled:!e.changedDate,position:["right"],text:"Праздничный день"},a.createElement("div",{className:u("item")},e.changedDate?a.createElement("div",{className:u("day")},e.dayName,a.createElement("span",null,", "),a.createElement("span",{className:u("date")},e.changedDate)):a.createElement("div",{className:u("day")},e.dayName),a.createElement("div",{className:u("intervals",{weekend:e.isWeekend})},Array.isArray(e.text)?e.text.map(function(e,t){return a.createElement("div",{key:t,className:u("interval")},e)}):e.text))))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return a.createElement(s.a,{name:"content"},a.createElement("div",{className:u({wide:e.isWideCard,card:e.isInCard})},e.intervals.map(this._renderInterval)))},t}(a.Component);t.a=Object(o.b)(d)},623:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(6),i=n(4),o=n.n(i),s=n(12),c=n(20),l=n(427),u=n(843),d=n(545),p=n(21),m=n(7),f=Object(c.a)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(null,647))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 647}},{ssr:!1}),v=Object(m.a)("card-reviews-view"),h=s.b(function(e){return{config:e.config,timeContext:e.timeContext}}),g=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._showMore=function(e){t.props.showMore?t.props.showMore():e.loadMore()},t._renderSummarySection=function(e){var n,a=t.props,o=a.result.ratingData;return i.createElement("div",{className:v("summary")},i.createElement(d.a,Object(r.a)({ratingValue:o.ratingValue,ratingCount:o.ratingCount,goodPlaceYear:null===(n=a.result.awards)||void 0===n?void 0:n.goodPlaceYear},e)),i.createElement(f,Object(r.a)({result:a.result,config:a.config,showPhoto:a.showPhoto},e)))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this,t=this.props;if(!t.config.business.enableReview)return null;var n=p.c(t.result,{sublanding:"reviews"},t.config);return i.createElement(l.a,{result:t.result,pageSize:t.reviewsAmount},function(a){return i.createElement(i.Fragment,null,i.createElement("div",{className:t.sectionClassName,ref:t.noUserReview?t.nodeRef:void 0},e._renderSummarySection(a),t.result.ratingData.reviewCount>0?i.createElement(u.a,Object(r.a)({reviewsLink:n,businessId:t.result.id,businessTitle:t.result.title,showPhoto:t.showPhoto,scrollToReview:t.scrollToReview,showMore:function(){return e._showMore(a)},isUserOwner:t.result.isUserOwner},a)):null))})},t}(i.PureComponent);t.default=h(g)},624:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("posts").then(n.bind(null,1166))},{loadPost:!0,likePost:!0,loadPosts:!0,openCreatePost:!0,openEditPost:!0,openDeletePost:!0,createPost:!0,editPost:!0,deletePost:!0,resetCreateStatus:!0,resetUpdateStatus:!0,resetDeleteStatus:!0})},63:function(e,t,n){},65:function(e,t,n){},651:function(e,t,n){"use strict";var r=n(13),a=n(6),i=n(4),o=n(2792),s=n(9),c=n(7),l=n(93),u=(n(846),n(21)),d=n(8),p=n(11),m=n(29),f=n(73),v=n(39),h=n(848),g=n.n(h),_=n(849),E=n.n(_),b=n(850),k=n.n(b),y=Object(c.a)("masstransit-stops-view"),C=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getStopIcon=function(e){var t="metro"===e.type?e.color:void 0;return i.createElement(p.a,{url:t?E.a:k.a,style:{color:t}})},t._renderStop=function(e){var n=t.props,r=n.goal?["goal_deepuse",n.goal]:"goal_deepuse";return i.createElement("div",{itemScope:!0,itemType:"metro"===e.type?"http://schema.org/SubwayStation":"http://schema.org/BusStop",className:y("stop")},i.createElement("div",{className:y("stop-name")},e.name),i.createElement(d.a,{name:"metro"===e.type?"metro_route":"masstransit_route",nodeState:{kind:n.toponymKind},metrikaGoal:r,logClick:!0},n.isDistanceUpdating?i.createElement("div",{className:y("stop-distance-spinner")},i.createElement(v.a,{view:"small",withoutMargin:!0})):t._renderDistance(e)))},t._renderDistance=function(e){var n=e.distance,r=e.coordinates,a=e.name,o=t.props.onDistanceClick;return i.createElement("div",{className:y("stop-distance"),onClick:function(e){e.stopPropagation(),null==o||o(r,a)}},i.createElement("div",{className:y("stop-distance-icon")},i.createElement(p.a,{url:g.a,className:y("stop-distance-icon-inner")})),i.createElement("div",{className:y("stop-distance-text")},n))},t._renderDropdown=function(e){return i.createElement("div",{className:y("list")},e.map(function(e,n){return i.createElement(m.a,{icon:t._getStopIcon(e),key:n},t._renderStop(e))}))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.stops.filter(function(e){return void 0===e.distanceValue||e.distanceValue>1});if(0===t.length)return null;var n=t[0],r=t.slice(1),a="metro"===n.type?"metro":"masstransit";return i.createElement(d.a,{name:"masstransit"},i.createElement("div",{className:y({type:a,clickable:!e.nonInteractive})},i.createElement(f.a,{content:this._renderDropdown(r),icon:this._getStopIcon(n),value:r.length,delimiter:e.withoutDelimiter?null:void 0,arrowHidden:1===t.length,isLast:e.isLast,isInitiallyExpanded:e.config.uatraits.isRobot},this._renderStop(n)),e.region?i.createElement("div",{style:{display:"none"}},t.map(function(t){var n=u.m(t,e.region,e.config);return i.createElement("a",{href:n,key:t.id},t.name)})):null))},t}(i.Component),w=Object(s.b)(C),S=n(10),N=n(198),T=n(18),O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onUpdateSuccess=function(e){var t=n.props.stops.map(function(t,n){var r=e[n];return[Object(S.a)(Object(S.a)({},t),{},{distance:r?r.text:t.distance}),r?r.value:0]}).filter(function(t,n){return Boolean(e[n])}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]});n.setState({stops:t,isDistanceUpdating:!1})},n._onUpdateFail=function(){n.setState({isDistanceUpdating:!1})},n.state={stops:t.stops.slice(),isDistanceUpdating:!0},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;this._getDistanceAction=T.a.create(N.a.getDistance({coordinates:e.coordinates,stops:e.stops},e.config),{success:this._onUpdateSuccess,fail:this._onUpdateFail})},n.componentWillUnmount=function(){T.a.cancel(this._getDistanceAction)},n.render=function(){return this.props.children(this.state)},t}(i.Component),R=Object(s.b)(O),j=n(90),I=n(59),x=n(477),P=n.n(x),A=n(584),B=Object(c.a)("card-taxi-link-view"),M=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderTaxiButton=function(e){var n=t.props,r="Вызвать такси",a=e.price?(function(params){return "от "+params.price;})({price:Object(I.a)({value:e.price,currency:e.currencyCode},n.config.lang)}):"";return i.createElement(d.a,{name:"get_taxi_button",logClick:!0},i.createElement(m.a,{view:"link",className:B(),iconUrl:P.a,keepIconColor:!0,onClick:function(){return window.open(e.link,"_blank")}},r+" "+a))},t}return Object(a.a)(t,e),t.prototype.render=function(){return i.createElement(A.a,{coordinates:this.props.result.coordinates,onLoad:this.props.onLoad},this._renderTaxiButton)},t}(i.PureComponent),L=Object(s.b)(M),D=n(12),U=n(23),F=n(258),z=n(851),q=n.n(z),W={setMobileViewState:U.a.setMobileViewState,setMapLocation:U.a.setMapLocation,setParkingLayer:F.a.setLayer,updateLayerAvailability:F.a.updateLayerAvailability},H=D.b(function(e){return{isLayerShown:e.parking.isLayerShown,isLayerEnabled:e.parking.isLayerEnabled,config:e.config}},W),V=Object(c.a)("card-parking-view"),G=H(function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onToggleParkingLayerClick=function(){var e,n,r=t.props,a=null===(e=r.config.layers.carparks)||void 0===e?void 0:null===(n=e.zoomRange)||void 0===n?void 0:n[0];!r.isLayerEnabled&&a&&(r.setMapLocation({center:r.coordinates,zoom:a,duration:450}),r.updateLayerAvailability({isLayerEnabled:!0})),r.setParkingLayer(!r.isLayerShown),(r.isLayerEnabled||r.isLayerShown||a)&&r.setMobileViewState("mini")},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(d.a,{name:"parking_control",nodeState:{checked:e.isLayerShown},logClick:!0},i.createElement(m.a,{className:V({noprint:!0}),view:"link",iconUrl:q.a,onClick:this._onToggleParkingLayerClick},e.isLayerShown?"Скрыть парковки":"Показать парковки"))},t}(i.Component)),X=n(27),Q=n(30),Y=["entrance","house","street","metro_station","district"],K=Object(c.a)("card-transit-view"),J=function(e){function t(t){var n;return(n=e.call(this,t)||this)._skipMasstransitUpdate=function(){var e=n.props.result;return"business"===e.type||"house"===e.kind&&Object(o.a)(e.coordinates,e.displayCoordinates)},n._renderStops=function(e){var t,a;if(0===e.length)return null;var o=n.props,s=o.result,c={goal:"business"===s.type?null===(t=s.metrika)||void 0===t?void 0:null===(a=t.goals)||void 0===a?void 0:a.route:void 0,onDistanceClick:o.onDistanceClick,region:s.region,stops:e,toponymKind:"toponym"===s.type?s.kind:void 0};return n._skipMasstransitUpdate()?i.createElement(w,c):i.createElement(R,{stops:c.stops,coordinates:s.displayCoordinates},function(e){var t=e.stops,n=e.isDistanceUpdating;return i.createElement(w,Object(r.a)({},c,{stops:t,isDistanceUpdating:n}))})},n._renderTaxi=function(){return i.createElement(l.a,null,i.createElement(L,{result:n.props.result,onLoad:function(){return n.setState({hasTaxi:!0})}}))},n._renderParking=function(){var e=n.props.result;return"business"===e.type||Y.includes(e.kind)?i.createElement(G,{coordinates:e.displayCoordinates}):null},n.state={hasTaxi:!1},n}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props.result,t=e.metro||[],n=e.stops||[];if("business"===e.type&&Q.z(e))return null;var r="business"===e.type||"metro_station"!==e.kind?this._renderStops(t):null,a=this._renderStops(n),o=this._renderParking(),s=Boolean(r||a||this.state.hasTaxi||o);return i.createElement("div",{className:K()},s?i.createElement(j.a,{type:"h2",mediumBottomGutter:!this.props.isWideCard},"Как добраться"):null,r,a,this._renderTaxi(),o)},t}(i.PureComponent);t.a=Object(s.b)(Object(X.b)(J))},67:function(e,t,n){e.exports=n.p+"_/5e75b507edc611b46cc0cdfebd5ff33c.svg"},679:function(e,t,n){e.exports=n.p+"_/959a45d99f74c40ea3f81d94ee17e4fd.svg"},68:function(e,t,n){e.exports=n.p+"_/8156832d990b20d84ae2fa43ba364ee4.svg"},680:function(e,t,n){e.exports=n.p+"_/9a9691e5372360c05ac11a4e8b8ebeb7.svg"},681:function(e,t,n){e.exports=n.p+"_/6e7236a4cc4e5311d3722dd5b1eea888.svg"},682:function(e,t,n){e.exports=n.p+"_/05c75ef6ccc8e531183c874ea3b0f685.svg"},683:function(e,t,n){e.exports=n.p+"_/35fe0e34f412475d940eff96e8abb21d.svg"},684:function(e,t,n){e.exports=n.p+"_/836e2081a5af14bd198c0a4482f53b86.svg"},685:function(e,t,n){e.exports=n.p+"_/1027b377ecd358a9fec4b360a3d86cd9.svg"},686:function(e,t,n){e.exports=n.p+"_/aafefa443ade5cd27c3f6aac82731caa.svg"},687:function(e,t,n){e.exports=n.p+"_/87305b47859bf349c870b8b54c60c112.svg"},688:function(e,t,n){e.exports=n.p+"_/e34933a2811df331657d8197434dae7d.svg"},689:function(e,t,n){e.exports=n.p+"_/fddab98eb8a46d4d54ad29f5a0f8f6da.svg"},690:function(e,t,n){e.exports=n.p+"_/33f075508d335a7695fd47c6c0d19d1e.svg"},691:function(e,t,n){e.exports=n.p+"_/00a6b379f433da92bac94a4bde562057.svg"},692:function(e,t,n){e.exports=n.p+"_/d491c97607305be8de04da939b618982.svg"},693:function(e,t,n){e.exports=n.p+"_/1c0a8bc8f11a9c9a7f17aab40eb2eaa0.svg"},694:function(e,t,n){e.exports=n.p+"_/630eb459a4d3e3796145f87ff2145cd2.svg"},695:function(e,t,n){e.exports=n.p+"_/d2c4543c554b7db48c2a082a440e3608.svg"},697:function(e,t,n){},72:function(e,t,n){"use strict";n(103),n(105);var r=n(4),a=n(7),i=n(31),o=n(46),s=Object(a.a)("sidebar-panel-header-view"),c=r.memo(function(e){return r.createElement("div",{className:[s({bordered:e.showBorder,view:e.view}),e.className].filter(Boolean).join(" ")},r.createElement("div",{className:s("title",{big:e.big})},e.title||e.children),r.createElement(o.a,{onChange:e.onChangeVisibiltyTitle},null),r.createElement("div",{className:s("controls")},e.onClose?r.createElement(i.a,{onClick:function(t){t.stopPropagation(),e.onClose()},relative:!0,circle:!0}):null))});c.displayName="SidebarPanelHeaderView",t.a=c},73:function(e,t,n){"use strict";var r=n(6),a=(n(209),n(4)),i=n(7),o=n(27),s=n(111),c=n(8),l=n(52),u=n(29),d=n(320),p=Object(i.a)("card-dropdown-view"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._card=a.createRef(),n._controlAnalyticsRef=a.createRef(),n._onMoreClick=function(e){var t;"A"!==e.target.nodeName&&(null===(t=n._controlAnalyticsRef.current)||void 0===t||t.logEvent("click"),e.preventDefault(),e.stopPropagation(),n.setState({isExpanded:!n.state.isExpanded}))},n._collapseContent=function(){n._content&&(n._content.style.overflow="",n._card.current&&(n._card.current.style.overflow=""),n._animateContent(n._content.offsetHeight,0,n._content))},n._expandContent=function(){n._content&&n._animateContent(0,n._content.offsetHeight,n._content)},n._animateContent=function(e,t,n){n.style[Object(s.b)().styles.transition]="max-height 0.3s",n.style.maxHeight=e+"px",n.getBoundingClientRect(),n.style.maxHeight=t+"px"},n._onTransitionEnd=function(e){e.target===n._content&&n._content&&n._card.current&&(n._content.style[Object(s.b)().styles.transition]="",n._content.style.maxHeight="",n._content.style.overflow="visible",n._card.current.style.overflow="visible")},n._renderContent=function(){var e=n.state.isExpanded,t=n.props;return e?a.createElement(c.a,{name:"content"},a.createElement("div",{className:p("content"),ref:function(e){return n._content=e},onTransitionEnd:n._onTransitionEnd},t.content,void 0===t.delimiter?a.createElement("div",{className:p("delimiter")}):t.delimiter)):null},n._renderChildren=function(){var e=n.props,t=e.children;if(!t)return null;var r=Boolean(!e.arrowHidden&&e.content),i=n.state.isExpanded;return a.createElement("div",null,a.createElement(u.a,{className:e.className,title:e.title,view:e.view,size:e.size,iconUrl:e.iconUrl,icon:e.icon,iconClassName:e.iconClassName,keepIconColor:e.keepIconColor,subcontent:e.subcontent,onClick:e.onClick||(r?n._onMoreClick:void 0),onAdditionalClick:n._onMoreClick,border:e.isLast&&!i||e.hideCardBorder?"hide":void 0,stretchBorder:e.stretchBorder,value:e.value,arrowView:r?i?"up":"down":void 0,noSidePadding:e.noSidePadding},Object(d.a)(t)?t({isExpanded:i}):t,r?a.createElement(c.a,{name:"control",nodeRef:n._controlAnalyticsRef,logClick:!0}):null),a.createElement("div",null))},n.state={isExpanded:Boolean(t.isInitiallyExpanded)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props.isExpanded;"boolean"==typeof e&&this.state.isExpanded!==e&&this.setState({isExpanded:e})},n.render=function(){return a.createElement("div",{ref:this._card,className:p({wide:this.props.isWideCard})},this._renderChildren(),a.createElement(l.a,{onShow:this._expandContent,onHideStart:this._collapseContent},this._renderContent()))},t}(a.Component);t.a=Object(o.b)(m)},760:function(e,t,n){"use strict";var r=n(6),a=(n(761),n(4)),i=n(9),o=n(134),s=n(7),c=Object(s.a)("business-iframe"),l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onLoad=function(){n.setState({isLoading:!1})},n._onError=function(){n.setState({isLoading:!1,isError:!0})},n.state={isLoading:!0,isError:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.url!==this.props.url&&this.setState({isLoading:!0,isError:!1})},n.render=function(){var e=this.props.config.uatraits,t="MobileSafari"===e.BrowserName&&Number(e.OSVersion)<13;return a.createElement("div",{className:c()},this.state.isLoading?a.createElement("div",{className:c("paranja",{spinner:!0})},this.props.placeholder):null,this.state.isError?a.createElement("div",{className:c("paranja",{error:!0})},a.createElement(o.a,null,"Что-то пошло не так.\nПопробуйте обновить страницу\nили зайти позднее.")):null,a.createElement("iframe",{className:c("frame"),src:this.props.url,frameBorder:0,height:"100%",onLoad:this._onLoad,onError:this._onError,scrolling:t?"no":void 0}))},t}(a.PureComponent);t.a=Object(i.b)(l)},761:function(e,t,n){},766:function(e,t,n){"use strict";var r=n(6),a=(n(767),n(4)),i=n(9),o=n(48),s=n(7),c=Object(s.a)("segmented-progress-bar"),l=100,u=function(e){return e.segments[Math.floor(e.currentSegment)].duration},d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._progressRaf=-1,n._startTime=0,n._onRunStateChange=function(){n.props.run?n._scheduleUpdate():n._cancelUpdate()},n._scheduleUpdate=function(){n.props.config.query["no-animation"]||(window.cancelAnimationFrame(n._progressRaf),n._progressRaf=window.requestAnimationFrame(n._updateScreenProgress))},n._cancelUpdate=function(){window.cancelAnimationFrame(n._progressRaf)},n._updateScreenProgress=function(){var e=n.props;if(n.state.progress<l){var t=n.props.getToday().getTime()-n._startTime,r=u(e);n.setState({progress:Math.min(t/r*l,l)}),e.run&&n._scheduleUpdate()}else n.props.onTick()},n.state={progress:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.run&&(this._startTime=this.props.getToday().getTime(),this._scheduleUpdate())},n.componentDidUpdate=function(e){var t=this.props.currentSegment,n=e.currentSegment!==t,r=u(e)!==u(this.props),a=e.run!==this.props.run;a&&(this._startTime=this.props.getToday().getTime()-this.state.progress/l*u(this.props)),n||r?(this._startTime=this.props.getToday().getTime(),this.setState({progress:l*(t%1)},this._onRunStateChange)):a&&this._onRunStateChange()},n.componentWillUnmount=function(){this._cancelUpdate()},n.render=function(){var e=this.props,t=this.state,n=Math.floor(e.currentSegment);return a.createElement("div",{className:c()},e.segments.map(function(e,r){return a.createElement("div",{key:r,className:c("bar",{filled:r<n})},r===n?a.createElement("div",{className:c("progress"),style:{width:t.progress+"%"}}):null)}))},t}(a.Component);t.a=Object(o.b)(Object(i.b)(d))},767:function(e,t,n){},77:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return p});var r=n(2779),a={fax:"факс",phone:"тел.","phone-fax":"тел./факс"},i={ru:{countryCode:"+7 ",phonePlaceholder:"+7 XXX XXX XX XX",phoneFormat:"923 456 78 90",phoneMask:"123 *** ** 00"},kz:{countryCode:"+7 ",phonePlaceholder:"+7 XXX XXX XX XX",phoneFormat:"923 456 78 90",phoneMask:"123 *** ** 00"},ua:{countryCode:"+380 ",phonePlaceholder:"+380 XX XXX XX XX",phoneFormat:"44 123 45 67",phoneMask:"12 *** ** 00"},tr:{countryCode:"+90 ",phonePlaceholder:"+90 XXX XXX XXXX",phoneFormat:"123 456 7890",phoneMask:"123 *** ** 00"},by:{countryCode:"+375 ",phonePlaceholder:"+375 XX XXX XXXX",phoneFormat:"29 456 7890",phoneMask:"123 *** ** 00"},uz:{countryCode:"+998 ",phonePlaceholder:"+998 XX XXX XXXX",phoneFormat:"35 111 2233",phoneMask:"35 *** ** 00"}};function o(e){return Object.values(i).find(function(t){return t&&e.startsWith(t.countryCode.replace(/\s/,""))})}function s(e){return i[e]}function c(e,t,n){var r=(void 0===n?{}:n).useRealty,a=void 0===r||r,i=e.phones||[],o=e.realty;return o&&o.company.phone&&a&&!e.advert&&(i=[{number:o.company.phone,counter:o.company.phoneCounter+"&source=map&crc="+t.xscriptCsrfToken,type:"phone",info:"Офис продаж"}]),i}function l(e){return a[e]||e}function u(e,t,n){void 0===n&&(n="");var r=e.slice(n.trim().length).replace(/\D/g,"").match(/\d/g)||[],a=t.split(/\d/);return n&&a.pop(),n+a.map(function(e,t){return r[t]&&e+r[t]}).join("")}function d(e,t,n){return void 0===n&&(n=""),n+e.slice(n.length).replace(/./g,function(e,n){return"*"===t[n]?"*":e})}function p(e,t){var n=e.info,a=e.type,i="fax"===a?"факс":"phone-fax"===a?"факс":void 0;return Object(r.a)(n?i?n+" ("+i+")":n:i)}},770:function(e,t,n){"use strict";var r=n(4);t.a=function(e){return r.createElement("span",{itemScope:!0,itemProp:"aggregateRating",itemType:"http://schema.org/AggregateRating"},e.ratingData.reviewCount?r.createElement("meta",{itemProp:"reviewCount",content:e.ratingData.reviewCount.toString()}):null,e.ratingData.ratingValue?r.createElement(r.Fragment,null,r.createElement("meta",{itemProp:"bestRating",content:"5"}),r.createElement("meta",{itemProp:"worstRating",content:"1"}),r.createElement("meta",{itemProp:"ratingCount",content:e.ratingData.ratingCount.toString()}),r.createElement("meta",{itemProp:"ratingValue",content:e.ratingData.ratingValue.toFixed(1)})):null)}},777:function(e,t,n){},779:function(e,t,n){"use strict";n(780);var r=n(4),a=n(7),i=n(11),o=n(782),s=n.n(o),c=Object(a.a)("notification-icon");t.a=function(e){return r.createElement(i.a,{url:s.a,className:c({view:e.view})})}},78:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(70),a=n(24);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,s=null==o?0:Object(r.a)(o),c=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(a.a)(e,n),u=l.getDay(),d=(u<c?7:0)+u-c;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}},780:function(e,t,n){},782:function(e,t,n){e.exports=n.p+"_/950deb8a937563a6760d529c65804177.svg"},786:function(e,t,n){"use strict";var r=n(119);function a(){}var i=Object(r.a)("config",{addSwipeListener:a,removeSwipeListener:a}),o=i.connect;i.Provider;t.a=o},793:function(e,t,n){"use strict";n(1952);var r=n(4),a=n(7),i=n(39),o=Object(a.a)("afisha-loading-view");t.a=function(e){var t=e.hideSpinner;return r.createElement("div",{className:o()},r.createElement("span",{className:o("text")},t?null:r.createElement("div",{className:o("spinner")},r.createElement(i.a,{view:"small"})),"Ищем билеты на ближайшие сеансы"))}},794:function(e,t,n){},796:function(e,t,n){},798:function(e,t,n){},800:function(e,t,n){e.exports=n.p+"_/5f2582507f20b3a9edbce82453098343.svg"},801:function(e,t,n){"use strict";var r=n(4),a=n(96),i=n(326),o=n.n(i);t.a=function(e){return r.createElement(a.a,{type:"send-to-phone",analytics:"send_to_phone",hint:"Отправить в телефон",icon:o.a,onClick:e.onClick})}},802:function(e,t,n){"use strict";var r=n(4),a=n(96);t.a=function(e){return r.createElement(a.a,{type:"underground",text:"Схема метро",hint:"Открыть схему в Яндекс.Метро",analytics:"metro_link",url:e.link.href,target:"_blank"})}},803:function(e,t,n){e.exports=n.p+"_/5bcb85f0acb9638dd984a9f953f3de6a.svg"},804:function(e,t,n){},806:function(e,t,n){"use strict";n(807);var r=n(4),a=n(15),i=n(11),o=n(8),s=n(7),c=n(809),l=n.n(c),u=Object(s.a)("add-post-button-view");t.a=function(e){return r.createElement(o.a,{name:"add_post",logClick:!0},r.createElement(a.a,{view:"primary",size:"medium",icon:r.createElement(i.a,{url:l.a,className:u("icon")}),onClick:e.onClick},"Добавить новость"))}},807:function(e,t,n){},809:function(e,t,n){e.exports=n.p+"_/30f63f7c651347745d773922f3fd93ac.svg"},81:function(e,t,n){},810:function(e,t,n){},812:function(e,t,n){},814:function(e,t,n){e.exports=n.p+"_/4b9756d18129731a2180972cd327b6e7.svg"},815:function(e,t,n){},817:function(e,t,n){},819:function(e,t,n){},821:function(e,t,n){e.exports=n.p+"_/4cf255641a4b490c90610e80c6fc0f94.svg"},822:function(e,t,n){"use strict";n(1990);var r=n(4),a=n(12),i=n(7),o=n(8),s=n(113),c=n(770),l=n(528),u=a.b(function(e){return{config:e.config,timeContext:e.timeContext}}),d=Object(i.a)("business-header-rating-view");t.a=u(function(e){var t=e.result.ratingData;return r.createElement(o.a,{name:"business_rating",nodeState:{hasData:Boolean(t.ratingValue)}},r.createElement("div",{className:d()},r.createElement("div",{className:d("user-rating")},t.ratingValue?r.createElement(s.a,{ratingValue:t.ratingValue}):r.createElement("span",{className:d("text")},(function(params){return (params.count?params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "отзыв" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "отзыва" : "отзывов")):"Ещё нет отзывов");})({count:t.reviewCount})),r.createElement(c.a,{ratingData:t}),e.config.business.enableReview?r.createElement(o.a,{name:"reviews_amount",logClick:!0},r.createElement("span",{className:d("text",{clickable:Boolean(e.onReviewsClick)}),onClick:e.onReviewsClick},t.reviewCount&&t.ratingValue?(function(params){return params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "отзыв" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "отзыва" : "отзывов"));})({count:t.reviewCount}):e.onReviewsClick?"Написать отзыв":null)):null),e.result.personalRating&&e.config.experiments.ui.personalRating?r.createElement("div",{className:d("personal-rating")},r.createElement(l.a,{personalRating:e.result.personalRating,showHint:e.showHints})):null))})},823:function(e,t,n){"use strict";n(824);var r=n(4),a=n(7),i=Object(a.a)("masstransit-underground-line-name-view");t.a=function(e){var t=e.transport;return r.createElement("div",{className:i()},r.createElement("div",{className:i("line-color"),style:{backgroundColor:t.Style&&t.Style.color||"transparent"}}),r.createElement("div",{className:i("line-name")},t.name))}},824:function(e,t,n){},826:function(e,t,n){},828:function(e,t,n){},83:function(e,t,n){"use strict";var r=n(44),a=n(62),i=n(129),o=500;var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=function(e){var t=Object(i.a)(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,function(e,n,r,a){t.push(r?a.replace(c,"$1"):n||e)}),t}),u=n(181);t.a=function(e,t){return Object(r.a)(e)?e:Object(a.a)(e,t)?[e]:l(Object(u.a)(e))}},830:function(e,t,n){},832:function(e,t,n){e.exports=n.p+"_/67a2987aae3218e5ee7860d9e4dde81c.svg"},833:function(e,t,n){e.exports=n.p+"_/c94a0036fea0865a100bbea6fd73e932.svg"},834:function(e,t,n){e.exports=n.p+"_/d1c50b6635fd4cd41a5924850da552f5.svg"},835:function(e,t,n){"use strict";var r=n(6),a=(n(836),n(4)),i=n(9),o=n(8),s=n(7),c=n(73),l=n(838),u=n.n(l),d=Object(s.a)("card-personal-rating-snippet"),p=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return e.personalRating.last_rate?null:a.createElement(o.a,{name:"personal_rating"},a.createElement("div",{className:d()},a.createElement(c.a,{iconUrl:u.a,iconClassName:d("icon"),keepIconColor:!0,content:a.createElement("div",{className:d("content")},"Персональный рейтинг основан на ваших оценках организаций. Чем больше оценок вы оставляете, тем он точнее."),delimiter:null,isLast:!0},(function(params){return "Подходит вам на "+params.percentage;})({percentage:e.personalRating.score+"%"}))))},t}(a.Component);t.a=Object(i.b)(p)},836:function(e,t,n){},838:function(e,t,n){e.exports=n.p+"_/2a054e9f058fa3bcc28635ea6abe1e5a.svg"},839:function(e,t,n){"use strict";n(2031);var r=n(4),a=n(39),i=n(7),o=Object(i.a)("business-tab-placeholder");t.a=function(){return r.createElement("div",{className:o()},r.createElement(a.a,{view:"small",withoutMargin:!0}))}},840:function(e,t,n){"use strict";n.r(t);var r=n(6),a=(n(2044),n(4)),i=n(7),o=n(95),s=n(9),c=n(27),l=n(8),u=n(73),d=n(538),p=n(295),m=n(2046),f=n.n(m),v=Object(i.a)("mastercard-section-view"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._renderDropdown=function(e){var t=n.props,r=t.config.bunker.mastercard.serp;return a.createElement("div",{className:v("dropdown")},a.createElement("div",{className:v("dropdown-title")},r.details),a.createElement("div",{className:v("dropdown-offer")},e.offer),a.createElement("div",{className:v("dropdown-terms")},t.data.fullTerms),a.createElement(l.a,{name:"link",logClick:!0},a.createElement("a",{className:v("dropdown-link"),href:e.url,target:"_blank"},r.link)))},n.state={isError:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidCatch=function(){this.setState({isError:!0})},n.render=function(){var e=this,t=this.props;return this.state.isError?null:a.createElement(p.a,null,function(n){var r=n.cardTypes,i=o.d(t.data,r,t.config);return i?a.createElement(l.a,{name:"mastercard_section"},a.createElement("div",{className:v({border:t.inline&&!t.isWideCard&&!t.isInHeader,"no-side-padding":t.isInHeader||t.isWideCard,"is-in-header":t.isInHeader})},a.createElement(u.a,{iconUrl:f.a,content:e._renderDropdown(i),isLast:!0,keepIconColor:!0,hideCardBorder:!0,delimiter:!t.inline||t.isWideCard||t.isInHeader?null:void 0,noSidePadding:t.isInHeader},a.createElement(d.a,{type:"card",currentOffer:i})))):null})},t}(a.PureComponent);t.default=Object(s.b)(Object(c.b)(h))},841:function(e,t,n){"use strict";n.r(t);var r=n(6),a=(n(2050),n(4)),i=n(7),o=n(8),s=n(263),c=n(11),l=n(2052),u=n.n(l),d=Object(i.a)("search-sources-view"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._toggleDropdownState=function(){n.setState({isOpen:!n.state.isOpen})},n._renderSources=function(){return n.props.sources.filter(function(e){return"-"!==e.name}).map(function(e,t){var n=e.id+"_"+t;return e.href?a.createElement(o.a,{key:n,name:"sources",nodeState:{id:e.id}},a.createElement("a",{className:d("source"),href:e.href,target:"_blank"},e.name)):a.createElement("span",{className:d("source"),key:n},e.name)})},n.state={isOpen:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.sources!==this.props.sources&&this.setState({isOpen:!1})},n.render=function(){var e=this.state.isOpen;return a.createElement("div",{className:d()},a.createElement(o.a,{name:"control",logClick:!0},a.createElement("span",{className:d("control"),onClick:this._toggleDropdownState},a.createElement("span",{className:d("control-text")},(function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Источник данных" :"Источники данных");})({count:this.props.sources.length})),a.createElement("span",{className:d("control-arrow",{flipped:e})},a.createElement(c.a,{url:u.a,className:d("control-arrow-image")})))),a.createElement(s.a,{isExpanded:e},a.createElement("div",{className:d("sources")},this._renderSources())))},t}(a.Component);t.default=p},842:function(e,t,n){"use strict";function r(e){var t=e.filter(function(e){return e.photoLink}),n=e.filter(function(e){return!e.photoLink});return[].concat(t,n)}function a(e){return(e.fullObjects?i(e.fullObjects):e.fullPlaces?o(e.fullPlaces):[]).sort(function(e,t){return e.category.name.localeCompare(t.category.name)}).map(function(e){return e.category})}function i(e){return e.categories.map(function(e){return{category:{name:e.categoryName||""},items:r(e.categoryItems)}}).filter(function(e){return e.items.length>0}).sort(function(e,t){return t.items.length-e.items.length||(e.category.name?t.category.name?0:-1:1)||e.category.name.localeCompare(t.category.name)})}function o(e){var t=e.reduce(function(e,t){return e[t.category]=e[t.category]?e[t.category].concat(t):[t],e},{});return Object.entries(t).map(function(e){return{category:{name:e[0]},items:r(e[1])}}).filter(function(e){return e.items.length>0}).sort(function(e,t){return t.items.length-e.items.length||e.category.name.localeCompare(t.category.name)})}n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a})},843:function(e,t,n){"use strict";var r=n(6),a=n(844),i=n.n(a),o=n(4),s=n.n(o),c=n(7),l=n(20),u=n(9),d=n(8),p=n(39),m=n(542),f=n(38),v=n(90),h=Object(l.a)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(null,443))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 443}}),g=Object(l.a)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(null,578))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 578}}),_=Object(c.a)("business-reviews-card-view"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._scrollToReview=function(e){var n,r;e&&(null===(n=(r=t.props).scrollToReview)||void 0===n||n.call(r,e))},t._renderReview=function(e,n){var r=t.props,a=r.config.query.reviews,i=a&&a.id===e.reviewId;return o.createElement("div",{key:e.reviewId+"_"+String(n),className:_("review"),ref:i?t._scrollToReview:void 0},o.createElement(h,{review:e,isUserOwner:r.isUserOwner,addUserReaction:r.addUserReaction,showPhoto:r.showPhoto,businessId:r.businessId,businessTitle:r.businessTitle,view:"narrow"}))},t._renderLoader=function(){return o.createElement("div",{className:_("paranja")},o.createElement("div",{className:_("loader")},o.createElement(p.a,{view:"xlarge"})))},t._renderShowMoreButton=function(){return o.createElement(d.a,{name:"show_more",logClick:!0},o.createElement(f.a,{href:t.props.reviewsLink,className:_("more"),onLeftClick:t.props.showMore},"Показать ещё"))},t._renderTitle=function(){var e=t.props.count;return e<=0?null:o.createElement(v.a,{type:"h2",rightContent:o.createElement("div",{className:_("ranking")},o.createElement(m.a,{ranking:t.props.ranking,onUpdate:t.props.updateRanking}))},(function(params){return params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "отзыв" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "отзыва" : "отзывов"));})({count:e}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.config.query.reviews;return o.createElement(d.a,{name:"reviews",logViewportEnter:"when appears on screen"},o.createElement("div",{className:_()},this._renderTitle(),e.tags.length>0?o.createElement("div",{className:_("tags-container")},o.createElement(g,{tags:e.tags,selectedTag:e.selectedTag,onClick:e.onTagClick,initiallyAllShown:Boolean(t&&t.tag)})):null,o.createElement("div",{className:_("reviews-container")},e.reviews.map(this._renderReview),e.hasMore?this._renderShowMoreButton():null,e.isLoading?this._renderLoader():null)))},t}(o.Component);t.a=Object(u.b)(E)},844:function(e,t,n){},846:function(e,t,n){},848:function(e,t,n){e.exports=n.p+"_/c578acdb7e3cbc61ef774d3082e1434e.svg"},849:function(e,t,n){e.exports=n.p+"_/c8b65388cbb6b14a49041ce7df22cd1a.svg"},850:function(e,t,n){e.exports=n.p+"_/8e9d658ec51de6f801e5144598cb9641.svg"},851:function(e,t,n){e.exports=n.p+"_/bf62918b6bffcfb37fd6c1b1984cf990.svg"},852:function(e,t,n){"use strict";var r=n(4),a=n(261),i=n(853),o=n.n(i);t.a=function(e){var t,n;return r.createElement(a.a,{id:"gas",iconUrl:o.a,href:"https://zapravki.yandex.ru/?utm_source=web-maps-org#how_to_use",buttonContent:(null===(t=e.button)||void 0===t?void 0:t.text)||"Подробнее",onClick:null===(n=e.button)||void 0===n?void 0:n.onClick,text:"Заправляйтесь в Картах, не выходя из машины",view:"black",size:"s"})}},853:function(e,t,n){e.exports=n.p+"_/0d49ece8acb59b7cd8361337cb10f5cd.svg"},854:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(4),i=n(7),o=n(244),s=n(29),c=n(553),l=n(8),u=n(2143),d=n.n(u),p=Object(i.a)("card-direct-view"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e=t.props.direct.url;window.open(e,"_blank")},t}return Object(r.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.direct;return a.createElement(l.a,{name:"advert",logClick:!0},a.createElement(s.a,{className:p(),iconUrl:d.a,keepIconColor:!0,noSidePadding:t.isInHeader,onClick:n.url?this._onClick:void 0},a.createElement(c.a,{direct:n,isInCard:!0}),a.createElement(o.a,{url:null===(e=n.contactInfo)||void 0===e?void 0:e.counterUrl})))},t}(a.PureComponent);t.default=m},855:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(4),i=n(9),o=n(142),s=n(87),c=n(1069),l=n(8),u=n(18),d=n(215),p={fill:"#3cb300",fillOpacity:.15,stroke:[{color:"#3cb300",opacity:1,width:2}],interactive:!1,zIndex:s.a.minimum,simplificationRate:0},m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._loadGeometry=function(){n.setState({geometry:void 0});var e=n.props.result.onlineProperties;if(e&&e.toponymIds&&!e.serviceGeometry){var t;null===(t=n._loadAction)||void 0===t||t.cancel();var r=n.props;n._loadAction=u.a.create(d.a.fetchServiceZone(r.result.id,r.config),{success:function(e){n.setState({geometry:e})}})}},n._renderPolygon=function(e,t){return a.createElement(o.a,{key:t,geometry:{type:"Polygon",coordinates:e},drawingStyle:p})},n._renderRadius=function(e){var t=n.props.result.coordinates;return a.createElement(l.a,{name:"zone"},a.createElement(c.a,{center:t,radius:e,drawingStyle:p}))},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadGeometry()},n.componentDidUpdate=function(e){e.result.id!==this.props.result.id&&this._loadGeometry()},n.render=function(){var e=this.props.result.onlineProperties||{},t=e.serviceGeometry,n=e.radius,r=this.state.geometry||t;return n?this._renderRadius(1e3*n):r&&r.length>0?r.map(this._renderPolygon):null},t}(a.Component);t.default=Object(i.b)(m)},88:function(e,t,n){"use strict";n(150);var r=n(4),a=n(7),i=n(11),o=n(152),s=n.n(o),c=Object(a.a)("flip-icon");t.a=function(e){var t=e.isFlipped;return r.createElement(i.a,{className:c({flipped:t}),url:s.a})}},89:function(e,t,n){"use strict";var r=n(83),a=n(45);t.a=function(e,t){for(var n=0,i=(t=Object(r.a)(t,e)).length;null!=e&&n<i;)e=e[Object(a.a)(t[n++])];return n&&n==i?e:void 0}},90:function(e,t,n){"use strict";n(301);var r=n(4),a=n(7),i=n(27),o=Object(a.a)("card-section-header");t.a=Object(i.b)(function(e){var t=e.type;return r.createElement("div",{className:o({"small-bottom-gutter":e.smallBottomGutter,"medium-bottom-gutter":e.mediumBottomGutter,wide:e.isWideCard,type:e.type})},r.createElement(t,{className:o("title",{wide:e.isWideCard})},e.children),e.rightContent?r.createElement("div",{className:o("right-content")},e.rightContent):null)})},93:function(e,t,n){"use strict";var r=n(6),a=n(4),i=n(46),o=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={shouldRender:t.immediately||Boolean(t.config.uatraits.isRobot)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.immediately&&this.props.immediately&&this.setState({shouldRender:!0})},n.render=function(){var e=this,t=this.props;if(this.state.shouldRender)return this.props.children;var n=t.placeholder||null;return a.createElement(i.a,{style:{width:"100%",height:"100%"},rootMargin:"100px",onChange:function(t){return e.setState({shouldRender:t})}},n)},t}(a.PureComponent);t.a=Object(o.b)(s)},95:function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return h});var r=n(235),a=n(0),i=n(32),o=["mastercardStandart","goldMastercard","worldMastercard","platinumMastercard","worldMastercardBlackEdition","worldEliteMastercard"],s=["mastercardBusinessCard","mastercardWorldBusinessCard","mastercardPreferredBusinessCard","mastercardCorporateCard"],c=[].concat(o,s);function l(e){a.a.set("promo_mastercard_type",e)}function u(){var e=a.a.get("promo_mastercard_type");return Array.isArray(e)?e.filter(function(e){return c.includes(e)}):[]}function d(e){var t=e.bunker.mastercard;return t&&Array.isArray(t.types)?t.types.filter(function(e){var t=e.id;return void 0===t||c.includes(t)}):[]}function p(e,t,n){return function(e){return Boolean(e.bunker.mastercard&&e.bunker.mastercard.serp.isActive)}(n)?f(e,t,n):null}function m(e,t,n){return f(e,t,n)}function f(e,t,n){var a=i.f(n);return e&&Object(r.a)(i.g(a),{start:e.startDate,end:e.endDate})?function(e,t){return function(e){var t=e.some(function(e){return o.includes(e)}),n=e.some(function(e){return s.includes(e)}),r=t&&n?[]:function(e,t){var n=t?o:s;return[].concat(e).sort(function(e,t){return n.indexOf(t)-n.indexOf(e)})}(e,o.includes(e[0]));return[].concat(r,["anyCard"])}(t).map(function(t){return e.find(function(e){return e.id===t})}).filter(function(e){return Boolean(e)})[0]}(e.offers,t):null}var v={anyCard:"",mastercardStandart:"mastercard_standard",goldMastercard:"gold_mastercard",worldMastercard:"world_mastercard",platinumMastercard:"platinum_mastercard",worldMastercardBlackEdition:"worldblack_mastercard",worldEliteMastercard:"worldelite_mastercard",mastercardBusinessCard:"business_mastercard",mastercardWorldBusinessCard:"worldbusiness_mastercard",mastercardPreferredBusinessCard:"preferredbusiness_mastercard",mastercardCorporateCard:"corporate_mastercard"};function h(e,t){if(void 0===t&&(t=u()),!e.includes("provider:mastercardoffers"))return e;var n=e.replace(/\(? ?feature:\(mastercards_types.*?\)( \|)?\)?/,"");return 0===t.length?n:n+"("+t.map(function(e){return"feature:(mastercards_types:"+v[e]+")"}).join(" | ")+")"}},954:function(e,t,n){"use strict";var r=n(6),a=(n(810),n(4)),i=n(7),o=n(9),s=n(30),c=n(351),l=n(77),u=n(36),d=n(90),p=n(8),m=n(29),f=n(527),v=n(620),h=n(10),g=n(13),_=(n(817),n(27)),E=n(157),b=n(73),k=(n(331),n(622)),y=n(821),C=n.n(y),w=Object(i.a)("business-card-working-status-view"),S=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onEditClick=function(){var e,n;null===(e=(n=t.props).onEditClick)||void 0===e||e.call(n,"organization/edit-info")},t._renderEdit=function(){return t.props.onEditClick?a.createElement(p.a,{name:"edit",logClick:!0},a.createElement(m.a,{view:"link",className:w("edit"),iconUrl:C.a,onClick:t._onEditClick},a.createElement("div",{className:w("edit")},"Ошибка в графике работы"))):null},t._renderIntervalMeta=function(e,t){return e.meta?a.createElement("meta",{key:t,itemProp:"openingHours",content:e.meta}):null},t._renderDropdownContent=function(e){t.props;return a.createElement(a.Fragment,null,a.createElement(k.a,{intervals:e,isInCard:!0}),t._renderEdit())},t._renderHint=function(){var e=t.props,n=E.c(e.result,e.config);return n?a.createElement("div",{className:w("hint")},n):null},t._renderPlaceholder=function(){return t.props.onEditClick?a.createElement(m.a,{value:a.createElement("div",{className:w("link")},"Добавить"),onAdditionalClick:t._onEditClick},a.createElement("div",{className:w("placeholder")},"График работы не указан")):null},t._renderDropdown=function(e,n){var r=t.props,i=s.C(r.result),o=n.find(function(e){return e.isToday}),c=i&&o?o.dayName:e.text,l={children:a.createElement("div",{className:w("main")},a.createElement("div",{className:w("text"),title:c},c)),subcontent:t._renderHint(),iconUrl:void 0,iconClassName:w("icon"),value:i&&o?o.text:"График",size:"small"};return a.createElement(b.a,Object(g.a)({},l,{content:t._renderDropdownContent(n),hideCardBorder:!0,delimiter:null}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=E.b(e.result,e.config),n=E.a(e.result,e.config)||[];return 0===n.length?this._renderPlaceholder():a.createElement(p.a,{name:"working_status"},a.createElement("div",{className:w(Object(h.a)(Object(h.a)({},t.state),{},{wide:e.isWideCard}))},this._renderDropdown(t,n)),n.map(this._renderIntervalMeta))},t}(a.Component),N=Object(_.b)(Object(o.b)(S)),T=n(11),O=n(15),R=n(92),j=n(38),I=n(21),x=n(16),P=["facebook","instagram","ok","twitter","vkontakte","youtube"],A=Object(i.a)("business-contacts-view"),B=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderBlock=function(e){var n=t.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:A("block")},e),a.createElement("div",{className:A("separator",{wide:n.isWideCard})}))},t._renderBlockTitle=function(e,n){return a.createElement("div",{className:A("title-block")},a.createElement("div",{className:A("title-icon",{"no-left-margin":t.props.isWideCard})},a.createElement(R.a,{name:n,size:24,inline:!0})),a.createElement(d.a,{type:"h3"},e))},t._renderOnlineOrgServiceZone=function(){var e;return t._renderBlock(a.createElement(m.a,{className:A("service-zone"),icon:a.createElement(R.a,{name:"point-on-map",size:24,inline:!0})},null===(e=t.props.result.onlineProperties)||void 0===e?void 0:e.serviceTitle))},t._renderEntrancesLink=function(){var e=t.props,n=e.result;if(!n.entrances||0===n.entrances.length)return null;var r=c.b(n,e.config);return a.createElement(p.a,{name:"show_entrances",metrikaGoal:"goal_deepuse",nodeState:{hasIndoor:r},logClick:!0},a.createElement("div",{className:A("link",{entrances:!0,noprint:!0,inline:!0}),onClick:function(){return e.onEntrancesClick(n)}},r?"Входы и схема помещения":"Показать входы"))},t._renderBuildRouteLink=function(){var e,n=t.props;return n.onRouteClick?a.createElement(p.a,{name:"build_route",metrikaGoal:["goal_deepuse",null===(e=n.result.metrika)||void 0===e?void 0:e.goals.route].filter(function(e){return Boolean(e)}),logClick:!0},a.createElement("div",{className:A("link",{route:!0,noprint:!0,inline:!0}),onClick:n.onRouteClick},"Маршрут")):null},t._renderAddress=function(){var e,n,r=t.props,i=r.result,o=i.address;if(null===(e=i.onlineProperties)||void 0===e?void 0:e.serviceTitle)return t._renderOnlineOrgServiceZone();if(!o)return null;var c=t._renderBlockTitle("Адрес","point-on-map"),l=null===(n=i.businessProperties)||void 0===n?void 0:n.moved_to,u=r.onMovedClick;if(l&&i.newAddress&&u)return t._renderBlock(a.createElement(a.Fragment,null,c,a.createElement(m.a,{stretchBorder:!0},a.createElement("div",{className:A("muted")},"Организация переехала по адресу:"),a.createElement(p.a,{name:"new_address",logClick:!0},a.createElement("div",{className:A("link",{"new-address":!0}),onClick:function(){return u(l)}},i.newAddress)))));var d=[t._renderEntrancesLink(),t._renderBuildRouteLink()].filter(Boolean),f=s.c(i,!0),v=x.m(r.config);return t._renderBlock(a.createElement(a.Fragment,null,c,a.createElement(m.a,{size:"small",stretchBorder:!0},a.createElement("div",{className:A("address")},v?o:a.createElement(j.a,{className:A("address-link"),href:I.g(i,r.config),onLeftClick:r.onAddressClick},o),i.additionalAddress?a.createElement("span",{className:A("additional-address")},i.additionalAddress):null),d.length>0?a.createElement("div",{className:A("address-links")},d.map(function(e,t,n){return a.createElement(a.Fragment,{key:t},e,t<n.length-1?a.createElement("span",{className:A("address-links-separator")}):null)})):null,a.createElement("meta",{itemProp:"address",content:f}))))},t._renderPhones=function(){var e,n,r,i=t.props,o=l.e(i.result,i.config,{useRealty:!i.result.brandingBanner}),s=null===(e=i.result)||void 0===e?void 0:null===(n=e.metrika)||void 0===n?void 0:null===(r=n.goals)||void 0===r?void 0:r.call;return a.createElement(f.a,{phones:o,goal:s,isPhoneInitiallyExpanded:i.isPhoneInitiallyExpanded,onEditClick:i.onEditClick,newContacts:!0})},t._renderLinks=function(e){var n=t.props.result.urls;return n&&0!==n.length?a.createElement(v.a,{urls:n,newContacts:!0,hideLastBorder:e}):null},t._renderSocialLinkButton=function(e){return a.createElement(p.a,{name:"social_link",nodeState:{type:e.type},logClick:!0,key:e.href},a.createElement("div",{className:A("social-button")},a.createElement(O.a,{view:"secondary-gray",size:"medium",icon:a.createElement(T.a,{className:A("social-icon"),url:u.c(e.type)}),url:e.href,itemProp:"sameAs",target:"_blank",rel:"nofollow"})))},t._renderSocialLinks=function(e){return a.createElement(p.a,{name:"social_links"},a.createElement(m.a,{className:A("social-links"),size:"small",border:"hide"},e.map(t._renderSocialLinkButton)))},t._renderContacts=function(){var e,n,r=t.props,i=(e=r.result.socialLinks||[],n=[],e.forEach(function(e){P.includes(e.type)&&!n.find(function(t){return t.type===e.type})&&n.push(e)}),n),o=i.length>0;return!r.hideEmptyBlocks||r.result.phones||r.result.urls||o?t._renderBlock(a.createElement(a.Fragment,null,t._renderBlockTitle("Контакты","call"),t._renderPhones(),t._renderLinks(!o),o?t._renderSocialLinks(i):null)):null},t._renderWorkingIntervals=function(){var e=t.props;return e.hideEmptyBlocks&&!e.result.workingTime?null:t._renderBlock(a.createElement(a.Fragment,null,t._renderBlockTitle("Часы работы","time"),a.createElement(N,{result:e.result,onEditClick:e.onEditClick})))},t._renderEdit=function(){var e=t.props,n=e.result,r=e.onEditClick,i=n.businessProperties;return i&&i.hide_claim_organization||!r?null:a.createElement(p.a,{name:"edit",nodeState:{owner:n.isUserOwner},metrikaGoal:"deepuse",logClick:!0},a.createElement(m.a,{className:A("edit",{noprint:!0}),view:"link",icon:a.createElement(R.a,{name:"edit-nofill",size:24,inline:!0}),onClick:function(){return r()}},"Исправить информацию об организации"))},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this._renderAddress(),this._renderContacts(),this._renderWorkingIntervals(),this._renderEdit())},t}(a.Component);t.a=Object(_.b)(Object(o.b)(B))},959:function(e,t,n){"use strict";var r=n(6),a=(n(697),n(4)),i=n(7),o=n(13),s=n(28),c=n(22),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=null,t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=e.showAt,n=this.props.showAt;t.left===n.left&&t.top===n.top||this.forceUpdate()},n.render=function(){var e=this,t=this.props,n={position:"absolute",visibility:"hidden",top:t.showAt.top,left:t.showAt.left};return a.createElement(a.Fragment,null,a.createElement(s.a,null,a.createElement("div",{style:n,ref:function(t){return e._ref=t}})),a.createElement(c.a,Object(o.a)({getTarget:function(){return e._ref}},t)))},t}(a.Component),u=n(102),d=n.n(u),p=n(8),m=n(168),f=["bottom-right","right-bottom","bottom-left","left-bottom","right-top","top-right","left-top","top-left"],v=Object(i.a)("context-menu"),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._close=function(){t.props.onClose()},t._onItemClick=function(e){t._close(),t.props.onItemClick(e)},t._renderItem=function(e){return a.createElement(p.a,{key:e.id,name:"item",nodeState:{id:e.id},logClick:!0,metrikaGoal:t.props.metrikaGoal},a.createElement(m.a,{icon:e.icon,onClick:function(){return t._onItemClick(e)}},e.text))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=a.createElement("div",{className:v()},t.items.map(this._renderItem));return t.isPhone?a.createElement(d.a,{isShown:t.isShown,onClose:this._close,swipeable:!0,stopPropagation:!0},n):a.createElement(l,{isShown:t.isShown,showAt:{left:t.coordinates[0],top:t.coordinates[1]},position:f,offset:{main:4,side:4},showArrow:!1,onClose:this._close,onScroll:null!==(e=t.onScroll)&&void 0!==e?e:"close",type:"transparent"},n)},t}(a.Component);h.displayName="ContextMenu";t.a=h},96:function(e,t,n){"use strict";var r=n(10),a=n(6),i=(n(245),n(4)),o=n(7),s=n(9),c=n(15),l=n(11),u=n(8),d=n(43),p=Object(o.a)("action-button-view"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){var n=t.props;n.onClick&&n.onClick(e)},t._renderAnalyticsWrap=function(e){var n=t.props;return n.analytics?i.createElement(u.a,{name:n.analytics,metrikaGoal:n.metrikaGoal,logClick:!0},e):e},t._renderHintWrap=function(e){var n=t.props;return n.hint?i.createElement(d.a,{text:n.hint,position:"bottom"},e):e},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props;return this._renderHintWrap(this._renderAnalyticsWrap(i.createElement("div",{className:p(Object(r.a)(Object(r.a)({},e.mods),{},{stretched:e.isStretched,type:e.type}))},i.createElement(c.a,{view:e.view||"secondary-blue",size:e.size||"medium",isStretched:e.isStretched,icon:e.icon?i.createElement(l.a,{url:e.icon,className:p("icon")}):null,rel:e.rel,url:e.url,target:e.target,onClick:this._onClick},e.text))))},t}(i.Component);t.a=Object(s.b)(m)},98:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(24);function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t);return n.setHours(0,0,0,0),n}},99:function(e,t,n){"use strict";var r=n(41),a=n(10),i=n(159),o=n(2796),s=n(322),c=n(2809),l=n(25),u=n(95),d="search_",p="",m={fetch:function(e,t){return Object(l.a)("search",{query:v(e,t)},t).then(function(e){return p=e.requestId,e})},fetchSearchResult:function(e,t){if("poi"===e.from)return e.uri?m.loadPoiByUri(e.uri,t).then(function(t){return Object(a.a)(Object(a.a)({},t),{},{items:t.items.map(function(t,n){return Object(a.a)(Object(a.a)({},t),{},{hotspotProperties:e.hotspotProperties,displayCoordinates:e.coordinates&&0===n?e.coordinates:t.displayCoordinates})})})}):m.loadPoiByCoordinates(e.coordinates,t);if("whatshere"===e.from)return m.loadWhatshere(e,t);var n=Object(a.a)(Object(a.a)({},e),{},{count:1,searchType:"TEXT"});return n.uri&&(n.mode="uri"),m.fetch(n,t)},prepareChainSearchRequest:function(e,t){return m.fetch({count:1,kind:"locality",text:Object(o.a)(e.center,{reverse:!0}),origin:"chain-city"},t).then(function(t){var n={searchType:"TEXT",displayText:e.chain.name,text:"chain_id:("+e.chain.id+")",origin:e.origin||"chain"},r=t.bounds;if(r){var a=Object(s.a)(r);n.center=a.center,n.span=a.span}return n})},loadPoiByCoordinates:function(e,t){return m.fetch({text:Object(o.a)(e,{reverse:!0}),count:1,origin:"poi",snippets:f(t)},t)},loadPoiByUri:function(e,t){return m.fetch({mode:"uri",uri:e,count:1,origin:"poi",snippets:f(t)},t)},loadWhatshere:function(e,t){var n=e.origin,a=Object(r.a)(e,["origin"]);return m.fetch({pin:!0,text:Object(o.a)(a.coordinates,{reverse:!0}),zoom:a.zoom,span:[.001,.001],count:1,origin:n||"poi",addBuildingGeometry:e.addGeometry},t).then(function(e){var t=e.items[0];return t?("poi"===n&&(t.displayCoordinates=t.coordinates),e):null}).catch(function(){return null})}};function f(e){return e.search.snippets.filter(function(e){return"related_adverts/1.x"!==e&&"related_adverts_1org/1.x"!==e})}function v(e,t){var n,r=e.clientId||"maps",s=e.origin?r+"-"+e.origin:r,l=((n={text:e.text,lang:t.locale,yandex_gid:t.userRegion.id,client_id:e.clientId,origin:s,results:e.count,ctx:e.context,mode:e.mode,lr:e.lr,uri:e.uri,business_oid:e.id,z:e.zoom,sort:e.sort,business_filter:e.filters,autoscale:e.autoscale,distinguish_layers:e.distinguishLayers,correct_misspell:e.correctMisspell,geocoder_kind:e.kind,skip:e.skip,rspn:e.restrictSpan,rearr:e.rearr,groupchains_advert:e.groupchains_advert,relev_ranking_formula:e.relev_ranking_formula,relev_allow_combined_drugs:e.relev_allow_combined_drugs,maxadv:e.maxadv})[i.e]=e[i.e],n.eventsBranch=t.query.eventsBranch,n);return e.addBuildingGeometry&&(l.search_geometry="2"),e.sortOrigin&&(l.sort_origin=e.sortOrigin.join()),e.center&&(l.ll=e.center.join()),e.span&&(l.spn=e.span.join()),e.bbox&&(l.bbox=e.bbox.join("~")),e.snippets?l.snippets=e.snippets.join():l.snippets=t.search.snippets.join(),e.direct&&(l=Object(a.a)(Object(a.a)({},l),t.advert.direct.params)),e.pin&&(l.geocoder_pin=1),e.type&&(l.type=e.type.join()),e.routeCoordinates&&e.bounds&&e.routeCoordinates.some(function(t){return Object(c.a)(e.bounds,t)})&&(l.business_rll=e.routeCoordinates.map(function(e){return Object(o.a)(e,{fractionDigits:5})}).join("~")),e.clientUsecase&&(l.client_usecase=e.clientUsecase),e.suggestReqid&&"form"===e.origin&&(l.suggest_reqid=e.suggestReqid),e.serpId&&(l.serpid=e.serpId),(e.parentReqId||p||t.searchPreloadedResults)&&(l.parent_reqid=e.parentReqId||p||t.searchPreloadedResults.requestId),(t.experiments.ui.whatshereInDistrictTop||t.experiments.ui.whatshereInDistrictBottom)&&(l.includeWhatshereInDistrict=1),e.geoWhere&&(l.geowhere=[].concat(e.geoWhere).reverse().join()),e.businessMode&&(l.business_mode=e.businessMode),"boolean"==typeof e.businessShowClosed&&(l.business_show_closed=e.businessShowClosed?1:0),l.text=l.text&&u.e(l.text),Object(a.a)(Object(a.a)(Object(a.a)({},l),e.rawParams),function(e){var t=Object(a.a)({},e.experiments.geoSearchParams||{}),n=e.experiments.boxes;n&&(t["test-buckets"]=n);return Object.keys(e.query).forEach(function(n){n.startsWith(d)&&(t[n]=e.query[n])}),t}(t))}t.a=m}}]);