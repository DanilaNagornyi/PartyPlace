(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["orgpage","dialog"],{1016:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(6),a=n(4),i=n.n(a),s=n(12),c=n(20),l=n(50),u=n(30),d=n(49),p=n(16),m=n(205),h=n(23),f=n(37),v=n(132),g=n(115),_=n(91),E=n(121),b=n(8),y=n(188),C=n(221),k=n(118),w=n(170),S=n(61),N=n(951),R=n(725),O=n(728),T=Object(c.a)({resolved:{},chunkName:function(){return"base"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,33))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 33}}),P=Object(c.a)({resolved:{},chunkName:function(){return"search"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search").then(n.bind(null,518))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 518}}),I=Object(c.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.bind(null,520))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 520}}),j=Object(c.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.bind(null,841))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 841}}),x=Object(c.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.bind(null,855))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 855}}),A=Object(c.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.bind(null,228))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 228}}),M={openCard:E.a.openCard,onAddPhotoClick:v.a.showAddPhotosForm,openOrgpage:_.a.openOrgpage,onClose:f.a.close,openBusinessFeedback:S.a.openBusinessFeedback,showPhoto:v.a.show,showCustomPhotos:v.a.showCustomPhotos,buildRoute:g.a.buildRoute,buildRouteTo:g.a.buildRouteTo,openCategory:_.a.openCategory,searchChain:_.a.searchChain,addVisitedId:_.a.addVisitedId,checkAuthorization:h.a.checkAuthorization,openMobileAppShare:y.a.open,zoomToEntrances:_.a.zoomToEntrances,loadDiscovery:w.a.load,switchBusinessTab:_.a.switchBusinessTab,updateSelectedPostId:_.a.updateSelectedPostId,resetStackAndSidebar:h.a.resetStackAndSidebar},B=s.b(function(e){var t=p.h(e,"orgpage"),n=p.d(e),r=e.stack[e.stack.length-2]||{},o="orgpage"===r.mode&&r.result||void 0;return{mode:n,config:e.config,data:t,prevResult:o,mapLocation:e.map.location,showBack:e.stack.length>1}},M),D=function(e){function t(t){var n;return(n=e.call(this,t)||this)._scroll=null,n._showPhotos=function(e){n.props.showCustomPhotos(Object(r.a)(Object(r.a)({},e),{},{meta:Object(r.a)(Object(r.a)({},e.meta),{},{skipAdvert:u.w(n.props.data.result)})}))},n._onAddressClick=function(){var e,t=n.props,r=t.data&&t.data.result;r&&!p.m(t.config)&&t.openCard({coordinates:"geoWhere"in r&&(null===(e=r.geoWhere)||void 0===e?void 0:e.coordinates)||r.coordinates,from:"whatshere",zoom:16},{stackAction:"push"})},n._onPhotoClick=function(e,t){var r,o=n.props,a=o.data,i=a&&a.result;if(i){var s=null===(r=i.advert)||void 0===r?void 0:r.photo;o.showPhoto({businessId:i.id,name:i.title,description:i.address,selectedIndex:e,origin:"orgpage",skipAdvert:u.w(i),businessLinks:i.businessLinks,additionalPhotos:s?[{id:"advert",url:s}]:void 0,bookingData:m.a(i)?{requestId:i.requestId}:void 0},t)}},n._onRouteClick=function(e){var t=n.props,r=t.data,o=t.buildRouteTo;r&&r.result&&o({value:r.result.title||"",coords:r.result.displayCoordinates,searchResult:r.result},{travelMode:e})},n._onDistanceClick=function(e,t){var r=n.props,o=r.data,a=r.buildRoute;o&&o.result&&a({points:[{value:t,coords:e},{value:o.result.title||"",coords:o.result.displayCoordinates}],travelMode:"pedestrian"})},n._onEditClick=function(e){var t,r=n.props,o=null===(t=r.data)||void 0===t?void 0:t.result;o&&r.openBusinessFeedback({result:o,type:e})},n._onChainClick=function(){var e=n.props,t=e.data;t&&t.result&&t.result.chain&&e.searchChain({chain:t.result.chain,center:t.result.displayCoordinates})},n._openShareDialog=function(){var e=n.props.data;e&&e.result&&n.props.openMobileAppShare({type:"org",pushMessage:e.result.title+(e.result.address?". "+e.result.address:""),sendParams:{uri:e.result.uri}})},n._onPlacemarkClick=function(e){var t,r,o,a=n.props;if(a.prevResult&&u.b(e,a.prevResult))a.onClose();else{var i=null===(t=a.data)||void 0===t?void 0:null===(r=t.result)||void 0===r?void 0:null===(o=r.relatedAdverts)||void 0===o?void 0:o.nearbyOnMap,s=null==i?void 0:i.some(function(t){return t.id===e.id});a.openOrgpage({id:e.id,origin:e.relatedAdvertType?"related-adverts-"+e.relatedAdvertType:void 0},{requestId:e.requestId,preloadedData:e.relatedAdvertType?void 0:e,stackAction:s?"push":void 0})}},n._highlightResult=function(e){n.props.data&&n.props.data.result&&n.props.data.result.id!==e.id&&n.setState({highlightedResult:e})},n._unhighlightResult=function(e){var t=n.state;t.highlightedResult&&u.b(t.highlightedResult,e)&&n.setState({highlightedResult:void 0})},n._onCategoryClick=function(e){n.props.openCategory(e,void 0,{origin:"category"})},n._onMovedClick=function(e){n.props.openOrgpage({id:e,origin:"moved"},{stackAction:"replace"})},n._onPlacesInsideClick=function(e){n.props.openOrgpage({id:e},{stackAction:"push"})},n._onSimilarResultClick=function(e){n.props.openOrgpage({id:e.id})},n._onErrorButtonClick=function(e){var t=n.props;"not-found"!==e?window.document.location.reload():t.resetStackAndSidebar()},n._renderFooterSources=function(){var e,t,r,o=null!==(e=null===(t=n.props.data)||void 0===t?void 0:null===(r=t.result)||void 0===r?void 0:r.sources)&&void 0!==e?e:[];return 0===o.length?null:a.createElement(j,{sources:o})},n._renderMainView=function(){var e,t=n.props,r=t.data;return r?r.error?a.createElement(R.a,{error:r.error,onButtonClick:n._onErrorButtonClick}):r.result?a.createElement(a.Fragment,null,a.createElement(I,{result:r.result,tab:r.tab,onChainClick:n._onChainClick,onCategoryClick:n._onCategoryClick,onRouteClick:n._onRouteClick,onDistanceClick:n._onDistanceClick,onEditClick:n._onEditClick,onSimilarResultClick:n._onSimilarResultClick,onMovedClick:n._onMovedClick,onPhotoClick:n._onPhotoClick,onPhotosClick:n._onPhotoClick,onTabChange:t.switchBusinessTab,showAddPhotosForm:t.onAddPhotoClick,onDiscoveryClick:t.loadDiscovery,onEntrancesClick:t.zoomToEntrances,showPhoto:n._showPhotos,onPlacesInsideClick:n._onPlacesInsideClick,checkAuthorization:t.checkAuthorization,openShareDialog:n._openShareDialog,onAddressClick:n._onAddressClick,selectedPostId:null===(e=t.data)||void 0===e?void 0:e.selectedPostId,onPostClick:t.updateSelectedPostId,isOrgpage:!0}),p.m(t.config)?null:a.createElement(a.Fragment,null,a.createElement(O.a,{openedFrom:"wideCard"}),a.createElement(A,{renderExtraBottom:n._renderFooterSources,wide:!0}))):null:null},n._renderPlacemark=function(){var e=n.props;if(!e.data||!e.data.result)return null;var t=e.data.result,r=u.n(t);return e.prevResult&&!u.C(t)&&(r=r.concat(u.n(e.prevResult),e.prevResult).filter(function(e){return e.id!==t.id})),r=r.filter(function(e){return!u.z(e)}),a.createElement(b.a,{name:"orgpage_placemarks"},a.createElement(P,{results:r,selectedResult:u.z(t)?void 0:t,mapLocation:e.mapLocation,onPlacemarkClick:n._onPlacemarkClick,highlightedResult:n.state.highlightedResult,highlightResult:n._highlightResult,unhighlightResult:n._unhighlightResult}),a.createElement(x,{result:t}))},n._renderContent=function(){var e,t,r=n.props,o=r.data;if(!o)return null;var i=o.result,s=null==i?void 0:null===(e=i.metrika)||void 0===e?void 0:null===(t=e.goals)||void 0===t?void 0:t.route;return a.createElement(a.Fragment,null,a.createElement(b.a,{name:"orgpage",actionSubtreeState:i?{uri:d.g(i),permalink:i.id,type:u.e(i),logId:i.logId,reqid:o.requestId,query:o.requestCorrectedQuery}:{},nodeState:i?{logId:i.logId,reqid:o.requestId}:{},subtreeMetrikaGoal:"deepuse"},a.createElement(T,{name:r.mode,analyticsName:"content",view:"wide-full",getScrollingNodeRef:function(e){return n._scroll=e},isLoading:o.isLoading,scrollCacheKey:i?"org_"+i.id:void 0},p.m(r.config)?null:a.createElement(N.a,{showBack:r.showBack,analyticsType:i?u.e(i):void 0,routeGoal:s,routeTo:i&&!u.z(i)?{value:i.title||"",coords:i.displayCoordinates}:void 0}),n._renderMainView()),a.createElement(C.a,{type:"org_page"})),n._renderPlacemark(),a.createElement(k.a,{type:"org_page"}))},n.state={highlightedResult:void 0},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=e.data,n=this.props.data;t&&t.result&&n&&n.result&&t.result.id!==n.result.id&&this._scroll&&Object(l.b)({targetElement:this._scroll,insideElement:this._scroll,duration:500,offset:-this._scroll.scrollTop},this.props.config)},n.render=function(){return a.createElement("div",{className:"orgpage"},this._renderContent())},t}(a.Component);t.default=B(D)},103:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return i});var r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function o(e,t){return{sunday:"Воскресенье",monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота"}[t]}function a(e,t){return{sunday:"Вс",monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб"}[t]}function i(e,t){return{sunday:"В воскресенье",monday:"В понедельник",tuesday:"Во вторник",wednesday:"В среду",thursday:"В четверг",friday:"В пятницу",saturday:"В субботу"}[t]}},1126:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(2659),n(4)),a=n(7),i=n(9),s=n(8),c=n(35),l=n(11),u=n(133),d=n(2661),p=n.n(d),m=n(2662),h=n.n(m),f=n(2663),v=n.n(f),g=2,_=800,E=320,b=10,y=2,C=Object(a.a)("orgpage-photos-view"),k=function(e){function t(t){var n;return(n=e.call(this,t)||this)._preparePhotos=function(e){return e&&e.items&&!n.props.hidePhotos?e.items.map(function(e){return{url:e.urlTemplate.replace("%s","XXL"),alt:e.alt}}):[]},n._getTileWidth=function(){var e=n.state.photos.length;return e<=1?_:2===e?(_-g)/2:E},n._renderPhoto=function(e,t,r){var a=n.props,i=a.result,c=a.onPhotoClick,d=i.photos?(i.photos.count||0)-Math.min(r?r.length:0,b):0;return o.createElement("div",{className:C("item"),style:{width:n._getTileWidth()},key:t},o.createElement(s.a,{name:"photo",nodeState:{id:t},logClick:!0},o.createElement("div",{className:C("photo"),onClick:function(){return c(t)}},o.createElement(u.a,{src:e.url,alt:e.alt,renderImmediately:t<y}))),r&&r.length-1===t&&d>0?o.createElement(s.a,{name:"photo_gallery",logClick:!0},o.createElement("div",{className:C("overlay"),onClick:function(){return c()}},o.createElement(l.a,{url:v.a,className:C("gallery-icon")}),o.createElement("span",null,(function(params){return "Ещё "+params.count+" фото";})({count:d})))):null)},n._renderPlaceholder=function(){return o.createElement("div",{key:"placeholder",className:C("empty"),style:{width:n._getTileWidth(),backgroundImage:"url('"+p.a+"')"}})},n._renderAddPhoto=function(){var e=n.props.onAddPhotoClick;return o.createElement(s.a,{name:"add_photo",logClick:!0},o.createElement("span",{className:C("button"),onClick:e},o.createElement(l.a,{className:C("button-image"),url:h.a}),o.createElement("h2",{className:C("button-text")},"Добавить фото")))},n.state={photos:n._preparePhotos(t.result.photos)},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.state.photos,t=0===e.length;return o.createElement(s.a,{name:"photos"},o.createElement("div",{className:C(),itemScope:!0,itemType:"http://schema.org/ImageGallery"},this._renderAddPhoto(),o.createElement(c.a,{className:C("carousel"),theme:"black",clickStep:2,itemsGap:2},t?[this._renderPlaceholder()]:e.slice(0,b).map(this._renderPhoto))))},t}(o.PureComponent);t.default=Object(i.b)(k)},1129:function(e,t,n){"use strict";n.r(t);var r=n(71),o=n(6),a=(n(2680),n(4)),i=n(5),s=n(7),c=n(96),l=n(8),u=n(22),d=n(11),p=n(460),m=Object(s.a)("business-group-action-button"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._togglePopup=function(){n.setState({popupVisible:!n.state.popupVisible})},n._closePopup=function(){n.setState({popupVisible:!1})},n._renderLink=function(e){return a.createElement(p.a,{link:e,key:e.aref},function(t){return a.createElement(l.a,{name:"link",logClick:!0,nodeState:{link:e.text},key:e.type},a.createElement("div",{className:m("link"),onClick:function(){n._closePopup(),t()}},e.icon?a.createElement(d.a,{url:e.icon,className:m("icon")}):null,e.text))})},n._renderPopup=function(){var e=n.props.group,t=n.state.popupVisible;return a.createElement(u.a,{isShown:t,getTarget:function(){return i.findDOMNode(Object(r.a)(n))},onClose:n._closePopup,onScroll:"close",position:"bottom-right",offset:{main:0,side:-6},type:"map-hint"},a.createElement("div",{className:m("popup")},e.links.map(n._renderLink)))},n._renderButton=function(e,t){var r=n.props.group;return a.createElement(l.a,{name:r.id,nodeState:{"with-popup":Boolean(t)},metrikaGoal:"goal_deepuse",logClick:!0},a.createElement(c.a,{text:r.shortText,icon:r.altIcon||r.icon,type:r.id,onClick:e}))},n.state={popupVisible:!1},n}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props.group;return 1===e.links.length?a.createElement(p.a,{link:e.links[0]},this._renderButton):a.createElement(a.Fragment,null,this._renderButton(this._togglePopup,!0),this._renderPopup())},t}(a.PureComponent);t.default=h},1132:function(e,t,n){"use strict";n.r(t);n(2705);var r=n(4),o=n(7),a=n(8),i=Object(o.a)("business-new-address-view");t.default=function(e){var t=e.result,n=e.onClick,o=t.newAddress,s=t.businessProperties,c=s&&s.moved_to;return r.createElement("div",{className:i()},r.createElement("div",{className:i("title")},"Организация переехала"),r.createElement(a.a,{name:"new_address",logClick:!0},r.createElement("div",{className:i("address"),onClick:function(){return n(c)}},o)))}},118:function(e,t,n){"use strict";var r=n(6),o=n(4),a=n(141),i=n(9),s=n(160),c=n(16),l=n(218),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!t.isTimingLogged){var e=this.props,n=e.config.pageMode;"search-result"===e.config.pageMode&&(n="search"),"metro_page"===e.type&&(n="metro"),function(e){switch(e){case"routes_page":return"routes";case"org_page":return"orgpage";case"discovery_page":return"discovery";case"home_page":return"home";case"panorama_page":case"panorama_page_new":return"panoramas";case"photos_page":return"photos";case"search_card_page":case"search_list_page":return"search";case"traffic_page":return"traffic";case"masstransit_stop_page":case"masstransit_route_page":return"masstransit";case"catalog_page":return"catalog";case"metro_page":return"metro"}}(e.type)===n&&(t.isTimingLogged=!0,c.n(Object(l.a)(e.config))||this.setState({ready:a.a.getTimeToNow()}))}},n.render=function(){var e=this.props.type;return"undefined"==typeof window?null:o.createElement(s.a,{type:e,ready:this.state.ready,extraState:{show:window.timingsMarks&&e in window.timingsMarks?window.timingsMarks[e]:this.state.ready}})},t}(o.PureComponent);u.isTimingLogged=!1,t.a=Object(i.b)(u)},1180:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(2701),n(4)),a=n(7),i=n(157),s=n(9),c=n(8),l=n(22),u=n(88),d=(n(2703),n(43)),p=Object(a.a)("orgpage-working-status-intervals"),m=function(e){return o.createElement(o.Fragment,null,e.intervals.map(function(e,t){var n=e.changedDate?o.createElement(o.Fragment,null,e.dayName,", ",o.createElement("span",{className:p("date")},e.changedDate)):e.dayName;return o.createElement(d.a,{key:t,isDisabled:!e.changedDate,position:["right"],text:"Праздничный день"},o.createElement("div",{className:p("interval",{today:e.isToday})},o.createElement("div",{className:p("day")},n),o.createElement("span",null,Array.isArray(e.text)?e.text.map(function(e,t){return o.createElement("div",{key:t,className:p("interval-text")},e)}):e.text)))}))},h=Object(a.a)("orgpage-working-status-view"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=o.createRef(),n._switchPopup=function(){n.setState({popupVisible:!n.state.popupVisible})},n._closePopup=function(){n.setState({popupVisible:!1})},n._renderPopup=function(e){return o.createElement(l.a,{isShown:n.state.popupVisible,getTarget:function(){return n._ref.current},onClose:n._closePopup,showArrow:!1,restrictPosition:!0,position:["bottom-right","top-right"],offset:{main:0,side:-16},onScroll:"close",type:"map-hint"},o.createElement(c.a,{name:"popup"},o.createElement("div",{className:h("table")},o.createElement(m,{intervals:e}))))},n.state={popupVisible:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result,n=i.b(t,e.config),r=i.a(t,e.config),a=i.c(t,e.config);return o.createElement(c.a,{name:"working_status",logClick:!0},o.createElement("div",{className:h(n.state),ref:this._ref,onClick:this._switchPopup},o.createElement("span",{className:h("working-status",{clickable:Boolean(r)})},n.text,r?o.createElement("div",{className:h("control")},o.createElement(u.a,{isFlipped:this.state.popupVisible})):null),a?o.createElement("div",{className:h("hint")},a):null,r?this._renderPopup(r):null))},t}(o.PureComponent);t.default=Object(s.b)(f)},1182:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(2685),n(4)),a=n(7),i=n(8),s=n(88),c=(n(2687),n(31)),l=n(426),u=Object(a.a)("orgpage-geoproduct-popup-view"),d=function(e){var t=e.data,n=e.onClose;return o.createElement(i.a,{name:"popup"},o.createElement("div",{className:u()},o.createElement(c.a,{onClick:n}),o.createElement("div",{className:u("title")},"Подробности акции:"),o.createElement("div",{className:u("content")},t.banner?o.createElement("div",{className:u("image-wrapper")},o.createElement("img",{className:u("image"),src:t.banner})):null,o.createElement("div",{className:u("text")},o.createElement("div",null,t.text,o.createElement("span",{className:u("badge")},o.createElement(l.a,{utms:"utm_source=webmaps&utm_medium=gp_label&utm_campaign=orgpage_label"}))),t.disclaimers?o.createElement("div",{className:u("disclaimer")},t.disclaimers[0]):null,t.url&&!/^\s*javascript/.test(t.url)?o.createElement(i.a,{name:"promotion_link",logClick:!0},o.createElement("a",{className:u("link"),target:"_blank",href:t.url},"Перейти на сайт")):null))))},p=n(22),m=1999,h=Object(a.a)("orgpage-geoproduct-view"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=o.createRef(),n._switchPopup=function(){n.setState({isPopupVisible:!n.state.isPopupVisible})},n._renderPopup=function(e){var t=n.state.isPopupVisible;return o.createElement(o.Fragment,null,o.createElement(p.a,{isShown:t,getTarget:function(){return n._ref.current},position:"bottom",onScroll:"close",offset:{main:-16,side:0},type:"map-hint",onClose:n._switchPopup,zIndex:m},o.createElement(d,{data:e,onClose:n._switchPopup})),o.createElement("img",{src:e.banner,className:h("img-preloader")}),o.createElement(i.a,{name:"paranja",logClick:!0},o.createElement("div",{className:h("paranja",{hidden:!t}),onClick:n._switchPopup})))},n.state={isPopupVisible:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.data;return e?o.createElement(i.a,{name:"promotion",logClick:!0},o.createElement("div",{className:h(),ref:this._ref,onClick:this._switchPopup},o.createElement("div",{className:h("header")},o.createElement("div",{className:h("icon")}),o.createElement("div",{className:h("title")},e.title)),o.createElement("div",{className:h("more")},"Подробнее",o.createElement(s.a,{isFlipped:!1})),this._renderPopup(e))):null},t}(o.PureComponent);t.default=f},133:function(e,t,n){"use strict";var r=n(6),o=n(4),a=n(9),i=n(93),s=function(e){function t(t){var n;return(n=e.call(this,t)||this)._setRef=function(e){if(e&&"MSIE"===n.props.config.uatraits.BrowserName){var t=e.parentElement,r=t.offsetHeight,o=t.offsetWidth;n.setState({paddingTop:r/o*100+"%",isFallback:!0})}},n._getStyle=function(){var e=n.props;return n.state.isFallback?{paddingTop:n.state.paddingTop,backgroundImage:"url('"+e.src+"')",backgroundSize:e.backgroundSize||"cover",backgroundRepeat:"no-repeat",height:0,backgroundPosition:"center"}:{objectFit:e.backgroundSize||"cover",backgroundColor:"contain"===e.backgroundSize?"#fff":void 0}},n.state={paddingTop:"0",isFallback:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return o.createElement(i.a,{immediately:e.renderImmediately},o.createElement("img",{width:"100%",height:"100%",src:e.src,alt:e.alt,style:this._getStyle(),ref:this._setRef,loading:e.renderImmediately?void 0:"lazy"}))},t}(o.PureComponent);t.a=Object(a.b)(s)},134:function(e,t,n){"use strict";n(148);var r=n(4),o=n(7),a=n(8),i=Object(o.a)("something-wrong-view");t.a=function(e){return r.createElement(a.a,{name:"error"},r.createElement("div",{className:i()},r.createElement("div",{className:i("image")}),r.createElement("div",{className:i("text")},e.children)))}},148:function(e,t,n){},150:function(e,t,n){},152:function(e,t,n){e.exports=n.p+"_/ab65d8cbf4996eb9048efd9031d9f38b.svg"},157:function(e,t,n){"use strict";var r=n(2799),o=n(107),a=n(32),i=n(47),s=n(24);var c=n(78),l=n(70);function u(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,a=null==o?1:Object(l.a)(o),i=null==n.firstWeekContainsDate?a:Object(l.a)(n.firstWeekContainsDate),u=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(s.a)(e,t),r=n.getFullYear(),o=t||{},a=o.locale,i=a&&a.options&&a.options.firstWeekContainsDate,u=null==i?1:Object(l.a)(i),d=null==o.firstWeekContainsDate?u:Object(l.a)(o.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(r+1,0,d),p.setHours(0,0,0,0);var m=Object(c.a)(p,t),h=new Date(0);h.setFullYear(r,0,d),h.setHours(0,0,0,0);var f=Object(c.a)(h,t);return n.getTime()>=m.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}(e,t),d=new Date(0);return d.setFullYear(u,0,i),d.setHours(0,0,0,0),Object(c.a)(d,t)}var d=6048e5;function p(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(s.a)(e,t),r=Object(c.a)(n,t).getTime()-u(n,t).getTime();return Math.round(r/d)+1}var m=n(257);n.d(t,"a",function(){return g}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return _});var h=["break","opening_soon","closing_soon"];function f(e,t,n){var r,o=e.status,a=e.currentWorkingStatus,i=(null==n?void 0:n.short)?null==a?void 0:a.shortText:null==a?void 0:a.text;return{text:"open"===o?null!=i?i:"График работы не указан":(r=o,{"possible-closed":"Возможно, больше не работает","temporary-closed":"Временно не работает","permanent-closed":"Больше не работает"}[r]),state:{closed:"open"!==o||Boolean(a&&!a.isOpenNow),"changing-soon":!(!a||!a.tag)&&a.tag.some(function(e){return h.includes(e)})}}}function v(e,t){if(!e)return{};var n=[];e.unusual_hours&&(n=n.concat(e.unusual_hours)),e.valid_schedule&&(n=n.concat(e.valid_schedule));var r=a.g(a.f(t));return n.reduce(function(e,n){var o=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(s.a)(e,t).getDay()}(n),a=p(n,{weekStartsOn:1})===p(r,{weekStartsOn:1});if(!e[o]&&a){var c=Object(s.a)(n);e[o]=Object(i.a)(c,t)}return e},{})}function g(e,t){if(e.workingTime){var n=a.g(a.f(t)).getDay(),i=v(e.businessProperties,t);return[].concat(e.workingTime.slice(1),[e.workingTime[0]]).map(function(e,s){var c,l=(s+1)%7,u=Object(r.a)(o.a[l].slice(0,2));return e?1===e.length&&0===a.c(e[0].to,e[0].from)?(c="Круглосуточно",u+=" 00:00-23:59"):(c=e.map(function(e){var t=e.from,n=e.to;return a.l(t)+" – "+a.l(n)}),u+=" "+e.map(function(e){var t=e.from,n=e.to;return a.l(t)+"-"+a.l(n)}).join(",")):(c="Выходной",u=""),{dayName:Object(o.b)(t,o.a[l]),text:c,isWeekend:!e,isToday:n===l,changedDate:i[l],meta:u}})}}function _(e,t){var n=e.businessProperties;if(n){var r=a.g(a.f(t)),o=(n.unusual_hours||[]).some(function(e){return Object(m.a)(e,r)}),i=(n.valid_schedule||[]).some(function(e){return Object(m.a)(e,r)});if(o||i)return i?"Сегодня организация работает по праздничному графику":"Сегодня график работы мог поменяться из-за праздника"}}},170:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("discovery").then(n.bind(null,408))},{load:!0,highlightOrganization:!0,unhighlightOrganization:!0,selectOrganization:!0,unselectOrganization:!0})},187:function(e,t,n){"use strict";var r=n(6),o=(n(202),n(4)),a=n(7),i=n(22),s=n(11),c=n(8),l=n(204),u=n.n(l),d=Object(a.a)("clipboard"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._action=null,n._content=null,n._textarea=null,n._selectContent=function(){var e=window.getSelection();if(!e)return"";var t=window.document.createRange();return t.selectNodeContents(n._content),e.removeAllRanges(),e.addRange(t),e.toString().trim()},n._showHelp=function(e){n.setState({success:e}),n._hideTimer=window.setTimeout(function(){n.setState({success:null})},2e3),!e&&!n.props.text&&n.props.children&&n._textarea&&(n._textarea.blur(),n._selectContent())},n._copy=function(e){e.stopPropagation(),window.clearTimeout(n._hideTimer);var t=n.props.text;if(!t&&n.props.children&&(t=n._selectContent()),t&&n._textarea){n._textarea.value=t,n._textarea.select(),n._textarea.setSelectionRange(0,t.length);var r=!1;try{r=window.document.execCommand("copy")}catch(o){}n._showHelp(r),n._textarea.value="",n._textarea.blur()}},n._onMouseEnter=function(){n.setState({show:!0,success:null})},n._onMouseLeave=function(){n.setState({show:!1,success:null})},n._renderAction=function(){return o.createElement(c.a,{name:"clipboard",logClick:!0},o.createElement("div",{className:d("action-wrapper",{inline:!n.props.noIcon&&"input"!==n.props.view,view:n.props.view}),onClick:n._copy,ref:function(e){return n._action=e}},n.props.children,o.createElement("div",{className:d("action",{visible:n.props.visible,show:n.state.show})},n.props.noIcon?null:o.createElement("div",{className:d("icon")},o.createElement(s.a,{url:u.a})),o.createElement("textarea",{className:d("textarea"),ref:function(e){return n._textarea=e},readOnly:!0}))))},n._renderHelp=function(){var e=n.state.success;return o.createElement(i.a,{isShown:null!==e,getTarget:function(){return n._action},position:n.props.position||"top",restrictPosition:!0,type:e?"help":"error",onClose:function(){}},o.createElement("div",{className:d("help")},e?"Скопировано":"Ошибка! Скопируйте вручную"))},n.state={clipboardSupported:!0,show:!1,success:null},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.document.queryCommandSupported&&window.document.queryCommandSupported("copy")||this.setState({clipboardSupported:!1})},n.componentWillUnmount=function(){window.clearTimeout(this._hideTimer)},n.render=function(){var e=this,t=this.props.children||null;return this.state.clipboardSupported?o.createElement("div",{className:d(),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},o.createElement("div",{className:d("content"),ref:function(t){return e._content=t}},this._renderAction()),this._renderHelp()):o.createElement("div",{className:d()},t)},t}(o.Component);t.a=p},188:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("promo").then(n.bind(null,409))},{open:!0,close:!0})},199:function(e,t,n){"use strict";var r=n(6),o=(n(236),n(4)),a=n(7),i=n(40),s=n(8),c=n(39),l=n(9),u=(n(72),["allow-forms","allow-scripts","allow-same-origin","allow-modals","allow-popups","allow-popups-to-escape-sandbox"].join(" ")),d=Object(a.a)("iframe-dialog"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onFrameLoad=function(){n.setState({isFrameLoading:!1})},n._onFrameError=function(){n.setState({isFrameLoading:!1,isFrameError:!0})},n._onClose=function(){n.props.onClose&&n.props.onClose()},n._renderTitle=function(){var e=n.props.text;return e?o.createElement("div",{className:d("title"),dangerouslySetInnerHTML:{__html:e}}):null},n.state={didMount:!1,isFrameLoading:!0,isFrameError:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({didMount:!0})},n.componentDidUpdate=function(e){e.isOpen&&!this.props.isOpen&&this.setState({isFrameLoading:!0,isFrameError:!1})},n.render=function(){var e=this.props,t=this.state,n=this._renderTitle();return o.createElement(i.default,{isOpen:e.isOpen,onClose:this._onClose,showCloseButton:!0},o.createElement(s.a,{name:"iframe",useParentState:!0},o.createElement("div",{className:d({view:e.fullView?"full":"padded"})},n,t.isFrameLoading?o.createElement("div",{className:d("spinner")},o.createElement(c.a,{view:"large"})):null,t.isFrameError?o.createElement("div",{className:d("error-message")},"Произошла ошибка.\nПовторите через пару минут."):o.createElement("iframe",{className:d("frame"),src:e.href.replace("http:","https:"),style:e.iframeStyle,sandbox:u,referrerPolicy:"origin",onLoad:this._onFrameLoad,onError:this._onFrameError}))))},t}(o.PureComponent);t.a=Object(l.b)(p)},200:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(77),o="[a-z0-9!#$%&'*\\.+/=?^_`{|}~-]+@([a-zёа-я0-9]([a-zёа-я0-9-]*[a-zёа-я0-9])?\\.)+[a-zёa-я]{2,}";function a(e){return new RegExp("^"+o+"$","i").test(e)}function i(e){var t=r.b(e);return Boolean(t&&e.length===t.countryCode.length+t.phoneFormat.length&&e.startsWith(t.countryCode))}},202:function(e,t,n){},204:function(e,t,n){e.exports=n.p+"_/e5e2c1a7a1e08d0ef752d275975c693a.svg"},205:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d});var r=n(10),o=n(415);function a(e,t,n){return (function(params){return "Забронировать от "+params.price+" / "+params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "ночь" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "ночи" : "ночей"));})({count:Object(o.a)(n,t),price:e})}function i(e){return"no-room"===e.type?"Не удалось найти предложения на выбранные даты":"При запросе цен произошла ошибка. Проверьте соединение с интернетом и обновите страницу"}function s(e){return Object(r.a)(Object(r.a)({},e.data&&"type"in e.data?{error:e.data.type}:e.data||{}),{},{dateFrom:e.dateFrom||void 0,dateTo:e.dateTo||void 0,personsAmount:e.personsAmount})}function c(e){return{id:e.toString(),text:(function(params){return params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "взрослый" :"взрослых");})({count:e})}}function l(){return[1,2,3,4,5].map(c)}function u(e){return e.getFullYear()+"-"+function(e,t){var n=(e.getMonth()+1).toString();return t?n.padStart(2,"0"):n}(e,!0)+"-"+function(e,t){var n=e.getDate().toString();return t?n.padStart(2,"0"):n}(e,!0)}function d(e){return Boolean(e.references&&e.references.some(function(e){return e.scope.startsWith("ytravel_")}))}},221:function(e,t,n){"use strict";var r,o=n(6),a=n(4),i=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={didHydrate:r},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.didHydrate||(r=!0,this.setState({didHydrate:r}))},n.render=function(){var e=this.props;return this.state.didHydrate?null:a.createElement("script",{type:"text/javascript",nonce:e.config.cspNonce,dangerouslySetInnerHTML:{__html:"window.timingsMarks."+e.type+" = performance.now();"}})},t}(a.Component);t.a=Object(i.b)(s)},236:function(e,t,n){},244:function(e,t,n){"use strict";var r=n(6),o=n(4),a=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._fetchUrl=function(){var e=t.props.url;if(e){var n=window.document.createElement("img");n.setAttribute("src",e),window.document.body.appendChild(n),n.addEventListener("load",r),n.addEventListener("error",r)}function r(){window.document.body.removeChild(n),n.removeEventListener("load",r),n.removeEventListener("error",r)}},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetchUrl()},n.componentDidUpdate=function(e){e.url!==this.props.url&&this._fetchUrl()},n.render=function(){return null},t}(o.PureComponent);t.a=a},245:function(e,t,n){},257:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(98);function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=Object(r.a)(e,n),a=Object(r.a)(t,n);return o.getTime()===a.getTime()}},2659:function(e,t,n){},2661:function(e,t,n){e.exports=n.p+"_/2807fef2851ab225739048ede192f6e1.svg"},2662:function(e,t,n){e.exports=n.p+"_/99eb9969bb901d50138d27dd695d9436.svg"},2663:function(e,t,n){e.exports=n.p+"_/8112f1130c06cfed3670e662a833f9a6.svg"},2680:function(e,t,n){},2685:function(e,t,n){},2687:function(e,t,n){},2689:function(e,t,n){},2691:function(e,t,n){},2701:function(e,t,n){},2703:function(e,t,n){},2705:function(e,t,n){},35:function(e,t,n){"use strict";var r=n(10),o=n(6),a=(n(63),n(4)),i=n(2800),s=n(2765),c=n(7),l=n(50),u=n(86),d=n(9),p=(n(65),n(8)),m=n(11),h=n(67),f=n.n(h),v=n(68),g=n.n(v),_={l:f.a,m:g.a},E={l:40,m:32},b=Object(c.a)("carousel"),y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onPrevClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(-1)},t._onNextClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(1)},t._renderButton=function(e){var n;if(!t.props.showButtons[e])return null;var r=t.props,o=r.arrowStyle,i=void 0===o?{}:o,s=r.buttonSize,c=void 0===s?"l":s,l=i.horizontalOffset,u=void 0===l?0:l,d=i.topVerticalOffset,h=E[c]/2,f=void 0!==d,v=f?d-h:0;return a.createElement("div",{className:b("arrow-wrapper",(n={centered:!f},n[e]=!0,n.size=c,n))},a.createElement(p.a,{name:e,logClick:!0,useParentState:!0},a.createElement("div",{className:b("arrow",{size:c}),style:{margin:v+"px "+u+"px"},onClick:"prev"===e?t._onPrevClick:t._onNextClick,onMouseEnter:t.props.onMouseEnter,onMouseLeave:t.props.onMouseLeave},a.createElement(m.a,{className:b("arrow-image"),url:_[c]}))))},t}return Object(o.a)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this._renderButton("prev"),this._renderButton("next"))},t}(a.Component),C=n(85),k=n(110),w=21,S=Object(c.a)("carousel"),N=function(e){function t(t){var n;return(n=e.call(this,t)||this)._analyticsRef=a.createRef(),n._scrollable=a.createRef(),n._isProgrammaticScroll=!1,n._contentNode=null,n._elementWidth=0,n._insideButton=!1,n._isClickAllowed=!0,n._isSwiping=!1,n._swipeStartScreen=0,n._getCurrentScreen=function(){var e=n._scrollable.current.scrollLeft/(n._elementWidth+n.props.itemsGap),t=n.props.children.length-1;return Math.max(0,Math.min(t,e))},n._onScroll=function(){n.props.snap&&(n._isSwiping?n._checkSwipeEndDebounced():n._onSwipeStart()),n.props.onScroll&&n._scrollable.current&&n.props.onScroll(n._getCurrentScreen(),n._isProgrammaticScroll),n._updateArrowsVisibility()},n._checkSwipeEnd=function(){var e=n._getCurrentScreen();Math.abs(e-Math.round(e))<.03&&n._onSwipeEnd()},n._onSwipeStart=function(){var e,t;(n._isSwiping=!0,n._swipeStartScreen=Math.round(n._getCurrentScreen()),n._isProgrammaticScroll)||(null===(e=(t=n.props).onSwipeStart)||void 0===e||e.call(t))},n._onSwipeEnd=function(){var e,t,r;Math.round(n._getCurrentScreen())===n._swipeStartScreen||n._isProgrammaticScroll||(null===(e=n._analyticsRef.current)||void 0===e||e.logEvent("swipe"));n._isProgrammaticScroll||(null===(t=(r=n.props).onSwipeEnd)||void 0===t||t.call(r));n._isSwiping=!1,n._isProgrammaticScroll=!1},n._setScrollPosition=function(e){if(void 0!==e){var t=e*(n._elementWidth+n.props.itemsGap);n._setOffset(t)}},n._contentRef=function(e){if(n._contentNode=e,e){var t=n.props.padding,r=void 0===t?0:t,o=n.props.expandWidth||{left:0};n._elementWidth=e.children[0].offsetWidth-(r+o.left),setTimeout(n._updateHeight,0)}},n._updateHeight=function(){n._contentNode&&n.setState({height:n._contentNode.clientHeight})},n._updateArrowsVisibility=function(){var e=n._scrollable.current,t=e.scrollLeft,r=e.scrollWidth-e.clientWidth-t,o=n.props.buttonOffset,a=void 0===o?1:o,i=t>a,s=r>a,c=n.state.showButtons;i===c.prev&&s===c.next||(n.setState({showButtons:{prev:i,next:s}}),n._leaveButton())},n._enterButton=function(){n._insideButton=!0,n._isClickAllowed=!1},n._leaveButton=function(){n._insideButton=!1},n._onMouseMove=function(){n._insideButton||n._isClickAllowed||(n._isClickAllowed=!0)},n._checkClick=function(e){n._isClickAllowed||(e.preventDefault(),e.stopPropagation())},n._setOffset=function(e){var t=n._scrollable.current,r=n.state.smoothScroll;t&&(n._isProgrammaticScroll=!0,"scrollBehavior"in document.body.style?t.scrollLeft=e:Object(l.a)({duration:r?350:0,element:t,horizontal:!0,targetPosition:e},n.props.config))},n._setOffsetByDirection=function(e){if(n._scrollable.current){var t=n.props,r=n._elementWidth+t.itemsGap,o=n._scrollable.current.scrollLeft+(t.clickStep||1)*r*e,a=1===e?Math.floor:Math.ceil;n._setOffset(a(o/r)*r)}},n._getScrollableContainerStyles=function(e){var t=n.props,o=n.state,a=Object(r.a)({},t.scrollContainerStyle);t.snap&&!e.has.snapAlign&&(a.scrollSnapPointsX="repeat("+(n._elementWidth+t.itemsGap)+"px)");var i=o.height;return i&&(a.height=i+w,a.paddingBottom=w),a},t.scrollableRef&&(n._scrollable=t.scrollableRef),n.state={showButtons:{prev:!1,next:!0},smoothScroll:!1},n._onScrollThrottled=Object(i.a)(n._onScroll,20),n._checkSwipeEndDebounced=Object(s.a)(n._checkSwipeEnd,200),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props;t.resetCarouselRef&&t.resetCarouselRef(function(){return e._setOffset(0)}),t.setPositionRef&&t.setPositionRef(function(t){return e._setScrollPosition(t)}),this._scrollable.current.addEventListener("scroll",this._onScrollThrottled,{passive:!0}),this._updateArrowsVisibility(),this._setScrollPosition(t.initialPosition),this.setState({smoothScroll:!t.config.query["no-animation"]})},n.componentDidUpdate=function(e){a.Children.count(e.children)!==a.Children.count(this.props.children)&&this._updateArrowsVisibility()},n.componentWillUnmount=function(){var e=this.props;e.resetCarouselRef&&e.resetCarouselRef(void 0),e.setPositionRef&&e.setPositionRef(void 0),this._scrollable.current.removeEventListener("scroll",this._onScrollThrottled),this._onScrollThrottled.cancel(),this._checkSwipeEndDebounced.cancel()},n.render=function(){var e=this,t=this.props,n=this.state,o=t.expandWidth||{left:0,right:0},i=t.padding||0,s=i+o.left,c=i+o.right,l=a.Children.toArray(t.children).filter(Boolean),d={"old-browsers-workaround":!t.disableOldBrowsersWorkaround,theme:t.theme||"white","show-arrows":"always"===t.showArrows};return a.createElement(p.a,{name:"carousel",useParentState:!0,nodeRef:this._analyticsRef},a.createElement("div",{className:S(d)+(t.className?" "+t.className:""),style:Object(r.a)({height:n.height,marginLeft:-o.left,marginRight:-o.right},t.style),ref:t.forwardedRef},a.createElement(u.a,null,function(r){var o,i;return a.createElement("div",{className:S("scrollable",{snap:t.snap,"smooth-scroll":n.smoothScroll}),style:e._getScrollableContainerStyles(r),ref:e._scrollable,onClickCapture:e._checkClick,onMouseMove:e._onMouseMove},a.createElement("div",{className:S("content"),ref:e._contentRef},l.map(function(e,n){return a.createElement("div",{key:"object"==typeof e&&e&&"key"in e?e.key||void 0:n,className:S("item"),style:{paddingLeft:0===n?s:t.itemsGap,paddingRight:n===l.length-1?c:void 0}},e)}),a.createElement(C.a,{onResize:function(){e._updateHeight(),e._updateArrowsVisibility()}})),null!==(o=null===(i=t.renderInScrollContainer)||void 0===i?void 0:i.call(t))&&void 0!==o?o:null)}),"never"!==t.showArrows?a.createElement(y,{showButtons:n.showButtons,arrowStyle:t.arrowStyle,buttonSize:t.buttonSize,onMouseEnter:this._enterButton,onMouseLeave:this._leaveButton,setOffsetByDirection:this._setOffsetByDirection}):null))},t}(a.Component);t.a=Object(k.a)(Object(d.b)(N))},40:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(56),n(4)),a=n(7),i=n(28),s=n(80),c=n(9),l=n(53),u=n(31),d=n(52),p=n(8),m=Object(a.a)("dialog"),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._container=o.createRef(),t._ref=o.createRef(),t._focusContainer=function(){if(t._container.current&&(!window.document.activeElement||!t._container.current.contains(window.document.activeElement))){var e=t._ref.current.scrollTop;t._container.current.focus(),t._ref.current.scrollTop=e}},t._onClose=function(){t.props.onClose()},t._onMouseDown=function(e){var n=e.currentTarget,r=!!(n.scrollHeight>n.offsetHeight)&&n.offsetWidth===n.clientWidth?15:0;e.target===e.currentTarget&&e.clientX+r<e.currentTarget.clientWidth&&t._onClose()},t._onScroll=function(){var e=t._ref.current,n=e.clientHeight+e.scrollTop>=e.scrollHeight;t.props.onScrollToEnd&&n&&t.props.onScrollToEnd()},t._renderClose=function(){if(!t.props.showCloseButton)return null;var e=Boolean(!1);return o.createElement(p.a,{name:"close",useParentState:!0,logClick:!0},o.createElement(u.a,{onClick:t._onClose,offset:e?"small":"large",circle:!0,usePortal:!1}))},t._renderContainer=function(){var e=t.props,n=Boolean(!1);return o.createElement("div",{className:m("container"),ref:t._container,tabIndex:1},o.createElement(s.a,{handlers:{key:l.a.ESC,callback:t._onClose,allowInEditable:!0},stopPropagation:!0}),o.createElement("div",{className:m("content",{"with-title":n})},n?o.createElement(i.a,{selector:".body"},o.createElement("div",{className:m("title")},e.mobileTitle)):null,t._renderClose(),e.children))},t._renderDialog=function(){var e=t.props;return o.createElement(p.a,{name:"dialog",useParentState:!0,logClick:!0},o.createElement(o.Fragment,null,o.createElement("div",{className:m({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:t._ref,onMouseDown:t._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:t.props.onScrollToEnd?t._onScroll:void 0},t._renderContainer()),o.createElement("div",{className:m("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0})))},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?o.createElement(d.a,null,t):o.createElement(i.a,{selector:".body"},o.createElement(d.a,null,t))},t}(o.Component);t.default=Object(c.b)(h)},415:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(316),o=n(98),a=864e5;function i(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Object(o.a)(e,n),s=Object(o.a)(t,n),c=i.getTime()-Object(r.a)(i),l=s.getTime()-Object(r.a)(s);return Math.round((c-l)/a)}},42:function(e,t,n){"use strict";var r=n(6),o=(n(81),n(4)),a=n(7),i=n(116),s=n(97),c=n(46),l=1,u=Object(a.a)("sticky-wrapper"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._containerRef=o.createRef(),n._isDisabled=function(e){return void 0===e&&(e=n.props),e.disabled||!e.scrollId},n._registerContainer=function(){var e,t=n.props,r=null!==(e=t.order)&&void 0!==e?e:l;if(n._containerRef.current){var o=t.scrollId;if(!o)return;t.registerStickyElement(o,r,n._containerRef,n._onPositionUpdate),t.updateStickyElement(o,r,n._containerRef.current.offsetHeight),n._unregisterContainer=function(){t.unregisterStickyElement(o,r)}}},n._onIntersectionChange=function(e){n.setState({fixed:!e})},n._onPositionUpdate=function(e){var t,r;n.setState({position:e}),null===(t=(r=n.props).onOffsetChange)||void 0===t||t.call(r,e)},n._onIntersectionParentBoundaries=function(e){n.setState({reachedParentBoundaries:!e})},n.state={fixed:!1,reachedParentBoundaries:!1,position:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isDisabled()||this._registerContainer()},n.componentDidUpdate=function(e,t){var n=this.props,r=this.state,o=n.children!==e.children;(n.children&&o||this._isDisabled(e)&&!this._isDisabled())&&this._registerContainer(),n.onFixedChange&&t.fixed!==r.fixed&&n.onFixedChange(r.fixed)},n.componentWillUnmount=function(){var e;null===(e=this._unregisterContainer)||void 0===e||e.call(this)},n.render=function(){var e,t=this.props,n=this.state;return t.children?this._isDisabled()?t.children:o.createElement(o.Fragment,null,"top"===t.position?o.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target"),onChange:this._onIntersectionChange},null):null,o.createElement("div",{className:u({position:t.position,fixed:n.fixed,header:t.header,border:null!==(e=t.border)&&void 0!==e?e:"auto",wide:t.wide,"reached-boundaries":n.reachedParentBoundaries}),style:{top:this.state.position,zIndex:t.zIndex},ref:this._containerRef},o.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target",{absolute:!0}),onChange:this._onIntersectionParentBoundaries},null),t.children)):null},t}(o.Component);t.a=Object(s.b)(Object(i.b)(d))},426:function(e,t,n){"use strict";var r=n(6),o=(n(804),n(4)),a=n(7),i=n(9),s=Object(a.a)("advert-badge"),c=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.config.advertLandingUrl,n=t+(e.utms?"?"+e.utms:"");return o.createElement("span",{className:s(),style:{height:e.height}},t?o.createElement("a",{className:s("link"),href:n,target:"_blank"},"Реклама"):o.createElement("div",{className:s("link")},"Реклама"))},t}(o.Component);t.a=Object(i.b)(c)},460:function(e,t,n){"use strict";var r=n(6),o=n(4),a=n(199),i=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getUrl=function(e){return e.urlExtension?e.href+(e.href.includes("?")?"&":"?")+(e.urlExtension||""):e.href},n._onClick=function(){var e=n.props.link;e.iframe?n.setState({showIframe:!0}):window.open(n._getUrl(e),"_blank")},n._onClose=function(){n.setState({showIframe:!1})},n._renderIframe=function(){var e=n.props.link;return e.iframe?o.createElement(a.a,{isOpen:n.state.showIframe,href:n._getUrl(e),text:e.text,iframeStyle:e.iframe,onClose:n._onClose}):null},n.state={showIframe:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return o.createElement(o.Fragment,null,this._renderIframe(),e.children(this._onClick))},t}(o.Component);t.a=i},473:function(e,t,n){"use strict";var r=n(25),o={subscribe:function(e,t){return Object(r.a)("email/subscribe",{body:e},t)},send:function(e,t){return Object(r.a)("email/send",{body:e},t)}};t.a=o},50:function(e,t,n){"use strict";function r(e,t){var n=e.duration,r=void 0===n?0:n,a=e.element,i=e.targetPosition,s=e.horizontal,c=e.onStart,l=void 0===c?function(){}:c,u=e.onEnd,d=void 0===u?function(){}:u,p=s?a.scrollLeft:a.scrollTop,m=Math.round(i-p);if(i===p)return l(),void d();t.query["no-animation"]&&(r=0);var h,f=0;l(),r?window.requestAnimationFrame(function e(t){h=h||t;var n=t-h;var i=n>=r?1:(c=n/r,c<.5?8*c*c*c*c:1-8*--c*c*c*c);var c;f=p+Math.ceil(m*i);o(a,f,s);i<1?window.requestAnimationFrame(e):d()}):(o(a,i,s),d())}function o(e,t,n){n?e.scrollLeft=t:e.scrollTop=t}function a(){}n.d(t,"a",function(){return r}),t.b=function(e,t){var n=e.targetElement,o=e.duration,i=void 0===o?0:o,s=e.insideElement,c=e.offset,l=void 0===c?0:c,u=e.onStart,d=void 0===u?a:u,p=e.onEnd,m=void 0===p?a:p,h=e.horizontal;if(n&&s){var f=s.getBoundingClientRect(),v=n.getBoundingClientRect();"center"===l&&(l=-1*Math.round(f.width/2-v.width/2));var g=h?s.scrollLeft:s.scrollTop;r({duration:i,element:s,targetPosition:Math.min(g+l+(h?v.left-f.left:v.top-f.top),h?s.scrollWidth:s.scrollHeight),horizontal:h,onStart:d,onEnd:m},t)}}},56:function(e,t,n){},61:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("feedback").then(n.bind(null,249))},{openCommonFeedback:!0,closeCommonFeedback:!0,openFeedback:!0,closeFeedback:!0,openSelectObjectFeedback:!0,openBusinessFeedback:!0,openRouteFeedback:!0,openAddObjectFeedback:!0,openEditObjectFeedback:!0,openMapEditFeedback:!0,completeFeedback:!0,submitFeedback:!0})},63:function(e,t,n){},65:function(e,t,n){},655:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(2689),n(4)),a=n(7),i=n(9),s=n(8),c=n(88),l=(n(2691),n(2779)),u=n(77),d=n(187),p=Object(a.a)("orgpage-phone-view"),m=function(e){var t=e.phone,n=e.onClick,r=t.number;t.extraNumber&&(r+=" "+(function(params){return "(доб. "+params.number+")";})({number:t.extraNumber}));var a=null;if(t.type&&"phone"!==t.type){var i=u.f(t.type);a=t.info?o.createElement(o.Fragment,null," (",i,")"):o.createElement("span",{className:p("type")},i)}return o.createElement(s.a,{name:"phone",key:t.number},o.createElement("div",{className:p()},o.createElement("div",{className:p("number")},t.info||a?o.createElement("div",{className:p("info")},t.info?Object(l.a)(t.info):null,a):null,r),o.createElement("div",{className:p("buttons")},o.createElement(d.a,{text:t.number,noIcon:!0,view:"primary"},o.createElement("div",{className:p("link",{copy:!0})})),o.createElement(s.a,{name:"call_phone",logClick:!0},o.createElement("a",{className:p("link",{call:!0}),href:"tel:"+t.number,onClick:n})))))},h=n(22),f=n(244),v=Object(a.a)("orgpage-phones-view"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=o.createRef(),n._switchPopup=function(){n.setState({popupVisible:!n.state.popupVisible})},n._closePopup=function(){n.setState({popupVisible:!1})},n._renderPhoneOther=function(e){return o.createElement(m,{key:e.number,phone:e,onClick:n._closePopup})},n._renderPhoneMain=function(e){var t=e.number;return e.extraNumber&&(t+=" "+(function(params){return "(доб. "+params.number+")";})({number:e.extraNumber})),o.createElement("div",{className:v("phone-number")},t)},n._renderPopup=function(e){var t=n.state.popupVisible;return o.createElement(h.a,{isShown:t,getTarget:function(){return n._ref.current},onClose:n._closePopup,showArrow:!1,restrictPosition:!0,position:["bottom-right","top-right"],offset:{main:0,side:-16},onScroll:"close",type:"map-hint"},o.createElement(s.a,{name:"popup"},o.createElement("div",{className:v("phones")},e.map(n._renderPhoneOther))))},n._renderShowPhoneButton=function(){var e=n.props;if(e.show)return null;var t=e.goal?["goal_deepuse",e.goal]:"goal_deepuse";return o.createElement(s.a,{name:"show_phone",metrikaGoal:t,logClick:!0},o.createElement("div",{className:v("more"),onClick:e.onShowClick},"Показать телефон"))},n._renderExpandPhonesButton=function(){var e=n.state.popupVisible;return o.createElement("div",{className:v("control")},o.createElement(c.a,{isFlipped:e}))},n.state={popupVisible:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.phones,n=e.show,r=t.length>1,a=r&&e.show;return o.createElement("div",{className:v({clickable:r,hidden:!n}),ref:this._ref},o.createElement(s.a,{name:"phones",logClick:a,nodeState:{hidden:!n}},o.createElement("div",{className:v("content"),onClick:a?this._switchPopup:void 0},o.createElement(s.a,{name:"principal"},o.createElement(o.Fragment,null,this._renderPhoneMain(t[0]),r?this._renderExpandPhonesButton():null,this._renderShowPhoneButton(),n?o.createElement(f.a,{url:t[0].counter}):null)))),this._renderPopup(t))},t}(o.PureComponent);t.default=Object(i.b)(g)},67:function(e,t,n){e.exports=n.p+"_/5e75b507edc611b46cc0cdfebd5ff33c.svg"},68:function(e,t,n){e.exports=n.p+"_/8156832d990b20d84ae2fa43ba364ee4.svg"},719:function(e,t,n){},72:function(e,t,n){"use strict";n(103),n(105);var r=n(4),o=n(7),a=n(31),i=n(46),s=Object(o.a)("sidebar-panel-header-view"),c=r.memo(function(e){return r.createElement("div",{className:[s({bordered:e.showBorder,view:e.view}),e.className].filter(Boolean).join(" ")},r.createElement("div",{className:s("title",{big:e.big})},e.title||e.children),r.createElement(i.a,{onChange:e.onChangeVisibiltyTitle},null),r.createElement("div",{className:s("controls")},e.onClose?r.createElement(a.a,{onClick:function(t){t.stopPropagation(),e.onClose()},relative:!0,circle:!0}):null))});c.displayName="SidebarPanelHeaderView",t.a=c},721:function(e,t,n){},723:function(e,t,n){},725:function(e,t,n){"use strict";n(726);var r=n(4),o=n(7),a=n(8),i=n(15),s=n(134),c=Object(o.a)("content-panel-error-view");t.a=function(e){var t="something-went-wrong"===e.error;return r.createElement("div",{className:c()},r.createElement(s.a,null,r.createElement("div",{className:c("title")},t?"Что-то пошло не так.":"Ничего не найдено."),r.createElement("div",{className:c("description")},t?"Попробуйте обновить страницу или зайти позднее.":"Проверьте адрес страницы или поищите что-нибудь другое.")),r.createElement("div",{className:c("button")},r.createElement(a.a,{name:"error_button",logClick:!0},r.createElement(i.a,{view:"primary",size:"medium",onClick:function(){return e.onButtonClick(e.error)}},t?"Обновить":"На главную"))))}},726:function(e,t,n){},728:function(e,t,n){"use strict";var r=n(6),o=(n(729),n(731),n(733),n(4)),a=n(7),i=n(9),s=n(200),c=n(101),l=n(15),u=n(18),d=n(473),p=n(39),m=n(8),h=n(0),f=Object(a.a)("maillist-form-view"),v="maillist_subscribed",g={default:"Рассылка Яндекс.Карт",success:"Готово!",confirm:"Почти готово!",error:"Давайте ещё раз",already:"Вы уже подписаны"},_={default:"Подпишитесь, чтобы узнавать об интересных местах в вашем городе",success:"Теперь вы подписаны на рассылки Яндекс.Карт",confirm:"В почте вас ждет письмо, где вы сможете подтвердить подписку",error:"Что-то пошло не так, попробуйте подписаться снова",already:""},E={default:"Подписаться",success:"Хорошо"},b=function(e){function t(t){var n,r;(r=e.call(this,t)||this)._analyticsRef=o.createRef(),r._subscribe=function(){var e=r.props,t=r.state;r.setState({isSubscribing:!0}),u.a.cancel(r._subscribeAction);var n=d.a.subscribe({email:t.email,regionId:String(e.config.userRegion.id),place:e.openedFrom},e.config);r._subscribeAction=u.a.create(n,{success:r._onSubscribe,fail:r._onSubscribe})},r._onSubscribe=function(e){h.a.set(v,e.status),r.setState({isSubscribing:!1,result:e})},r._onSubmit=function(e){e.preventDefault(),!r.state.isSubscribing&&r._isValid()&&(r._subscribe(),r._analyticsRef.current&&r._analyticsRef.current.logEvent("click",{key:"enter"}))},r._onEmailChange=function(e){r.setState({email:e})},r._onSuccessClick=function(){r.setState({isOpen:!1})},r._isValid=function(){return s.a(r.state.email)},r._getStatus=function(){var e=r.props.config.authorization,t=r.state,n=t.result,o=t.email;return n?n.status?"alreadySubscribed"in n&&n.alreadySubscribed?"already":e&&e.email===o?"success":"confirm":"error":"default"},r._renderSpinner=function(){return o.createElement("div",{className:f("spinner")},o.createElement("div",{className:f("spinner-inner")},o.createElement(p.a,{view:"medium"})))},r._renderConfirmControls=function(){return o.createElement("div",{className:f("success")},o.createElement(m.a,{name:"done",logClick:!0},o.createElement(l.a,{view:"primary",size:"medium",onClick:r._onSuccessClick},E.success)))},r._renderSubscribeControls=function(){r.props;var e=r.state,t=e.isSubscribing,n=e.email;return o.createElement(o.Fragment,null,o.createElement("div",{className:f("input")},o.createElement(c.a,{view:"stroke",value:n,placeholder:"Введите e-mail",onChange:r._onEmailChange})),o.createElement("div",{className:f("submit")},o.createElement(m.a,{name:"subscribe",logClick:!0,nodeRef:r._analyticsRef},o.createElement(l.a,{view:"primary",size:"medium",onClick:r._subscribe,disabled:t||!r._isValid()},E.default))))};var a=t.config.lang,i=null===(n=t.config.authorization)||void 0===n?void 0:n.email;return r.state={isOpen:"ru"===a&&!i,email:i||""},r}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=h.a.get(v);this.setState({isOpen:this.state.isOpen||"ru"===this.props.config.lang&&!e})},n.componentWillUnmount=function(){u.a.cancel(this._subscribeAction)},n.render=function(){var e=this.state,t=e.isOpen,n=e.result,r=e.isSubscribing;if(!t)return null;var a=this._getStatus();return o.createElement(m.a,{name:"maillist"},o.createElement("form",{className:f(),onSubmit:this._onSubmit},null,o.createElement("h3",{className:f("title")},g[a]),o.createElement("div",{className:f("text")},_[a]),o.createElement("div",{className:f("controls")},n&&n.status?this._renderConfirmControls():this._renderSubscribeControls()),r?this._renderSpinner():null))},t}(o.Component);t.a=Object(i.b)(b)},729:function(e,t,n){},731:function(e,t,n){},733:function(e,t){},77:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return p});var r=n(2779),o={fax:"факс",phone:"тел.","phone-fax":"тел./факс"},a={ru:{countryCode:"+7 ",phonePlaceholder:"+7 XXX XXX XX XX",phoneFormat:"923 456 78 90",phoneMask:"123 *** ** 00"},kz:{countryCode:"+7 ",phonePlaceholder:"+7 XXX XXX XX XX",phoneFormat:"923 456 78 90",phoneMask:"123 *** ** 00"},ua:{countryCode:"+380 ",phonePlaceholder:"+380 XX XXX XX XX",phoneFormat:"44 123 45 67",phoneMask:"12 *** ** 00"},tr:{countryCode:"+90 ",phonePlaceholder:"+90 XXX XXX XXXX",phoneFormat:"123 456 7890",phoneMask:"123 *** ** 00"},by:{countryCode:"+375 ",phonePlaceholder:"+375 XX XXX XXXX",phoneFormat:"29 456 7890",phoneMask:"123 *** ** 00"},uz:{countryCode:"+998 ",phonePlaceholder:"+998 XX XXX XXXX",phoneFormat:"35 111 2233",phoneMask:"35 *** ** 00"}};function i(e){return Object.values(a).find(function(t){return t&&e.startsWith(t.countryCode.replace(/\s/,""))})}function s(e){return a[e]}function c(e,t,n){var r=(void 0===n?{}:n).useRealty,o=void 0===r||r,a=e.phones||[],i=e.realty;return i&&i.company.phone&&o&&!e.advert&&(a=[{number:i.company.phone,counter:i.company.phoneCounter+"&source=map&crc="+t.xscriptCsrfToken,type:"phone",info:"Офис продаж"}]),a}function l(e){return o[e]||e}function u(e,t,n){void 0===n&&(n="");var r=e.slice(n.trim().length).replace(/\D/g,"").match(/\d/g)||[],o=t.split(/\d/);return n&&o.pop(),n+o.map(function(e,t){return r[t]&&e+r[t]}).join("")}function d(e,t,n){return void 0===n&&(n=""),n+e.slice(n.length).replace(/./g,function(e,n){return"*"===t[n]?"*":e})}function p(e,t){var n=e.info,o=e.type,a="fax"===o?"факс":"phone-fax"===o?"факс":void 0;return Object(r.a)(n?a?n+" ("+a+")":n:a)}},78:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(70),o=n(24);function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},a=n.locale,i=a&&a.options&&a.options.weekStartsOn,s=null==i?0:Object(r.a)(i),c=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(o.a)(e,n),u=l.getDay(),d=(u<c?7:0)+u-c;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}},804:function(e,t,n){},81:function(e,t,n){},88:function(e,t,n){"use strict";n(150);var r=n(4),o=n(7),a=n(11),i=n(152),s=n.n(i),c=Object(o.a)("flip-icon");t.a=function(e){var t=e.isFlipped;return r.createElement(a.a,{className:c({flipped:t}),url:s.a})}},93:function(e,t,n){"use strict";var r=n(6),o=n(4),a=n(46),i=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={shouldRender:t.immediately||Boolean(t.config.uatraits.isRobot)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.immediately&&this.props.immediately&&this.setState({shouldRender:!0})},n.render=function(){var e=this,t=this.props;if(this.state.shouldRender)return this.props.children;var n=t.placeholder||null;return o.createElement(a.a,{style:{width:"100%",height:"100%"},rootMargin:"100px",onChange:function(t){return e.setState({shouldRender:t})}},n)},t}(o.PureComponent);t.a=Object(i.b)(s)},951:function(e,t,n){"use strict";var r=n(6),o=(n(719),n(4)),a=n(12),i=n(7),s=n(23),c=n(115),l=n(37),u=n(36),d=n(8),p=n(11),m=(n(721),n(92)),h=n(39),f=Object(i.a)("content-panel-header-menu-item"),v=function(e){return o.createElement(d.a,{name:e.analyticsName,metrikaGoal:e.goal,nodeState:{type:e.type},logClick:!0},o.createElement("div",{className:f({name:e.analyticsName,clickable:!e.isLoading}),onClick:e.isLoading?void 0:function(){return e.onClick()}},e.isLoading?o.createElement("div",{className:f("spinner")},o.createElement(h.a,{view:"small"})):o.createElement(m.a,{inline:!0,className:f("icon"),name:e.iconName,size:24}),o.createElement("div",{className:f("text")},e.text)))},g=n(28),_=n(13),E=(n(723),n(955)),b=Object(i.a)("big-search-form-view"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._updateText=function(e){n.setState({text:e})},n._renderLeftIcons=function(){return o.createElement("div",{className:b("icon",{type:"search"})})},n._renderRightIcons=function(e){var t=e.search;return o.createElement("div",{className:b("search-button"),onClick:t},"Найти")},n.state={text:""},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.initialFocus,t=void 0===e||e,n=this.state.text;return o.createElement(E.a,Object(_.a)({},this.props,{initialFocus:t,className:b("form"),text:n,onInputChange:this._updateText,renderLeftIcons:this._renderLeftIcons,renderRightIcons:this._renderRightIcons,showClear:"hover"}))},t}(o.PureComponent),C=(n(31),n(42)),k={openRoutePanel:c.a.open,buildRouteTo:c.a.buildRouteTo,resetStackAndSidebar:s.a.resetStackAndSidebar,reduceStackByLastMode:s.a.reduceStackByLastMode,close:l.a.close},w=a.b(function(e){return{config:e.config}},k),S=Object(i.a)("content-panel-header"),N=function(e){function t(t){var n;return(n=e.call(this,t)||this)._openSearch=function(){n.setState({isSearchOpen:!0})},n._closeSearch=function(){n.setState({isSearchOpen:!1})},n._onRoutePanelClick=function(){var e=n.props,t=e.openRoutePanel,r=e.buildRouteTo,o=e.routeTo;o?r(o):t()},n._onIconClick=function(){var e=n.props;e.showBack?e.close():e.resetStackAndSidebar()},n._onCloseClick=function(){n.props.reduceStackByLastMode()},n._renderClose=function(){n.props;return o.createElement(d.a,{name:"close",logClick:!0},o.createElement("div",{className:S("close"),title:"Закрыть",onClick:n._onCloseClick},o.createElement(m.a,{inline:!0,name:"cross",size:24,className:S("close-image")})))},n._renderIcon=function(){var e=n.props,t=e.showBack?e.config.uatraits.isMobile?"back":"arrow-back":"logo";return o.createElement(d.a,{name:e.showBack?"back":"pin",logClick:!0},o.createElement(m.a,{inline:!0,name:t,size:24,className:S("icon",{back:e.showBack}),onClick:n._onIconClick}))},n._renderSearch=function(){var e=n.state.isSearchOpen;return o.createElement(g.a,{selector:".body"},o.createElement("div",{className:S("search-placeholder",{hidden:!e})},o.createElement("div",{className:S("paranja"),onClick:n._closeSearch}),e?o.createElement(y,{initialSuggest:!0,onSuggestClick:n._closeSearch,onBlur:n._closeSearch}):null))},n._renderLogo=function(){var e=n.props;return o.createElement(p.a,{className:S("logo"),url:u.b({type:"black",lang:e.config.lang}),onClick:e.resetStackAndSidebar})},n._renderSearchItem=function(){return o.createElement(v,{key:"search",analyticsName:"search",type:n.props.analyticsType,onClick:n._openSearch,iconName:"search",text:"Поиск"})},n._renderRoute=function(){var e=n.props;return o.createElement(v,{key:"route",analyticsName:"build_route",goal:e.routeGoal,type:e.analyticsType,onClick:n._onRoutePanelClick,iconName:"navi",text:"Маршруты"})},n._renderItems=function(){return o.createElement("div",{className:S("items")},n._renderLogo(),o.createElement("div",{className:S("menu")},n._renderSearchItem(),n._renderRoute()))},n.state={isSearchOpen:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.state;return o.createElement(C.a,{position:"top",order:0,border:"always",zIndex:4},o.createElement(d.a,{name:"header"},o.createElement("div",{className:S({hidden:e.isSearchOpen})},this._renderIcon(),this._renderItems(),this._renderClose(),this._renderSearch())))},t}(o.Component);t.a=w(N)},96:function(e,t,n){"use strict";var r=n(10),o=n(6),a=(n(245),n(4)),i=n(7),s=n(9),c=n(15),l=n(11),u=n(8),d=n(43),p=Object(i.a)("action-button-view"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){var n=t.props;n.onClick&&n.onClick(e)},t._renderAnalyticsWrap=function(e){var n=t.props;return n.analytics?a.createElement(u.a,{name:n.analytics,metrikaGoal:n.metrikaGoal,logClick:!0},e):e},t._renderHintWrap=function(e){var n=t.props;return n.hint?a.createElement(d.a,{text:n.hint,position:"bottom"},e):e},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props;return this._renderHintWrap(this._renderAnalyticsWrap(a.createElement("div",{className:p(Object(r.a)(Object(r.a)({},e.mods),{},{stretched:e.isStretched,type:e.type}))},a.createElement(c.a,{view:e.view||"secondary-blue",size:e.size||"medium",isStretched:e.isStretched,icon:e.icon?a.createElement(l.a,{url:e.icon,className:p("icon")}):null,rel:e.rel,url:e.url,target:e.target,onClick:this._onClick},e.text))))},t}(a.Component);t.a=Object(s.b)(m)},98:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(24);function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t);return n.setHours(0,0,0,0),n}}}]);