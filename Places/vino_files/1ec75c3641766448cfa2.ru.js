(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["other","dialog"],{1008:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(6),i=n(4),a=n(9),c=n(704),l=n(111),s=n(53),u=n(412),p=n(117),d={portrait:{firefox:755,chrome:705,safari:695,ie:645},landscape:{firefox:1085,chrome:1015,safari:1005,ie:975}},m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getAnalyticsNode=function(){return n._analyticsNode||(n._analyticsNode=n.props.parentAnalyticsNode.createChild("print_component").attach()),n._analyticsNode},n._onKeyDown=function(e){var t=e.keyCode,r=e.ctrlKey,o=e.metaKey;t===s.a.P&&(r||o)&&n._getAnalyticsNode().logEvent("print",{ctrlP:!0})},n._onKeyUp=function(e){e.keyCode===s.a.PRINT_SCREEN&&n.props.parentAnalyticsNode.createChild("print_screen").attach().logEvent("click")},n._onMatchMediaFired=function(e){e.matches&&n._getAnalyticsNode().logEvent("print",{matchMedia:!0})},n._onBeforePrint=function(){n._getAnalyticsNode().logEvent("print"),n.setState({styles:n._getPrintStyles(Object(l.b)())})},n._getPrintStyles=function(e){var t=window.document.querySelector(".map-container").clientHeight;return["portrait","landscape"].reduce(function(n,o){var i,a,c=function(e){return d[e][function(){var e=window.navigator.userAgent,t="string"==typeof e?e:"";if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari";if(t.includes("Firefox"))return"firefox";return"ie"}()]/window.document.documentElement.clientWidth}(o),l="portrait"===o?"print":"print and (orientation:"+o+")";return Object(r.a)(Object(r.a)({},n),{},((a={})[l]={".map-container > ymaps":(i={},i[e.cssStyles.transform]="scale("+c+")",i[e.cssStyles.transformOrigin]="0 0",i),".map-container, .panorama-player-view":{height:t*c+"px"}},a))},{})},n.state={},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Object(l.b)();this.setState({styles:this._getPrintStyles(e)}),e.has.printColorAdjust||window.document.documentElement.classList.add("no-print-color-adjust"),window.matchMedia&&window.matchMedia("print").addListener(this._onMatchMediaFired)},n.componentWillUnmount=function(){window.matchMedia&&window.matchMedia("print").removeListener(this._onMatchMediaFired)},n.render=function(){var e=this.state.styles;return i.createElement(i.Fragment,null,e?i.createElement(c.a,{styles:e}):null,i.createElement(p.a,{type:"beforeprint",listener:this._onBeforePrint}),i.createElement(p.a,{type:"keydown",listener:this._onKeyDown}),i.createElement(p.a,{type:"keyup",listener:this._onKeyUp}))},t}(i.Component);m.displayName="PrintComponent",t.default=Object(u.b)(Object(a.b)(m))},1171:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(12),i=n(23),a=n(6),c=(n(1416),n(8)),l=n(7),s=n(18),u=n(40),p=n(15),d=n(9),m=n(48),f=n(414),h=n(22),_=n(114),y=n(69),E=Object(l.a)("clear-history-dialog"),g=4e3,C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._target=r.createRef(),n._hidePopupTimeout=0,n._onDialogClose=function(){n.props.onClose(),n.setState({isErrorPopupShown:!1})},n._onClearUserHistory=function(){var e=n.props;n._clearHistoryAction=s.a.create(f.a.clearPersonalData(e.config,e.timeContext).then(function(){return Promise.all([_.a(e.config),y.V.deleteRecords(e.config),y.W.deleteRecords(e.config)])}),{success:function(){n._onDialogClose(),e.showPopup(),n._hidePopupTimeout=window.setTimeout(e.hidePopup,g)},fail:function(){n.setState({isErrorPopupShown:!0}),n._hidePopupTimeout=window.setTimeout(function(){n.setState({isErrorPopupShown:!1})},g)}})},n._renderHistoryClearErrorHint=function(){return r.createElement(h.a,{isShown:n.state.isErrorPopupShown,position:"top",type:"help",onScroll:"close",getTarget:function(){return n._target.current||null}},r.createElement("div",{className:E("history-clear-error-hint")},"При очистке истории произошла ошибка"))},n.state={isErrorPopupShown:!1},n}Object(a.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){window.clearTimeout(this._hidePopupTimeout),s.a.cancel(this._clearHistoryAction)},n.render=function(){var e=this.props,t=e.isOpen,n=e.onClose;return r.createElement(r.Fragment,null,r.createElement(u.default,{isOpen:t,onClose:this._onDialogClose,showCloseButton:!0},r.createElement("div",{className:E()},r.createElement("div",{className:E("title")},"Очистить историю поиска и маршрутов"),r.createElement("div",{className:E("text")},"История поиска и построенных маршрутов помогает подсказывать места, когда вы что-то ищете. Если очистить историю, подсказки в Картах, Навигаторе и Транспорте станут менее точными."),r.createElement("div",{className:E("buttons-container")},r.createElement(c.a,{name:"clear_history_dialog_button",nodeState:{type:"user"},logClick:!0},r.createElement("div",{className:E("button",{type:"clear-history"})},r.createElement(p.a,{ref:this._target,view:"primary",size:"small",onClick:this._onClearUserHistory},"Очистить"))),r.createElement(c.a,{name:"cancel_history_dialog_button",nodeState:{type:"user"},logClick:!0},r.createElement("div",{className:E("button",{type:"cancel-clear-history"})},r.createElement(p.a,{view:"secondary-blue",size:"small",onClick:n},"Отменить")))))),this._renderHistoryClearErrorHint())},t}(r.Component),v=Object(m.b)(Object(d.b)(C)),w={closeClearHistoryDialog:i.a.closeClearHistoryDialog,showClearHistoryPopup:i.a.showClearHistorySuccessPopup,hideClearHistoryPopup:i.a.hideClearHistorySuccessPopup},S=o.b(function(e){return{clearHistoryDialogOpened:e.clearHistoryDialogOpened}},w);t.default=S(function(e){var t=e.clearHistoryDialogOpened,n=e.closeClearHistoryDialog,o=e.showClearHistoryPopup,i=e.hideClearHistoryPopup;return r.createElement(v,{isOpen:Boolean(t),onClose:n,showPopup:o,hidePopup:i})})},1416:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(56),n(4)),i=n(7),a=n(28),c=n(80),l=n(9),s=n(53),u=n(31),p=n(52),d=n(8),m=Object(i.a)("dialog"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._container=o.createRef(),t._ref=o.createRef(),t._focusContainer=function(){if(t._container.current&&(!window.document.activeElement||!t._container.current.contains(window.document.activeElement))){var e=t._ref.current.scrollTop;t._container.current.focus(),t._ref.current.scrollTop=e}},t._onClose=function(){t.props.onClose()},t._onMouseDown=function(e){var n=e.currentTarget,r=!!(n.scrollHeight>n.offsetHeight)&&n.offsetWidth===n.clientWidth?15:0;e.target===e.currentTarget&&e.clientX+r<e.currentTarget.clientWidth&&t._onClose()},t._onScroll=function(){var e=t._ref.current,n=e.clientHeight+e.scrollTop>=e.scrollHeight;t.props.onScrollToEnd&&n&&t.props.onScrollToEnd()},t._renderClose=function(){if(!t.props.showCloseButton)return null;var e=Boolean(!1);return o.createElement(d.a,{name:"close",useParentState:!0,logClick:!0},o.createElement(u.a,{onClick:t._onClose,offset:e?"small":"large",circle:!0,usePortal:!1}))},t._renderContainer=function(){var e=t.props,n=Boolean(!1);return o.createElement("div",{className:m("container"),ref:t._container,tabIndex:1},o.createElement(c.a,{handlers:{key:s.a.ESC,callback:t._onClose,allowInEditable:!0},stopPropagation:!0}),o.createElement("div",{className:m("content",{"with-title":n})},n?o.createElement(a.a,{selector:".body"},o.createElement("div",{className:m("title")},e.mobileTitle)):null,t._renderClose(),e.children))},t._renderDialog=function(){var e=t.props;return o.createElement(d.a,{name:"dialog",useParentState:!0,logClick:!0},o.createElement(o.Fragment,null,o.createElement("div",{className:m({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:t._ref,onMouseDown:t._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:t.props.onScrollToEnd?t._onScroll:void 0},t._renderContainer()),o.createElement("div",{className:m("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0})))},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?o.createElement(p.a,null,t):o.createElement(a.a,{selector:".body"},o.createElement(p.a,null,t))},t}(o.Component);t.default=Object(l.b)(f)},56:function(e,t,n){},704:function(e,t,n){"use strict";var r=n(4);t.a=function(e){var t=e.styles,n=Object.keys(t);if(0===n.length)return null;var o="";return n.forEach(function(e){var n=t[e];o+="@media "+e+" {",Object.keys(n).forEach(function(e){var t=n[e];o+=e+" {",Object.keys(t).forEach(function(e){o+=e+": "+t[e]+";"}),o+="}"}),o+="}"}),r.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:o}})}}}]);