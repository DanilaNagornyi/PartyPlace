(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["base"],{10:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return i})},100:function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1e3:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("actual").then(n.bind(null,2522))},{open:!0})},1001:function(e,t,n){},1002:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(9),a=n(273),s=n(337),c=n(165),u=a.a.getLogger("metrika"),l=!0,d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._duplicated=!1,t._initialize=function(){var e=t.props;c.a.removeCallback(t._initialize);try{var n=c.a.get(e.counter);if(n)u("["+e.counter+"] Counter already exist"),t._duplicated=!0,t._counter=n,t._onInited();else{var r=void 0===e.orgId,o={clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:Boolean(e.webvisor),tns:e.config.tnsCounter?e.tns||{account:"yandex_ru",tmsec:"yandex_maps"}:void 0};t._counter=c.a.add(e.counter,e.orgId,r?o:{},e.goals,{callback:t._onInited})}}catch(i){0}},t._appendMetrikaScript=function(){var e=t.props.config.uatraits.isTurboApp?"tag_turboapp.js":"watch.js",n=window.document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://mc.yandex.ru/metrika/"+e,n.crossOrigin="anonymous";var r=window.document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),u("Script is appended to DOM")},t._onInited=function(){var e=t.props;if(t._counter){if(u("["+e.counter+"] Counter successfully inited"),e.onReady&&e.onReady(t._counter),e.experiments)try{var n;null===(n=t._counter)||void 0===n||n.counter.experiments(e.experiments)}catch(r){Object(s.b)(r,{config:e.config,prefix:"[Metrika] An error occurred while trying to send experiments"})}e.config.query.reach_goal&&c.a.reachGoalByCounter(t._counter,e.config.query.reach_goal,e.config.query.reach_goal_params)}},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;e.config.query["no-counters"]||(c.a.setTurboOn(Boolean(e.config.uatraits.isTurboApp)),l&&(this._appendMetrikaScript(),l=!1),c.a.isConstructorExist()?this._initialize():c.a.addCallback(this._initialize))},n.componentWillUnmount=function(){this._duplicated||c.a.remove(this.props.counter)},n.render=function(){return null},t}(o.PureComponent);t.a=Object(i.b)(d)},1003:function(e,t,n){"use strict";var r=n(108),o=n(452),i={ERROR_TYPES:["","permission_denied","position_unavailable","timeout"],getCurrentPosition:function(e,t,n){var r,s;return void 0===n&&(n=6e4),"denied"===(null===(r=t.query.mocks)||void 0===r?void 0:r.geolocation)?Promise.reject({code:1}):"unavailable"===(null===(s=t.query.mocks)||void 0===s?void 0:s.geolocation)?Promise.reject({code:2}):(e.logEvent("geolocation_request"),function(e){var t,n,r=null===(t=window.yandex)||void 0===t?void 0:null===(n=t.mapsApp)||void 0===n?void 0:n.getCurrentUserLocation;if(r)return Promise.race([r().then(function(e){return"string"==typeof e?JSON.parse(e):e}),o.a(e)]);return new Promise(function(t,n){return window.navigator.geolocation.getCurrentPosition(t,n,{enableHighAccuracy:!0,timeout:e})})}(n).then(function(n){var r,o,i=n.coords;e.logEvent("geolocation_success",{accuracy:i.accuracy});var s=c(null===(r=t.query.mocks)||void 0===r?void 0:r.geolocation),u=s?{accuracy:null!==(o=s.accuracy)&&void 0!==o?o:i.accuracy,latitude:s.latitude,longitude:s.longitude,altitude:null,altitudeAccuracy:null,heading:null,speed:null}:i;return a(u,t),u}).catch(function(t){throw e.logEvent("geolocation_fail",{type:i.ERROR_TYPES[t.code]}),t}))},watchPosition:function(e,t,n,r){var o,s;if(void 0===r&&(r=6e4),"denied"===(null===(o=n.query.mocks)||void 0===o?void 0:o.geolocation))return e.onError("permission_denied"),0;if("unavailable"===(null===(s=n.query.mocks)||void 0===s?void 0:s.geolocation))return e.onError("position_unavailable"),0;t.logEvent("geolocation_watch_request");var u=!1;return window.navigator.geolocation.watchPosition(function(r){var o,i;u||(t.logEvent("geolocation_watch_success",{accuracy:r.coords.accuracy}),u=!0);var s=c(null===(o=n.query.mocks)||void 0===o?void 0:o.geolocation),l=s?{accuracy:null!==(i=s.accuracy)&&void 0!==i?i:r.coords.accuracy,latitude:s.latitude,longitude:s.longitude,altitude:null,altitudeAccuracy:null,heading:null,speed:null}:r.coords;a(l,n),e.onSuccess(l)},function(n){var r=i.ERROR_TYPES[n.code];u||(t.logEvent("geolocation_watch_fail",{type:r}),u=!0),e.onError(r)},{enableHighAccuracy:!0,timeout:r})},clearWatch:function(e){window.navigator.geolocation.clearWatch(e)},checkPermission:function(){return window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(function(e){return e.state}):Promise.resolve(void 0)}};function a(e,t){e&&(e.accuracy>5e3||((new window.Image).src=t.morda.url+"/gpsave?"+r.stringify({sk:t.xscriptCsrfToken,lat:e.latitude,lon:e.longitude,precision:e.accuracy})))}var s=/^\d+\.?(\d+)?,\d+\.?(\d+)?(,\d+)?$/;function c(e){if(s.test(e)){var t=e.split(",").map(Number);return{latitude:t[0],longitude:t[1],accuracy:t[2]}}}t.a=i},101:function(e,t,n){"use strict";var r=n(6),o=(n(1379),n(1381),n(1383),n(8)),i=n(4),a=n(7),s=n(110),c=Object(a.a)("input"),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._selectOnFocusTimeout=null,n._input=null,n._isInternalClick=!1,n._onChange=function(e){var t=e.target.value;n._isInternalClick=!1,n.props.maxLength&&"number"===n.props.type&&t.length>n.props.maxLength||n.props.onChange(t,void 0,e)},n._onClick=function(e){n._input.focus(),n.props.onClick&&n.props.onClick(e),n._isInternalClick=!1},n._onMouseDown=function(){n._isInternalClick=!0},n._onTouchEnd=function(){n._isInternalClick=!1},n._onMouseOut=function(){n._isInternalClick=!1},n._onContextMenu=function(){n._isInternalClick=!1},n._onClearClick=function(){n.props.onChange("",{reason:"clear"})},n._onFocus=function(e){var t=n.props;t.selectOnFocus&&(n._selectOnFocusTimeout&&window.clearTimeout(n._selectOnFocusTimeout),n._selectOnFocusTimeout=window.setTimeout(n._selectInput,0)),t.onFocus&&t.onFocus(e),n.setState({focused:!0})},n._onBlur=function(e){if(n._isInternalClick)n._input&&n._input.focus();else{n._selectOnFocusTimeout&&(window.clearTimeout(n._selectOnFocusTimeout),n._selectOnFocusTimeout=null);var t=n.props;t.onBlur&&t.onBlur(e),n.setState({focused:!1})}},n._selectInput=function(){n._input.select()},n._ref=function(e){n._input=e,n.props.fieldRef&&n.props.fieldRef(e)},n._renderIcons=function(e,t){return t&&0!==t.length?i.createElement("span",{className:c("icons-"+e)},t.map(function(e,t){var n=e&&"object"==typeof e&&"key"in e&&e.key?e.key:t;return i.createElement("span",{key:n,className:c("icon")},e)})):null},n._renderLeftIcons=function(){return n._renderIcons("left",n.props.leftIcons)},n._renderRightIcons=function(){var e=n.props,t=[].concat(e.rightIcons||[]);if(e.showClear&&("always"===e.showClear||"hover"===e.showClear||""!==e.value)){var r=i.createElement(o.a,{name:"clear",logClick:!0},i.createElement("div",{key:"clear",className:c("clear"),onClick:n._onClearClick}));t.push(r)}return n._renderIcons("right",t)},n.state={focused:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._selectOnFocusTimeout&&window.clearTimeout(this._selectOnFocusTimeout)},n.render=function(){var e=this.props,t={disabled:e.disabled,invalid:e.invalid,focused:this.state.focused,empty:!e.value,"hover-clear":"hover"===e.showClear,stick:e.stick,view:e.view,"pin-left":e.pinLeft,"pin-right":e.pinRight,"pin-top":e.pinTop,"pin-bottom":e.pinBottom,collapsed:e.collapsed};return i.createElement("span",{className:c(t),onClick:this._onClick,onMouseDown:this._onMouseDown,onMouseOut:this._onMouseOut,onTouchEnd:this._onTouchEnd,ref:e.forwardedRef},this._renderLeftIcons(),i.createElement("span",{className:c("context")},i.createElement("input",{ref:this._ref,className:c("control"),id:e.id,type:e.type||"text",inputMode:e.inputMode,name:e.name,value:e.value,tabIndex:e.tabIndex,disabled:e.disabled,maxLength:e.maxLength,placeholder:e.placeholder,autoComplete:e.autoComplete?"on":"disable",autoCorrect:"off",autoFocus:e.autoFocus,pattern:e.pattern,onKeyDown:e.onKeyDown,onChange:this._onChange,onFocus:this._onFocus,onBlur:this._onBlur,onContextMenu:this._onContextMenu,onCopy:e.onCopy,onPaste:e.onPaste})),this._renderRightIcons())},t}(i.Component);t.a=Object(s.a)(u)},1018:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),o=Object(r.a)("mapFeatureGroup",{}),i=o.connect,a=o.Provider;t.b=i},1037:function(e,t,n){"use strict";function r(e){if(0===e.length)return[];for(var t=[e[0]],n=0,r=e[0],o=1;o<e.length;o++){var i=e[o],a=i[0]+n-r[0];if(a>360||a<-360){var s=360*Math.floor(a/360);n-=s,a-=s}a>180?n-=360:a<-180&&(n+=360);var c=[i[0]+n,i[1]];t.push(c),r=c}return t}n.d(t,"a",function(){return r})},1050:function(e,t,n){e.exports=n.p+"_/d381b7f525c33d5f672e2de9acbfd9d7.svg"},1058:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),o=Object(r.a)("sidebar",{effectiveWidth:"narrow"}),i=o.connect,a=o.Provider;t.b=i},1069:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(193),a=n(252),s=n(1236),c=n(2797),u=n(450),l=n(2792),d=n(142),f=n(1037),p=(i.j,Math.PI,function(e){function t(t){var n;return(n=e.call(this,t)||this)._getGeometry=function(){var e=n.props;e.radius;for(var t=Object(a.a)(e.center,2),r=Object(s.a)(e.center,[-1,0],e.radius).endPoint,o=Object(c.a)(Object(a.a)(r,2),t),i=[],l=0;l<=2*Math.PI;l+=Math.PI/40){var d=[t[0]+Math.cos(l)*o,t[1]+Math.sin(l)*o];i.push(Object(u.a)(d,2))}return{type:"Polygon",coordinates:[Object(f.a)(i)]}},n.state={geometry:n._getGeometry()},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props;Object(l.a)(t.center,e.center)&&t.radius===e.radius||this.setState({geometry:this._getGeometry()})},n.render=function(){return o.createElement(d.a,{geometry:this.state.geometry,drawingStyle:this.props.drawingStyle})},t}(o.PureComponent));t.a=p},108:function(e,t,n){"use strict";var r=n(1207),o=n(1208),i=n(965);e.exports={formats:i,parse:o,stringify:r}},109:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("masstransit").then(n.bind(null,1402))},{fetchStopInfo:!0,fetchLineInfo:!0,setActiveThread:!0,setActiveVehicle:!0,showLayer:!0,hideLayer:!0,toggleLayer:!0,updateLayer:!0,loadVehicles:!0,loadLayerRegions:!0,resetStackAndShowHomePanel:!0,resetStackAndShowTransportList:!0,setTransportListMode:!0,resetVehiclesInfo:!0,updateStopInfo:!0,toggleFilterLayer:!0,setHighlightedVehicleId:!0,zoomToVehiclePlacemarkAndStop:!0,updateVehiclePredictionInfo:!0,deleteEmergencyNotifications:!0,changeStopPanelTab:!0,changeLinePanelTab:!0,fetchStopTimetable:!0,updateTimetableSettings:!0,showStopSelector:!0})},11:function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(4),a=n(7),s=n(128),c=n(18),u=n(110),l={},d={},f=Object(a.a)("inline-image"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._load=function(){c.a.cancel(n._loadAction);var e=n.props.url;d[e]||(d[e]=Object(s.a)({url:e,parser:"string"}),d[e].then(function(t){return l[e]=t},function(){return delete d[e]})),n._loadAction=c.a.create(d[e],{success:function(){return n.setState({loaded:!0})}})},n.state={loaded:Boolean(l[n.props.url])},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.loaded||this._load()},n.componentDidUpdate=function(e){if(this.props.url!==e.url){c.a.cancel(this._loadAction);var t=Boolean(l[this.props.url]);this.setState({loaded:t}),t||this._load()}},n.componentWillUnmount=function(){c.a.cancel(this._loadAction)},n.render=function(){var e=this.props;return i.createElement("span",{key:this.state.loaded?0:1,style:Object(r.a)(Object(r.a)({},e.style),{},{fontSize:0,lineHeight:0}),className:f({loaded:this.state.loaded})+(e.className?" "+e.className:""),onClick:e.onClick,dangerouslySetInnerHTML:{__html:l[e.url]||""},ref:e.forwardedRef})},t}(i.PureComponent);t.a=Object(u.a)(p)},110:function(e,t,n){"use strict";var r=n(13),o=n(4);t.a=function(e){var t=function(t,n){return o.createElement(e,Object(r.a)({},t,{forwardedRef:n||void 0}),t.children)};return o.forwardRef(t)}},111:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(2799),o=n(979),i=function(e){var t,n;return{events:{transitionEnd:"transitionend",animationEnd:"animationend"},styles:{transform:"transform",transition:"transition",userSelect:"userSelect"},cssStyles:{transform:"transform",transformOrigin:"transform-origin"},has:{touch:Boolean(e.uatraits.isMobile),retinaDisplay:(null!==(t=null===(n=Object(o.a)(e))||void 0===n?void 0:n.display.devicePixelRatio)&&void 0!==t?t:1)>1,printColorAdjust:!0,snapAlign:!0,objectFit:!0}}},a=function(){return{events:{transitionEnd:s("transition"),animationEnd:s("animation")},styles:{transform:u("transform"),transition:u("transition"),userSelect:u("user-select")},cssStyles:{transform:c("transform"),transformOrigin:c("transform-origin")},has:{touch:"ontouchstart"in window||Boolean(window.navigator.maxTouchPoints),retinaDisplay:window.devicePixelRatio>1,printColorAdjust:null!==l("printColorAdjust"),snapAlign:null!==l("scrollSnapAlign"),objectFit:null!==l("objectFit")}}};function s(e){var t=l(e);return t?t+Object(r.a)(e)+"End":null!==t?e+"end":null}function c(e){var t=l(e);return t?"-"+t+"-"+e:null!==t?e:null}function u(e){var t=l(e);return t?t+d(e):null!==t?e:null}function l(e){var t=window.document.createElement("div");return void 0!==t.style[e]?"":void 0!==t.style["webkit"+d(e)]?"webkit":void 0!==t.style["Moz"+d(e)]?"Moz":void 0!==t.style["ms"+d(e)]?"ms":null}function d(e){return e.split("-").map(function(e){return Object(r.a)(e)}).join("")}},1135:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n(10),i=n(2721),a=n.n(i),s=n(2723),c=n.n(s),u=n(4),l=n.n(u),d=n(12),f=n(7),p=n(20),v=n(23),m=n(17),h=n(9),g=n(319),y=n(1003),b=n(8),_=n(15),w=n(43),E=n(39),O=n(18),S=n(2725),j=n(2728),k=n(2729),C=n.n(k),T=Object(p.a)({resolved:{},chunkName:function(){return"geolocation"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("geolocation").then(n.bind(null,640))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 640}},{ssr:!1}),I={startGeolocation:v.a.startGeolocation,stopGeolocation:v.a.stopGeolocation,setCurrentPosition:v.a.setCurrentPosition,setMapLocation:v.a.setMapLocation,setFollowingPin:v.a.setFollowingPin},R=Object(m.a)(d.b(function(e){return Object(o.a)({zoom:e.map.location.zoom,center:e.map.location.center},e.geolocation)},I),h.b,g.b),x=Object(f.a)("map-geolocation-control"),M=16,P=function(e){function t(t){var n;return(n=e.call(this,t)||this)._watchPositionId=0,n._createGetPositionAction=function(){var e=n.props;n._getPositionAction=O.a.create(y.a.getCurrentPosition(e.rootNode,e.config),{success:n._onGeolocationSuccess,fail:function(e){return n.setState({errorType:y.a.ERROR_TYPES[e.code]})},always:function(){return e.stopGeolocation()}})},n._startWatchGeolocation=function(){var e=n.props;n.state.isWatching||n.setState({isWatching:!0}),n._watchPositionId=y.a.watchPosition({onSuccess:n._onWatchGeolocationSuccess,onError:function(e){n.setState({errorType:e,isWatching:!1}),n._stopWatchGeolocation()}},e.rootNode,e.config,3e3)},n._onGeolocationSuccess=function(e){if(e){var t=[e.longitude,e.latitude];n.props.setCurrentPosition(t,e.accuracy),n._applyPosition(t,e.accuracy)}},n._onWatchGeolocationSuccess=function(e){if(e){var t=[e.longitude,e.latitude];n.props.setCurrentPosition(t,e.accuracy)}},n._stopWatchGeolocation=function(){y.a.clearWatch(n._watchPositionId),n._watchPositionId=0},n._applyPosition=function(e,t){var r,o=n.props;o.isAuto||n._zoomingTimer||(o.config.pharmacy?r=13:t<200&&o.zoom<M&&!o.config.pharmacy&&(r=M,n._zoomingTimer=window.setTimeout(function(){return n._zoomingTimer=void 0},1e3)),o.setMapLocation({center:e,zoom:r,duration:350}))},n._onErrorCloseClick=function(){n.setState({errorType:null})},n._onClick=function(e){e.preventDefault(),n.props.startGeolocation()},n._renderError=function(){var e=n.state.errorType,t=Boolean(e&&!n.props.isAuto);return t?u.createElement(T,{isShown:t,type:e,onClose:n._onErrorCloseClick}):null},n._renderPlacemark=function(){var e=n.props;return e.currentPosition&&void 0!==e.accuracy?u.createElement(S.a,{currentPosition:e.currentPosition,accuracy:e.accuracy}):null},n._renderIcon=function(){return n.props.isStarted?u.createElement("div",{className:x("spinner")},u.createElement(E.a,{view:"small",withoutMargin:!0})):u.createElement("div",{className:x("icon"),dangerouslySetInnerHTML:{__html:j.a}})},n.state={errorType:null,isWatching:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props.config;this.props.isStarted?this._createGetPositionAction():this._checkPermissionAction=O.a.create(y.a.checkPermission(),{success:function(n){"granted"===n&&e.props.startGeolocation({isAuto:!0}),!t.experiments.ui.desktopGeolocation||"prompt"!==n&&void 0!==n||e.props.startGeolocation({isAuto:!0})}})},n.componentDidUpdate=function(e){!e.isStarted&&this.props.isStarted&&(O.a.cancel(this._getPositionAction),this._createGetPositionAction())},n.componentWillUnmount=function(){O.a.cancel(this._getPositionAction),O.a.cancel(this._checkPermissionAction),this._stopWatchGeolocation(),window.clearTimeout(this._zoomingTimer),this._zoomingTimer=void 0},n.render=function(){var e=this.props,t=this.state;return u.createElement(u.Fragment,null,e.hideControl?null:u.createElement("div",{className:x()},u.createElement(w.a,{text:"Моё местоположение",position:"left",isAir:!0},u.createElement(b.a,{name:"geolocation",logClick:!0},u.createElement(_.a,{view:"air",size:"medium",icon:this._renderIcon(),onClick:this._onClick,disabled:e.isStarted,checked:t.isWatching})))),this._renderPlacemark(),this._renderError())},t}(u.Component);t.default=R(P)},1136:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.385 12.42l16.01-7.614a.6.6 0 0 1 .8.8l-7.616 16.009a.6.6 0 0 1-1.11-.068l-2.005-6.011-6.01-2.004a.6.6 0 0 1-.069-1.111z" fill="currentColor"/></svg>'},114:function(e,t,n){"use strict";var r=n(2792),o=n(49),i=n(182),a=n(452);n.d(t,"f",function(){return v}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return y}),n.d(t,"g",function(){return b}),n.d(t,"i",function(){return _}),n.d(t,"h",function(){return w}),n.d(t,"j",function(){return l}),n.d(t,"n",function(){return E}),n.d(t,"m",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"l",function(){return j}),n.d(t,"k",function(){return k});var s,c={"ymapsbm1://pin":"pin","ymapsbm1://geo":"toponym","ymapsbm1://org":"business"},u=500;function l(e,t){return{home:"Дом",work:"Работа"}[e]}var d=function(e){return s||(s=i.a.getLib(e).then(function(e){return e.getSearchHistoryManager()})),s};function f(e,t){return"children"in t?t.children.map(function(t){return f(e,t)}).find(Boolean)||null:e(t)?t:null}function p(e,t){return"children"in t?e(t)?t:t.children.find(function(t){return"children"in t&&Boolean(p(e,t))})||null:null}function v(e,t){return p(function(t){return t.id===e},t)}function m(e,t){return f(function(t){return t.id===e},t)}function h(e,t){return f(function(t){return t.uri===e},t)}function g(e,t){return h(o.g(e),t)||function(e,t){return f(function(t){var n=o.e(t.uri);return o.k(t.uri)&&null!==n&&Object(r.a)(n,e.coordinates)},t)}({coordinates:e.displayCoordinates},t)}function y(e,t){return p(function(t){return t.children.some(function(t){return e===t.id})},t)}function b(e){return"children"in e?e.children.reduce(function(e,t){return e.concat(b(t))},[]):[e]}function _(e,t){return e.children.reduce(function(e,n){var r;return(null===(r=n.tags)||void 0===r?void 0:r.includes(t))?e.concat(b(n)):e},[])}function w(e){var t=e.uri,n=Object.keys(c).find(function(e){return t.includes(e)});return n?c[n]:"unknown"}function E(e,t){var n=e.text.trim();t.authorization&&n&&d(t).then(function(t){t.addRecord({text:n,uri:e&&e.uri})}).catch(function(){})}function O(e){return e.authorization?Promise.race([d(e).then(function(e){return e.getRecords()}),a.a(u)]).catch(function(){return[]}):Promise.resolve([])}function S(e){return e.authorization?d(e).then(function(e){return e.deleteRecords()}):Promise.reject()}function j(e){return"coords"in e}function k(e,t){return e.id===i.a.FAVORITES_FOLDER_ID?"Избранное":e.title}},1143:function(e,t,n){"use strict";n.r(t);var r=function(){var e=1,t=new WeakMap,n=function(r,o){return"number"==typeof r||"string"==typeof r?o?"idx-"+o:"val-"+r:t.has(r)?"uid"+t.get(r):(t.set(r,e++),n(r))};return n},o=r(),i=n(4),a=function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:r()}},s=a(),c=i.createContext(a()),u=function(e){return e.value++},l=function(e){return e?e.prefix:""},d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var f=function(e,t,n){var r=t+e;return String(n?n(r):r)},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={quartz:t.props.idSource||s,prefix:l(t.props.idSource),id:u(t.props.idSource||s)},t.uid=function(e){return f(t.state.id+"-"+t.state.quartz.uid(e),t.state.prefix,t.props.name)},t}return function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=this.state,o=r.id,i=r.prefix;return t(f(o,i,n),this.uid)},t}(i.Component),v=function(e){var t=e.children,n=e.prefix,r=void 0===n?"":n;return i.createElement(c.Provider,{value:a(r)},t)},m=function(e){var t=e.children,n=e.prefix,r=void 0===n?"":n;return i.createElement(h,null,function(e){return i.createElement(c.Provider,{value:a(e+"-"+r)},t)})},h=function(e){var t=e.name,n=e.children;return i.createElement(c.Consumer,null,function(e){return i.createElement(p,{name:t,idSource:e,children:n})})},g=function(){return i.useState((e=i.useContext(c),{uid:n=l(t=e||s)+u(t),gen:function(e){return n+t.uid(e)}}));var e,t,n},y=function(){return g()[0].uid},b=function(){return g()[0].gen};n.d(t,"generateUID",function(){return r}),n.d(t,"uid",function(){return o}),n.d(t,"UID",function(){return p}),n.d(t,"UIDConsumer",function(){return h}),n.d(t,"UIDReset",function(){return v}),n.d(t,"UIDFork",function(){return m}),n.d(t,"useUID",function(){return y}),n.d(t,"useUIDSeed",function(){return b})},1146:function(e,t,n){"use strict";var r=n(4),o=n.n(r);function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n(1243),u=n.n(c);function l(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function d(e){console.warn("loadable: "+e)}n.d(t,"b",function(){return j});var f=o.a.createContext(),p="__LOADABLE_REQUIRED_CHUNKS__";function v(e){return""+e+p}var m=function(e){return function(t){return o.a.createElement(f.Consumer,null,function(n){return o.a.createElement(e,Object.assign({__chunkExtractor:n},t))})}},h=function(e){return e};function g(e){var t=e.resolve,n=void 0===t?h:t,r=e.render,c=e.onLoad;function u(e,t){void 0===t&&(t={});var u=function(e){return"function"==typeof e?{requireAsync:e}:e}(e),d={};function f(e){return t.cacheKey?t.cacheKey(e):u.resolve?u.resolve(e):null}var p=function(e){var o,p;function v(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:f(n)},r.promise=null,l(!n.__chunkExtractor||u.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?!1===t.ssr?s(r):(u.requireAsync(n).catch(function(){}),r.loadSync(),n.__chunkExtractor.addChunk(u.chunkName(n)),s(r)):(!1!==t.ssr&&u.isReady&&u.isReady(n)&&r.loadSync(),r)}p=e,(o=v).prototype=Object.create(p.prototype),o.prototype.constructor=o,o.__proto__=p,v.getDerivedStateFromProps=function(e,t){var n=f(e);return a({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var m=v.prototype;return m.componentDidMount=function(){this.mounted=!0,this.state.loading?this.loadAsync():this.state.error||this.triggerOnLoad()},m.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&(this.promise=null,this.loadAsync())},m.componentWillUnmount=function(){this.mounted=!1},m.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},m.triggerOnLoad=function(){var e=this;c&&setTimeout(function(){c(e.state.result,e.props)})},m.loadSync=function(){if(this.state.loading)try{var e=u.requireSync(this.props),t=n(e,{Loadable:h});this.state.result=t,this.state.loading=!1}catch(r){this.state.error=r}},m.getCacheKey=function(){return f(this.props)||JSON.stringify(this.props)},m.getCache=function(){return d[this.getCacheKey()]},m.setCache=function(e){d[this.getCacheKey()]=e},m.loadAsync=function(){var e=this;if(!this.promise){var r=this.props,o=(r.__chunkExtractor,r.forwardedRef,i(r,["__chunkExtractor","forwardedRef"]));this.promise=u.requireAsync(o).then(function(r){var o=n(r,{Loadable:h});t.suspense&&e.setCache(o),e.safeSetState({result:n(r,{Loadable:h}),loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){e.safeSetState({error:t,loading:!1})})}return this.promise},m.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,s=(e.__chunkExtractor,i(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,u=c.error,l=c.loading,d=c.result;if(t.suspense){var f=this.getCache();if(!f)throw this.loadAsync();return r({loading:!1,fallback:null,result:f,options:t,props:a({},s,{ref:n})})}if(u)throw u;var p=o||t.fallback||null;return l?p:r({loading:l,fallback:p,result:d,options:t,props:a({},s,{ref:n})})},v}(o.a.Component),v=m(p),h=o.a.forwardRef(function(e,t){return o.a.createElement(v,Object.assign({forwardedRef:t},e))});return h.preload=function(e){u.requireAsync(e)},h.load=function(e){return u.requireAsync(e)},h}return{loadable:u,lazy:function(e,t){return u(e,a({},t,{suspense:!0}))}}}var y=g({resolve:function(e,t){var n=t.Loadable,r=e.__esModule?e.default:e.default||e;return u()(n,r,{preload:!0}),r},render:function(e){var t=e.result,n=e.props;return o.a.createElement(t,n)}}),b=y.loadable,_=y.lazy,w=g({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.loading,r=e.props;return!n&&r.children?r.children(t):null}}),E=w.loadable,O=w.lazy,S="undefined"!=typeof window;function j(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,r=void 0===n?"":n;if(!S)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(S){var i=document.getElementById(v(r));i&&(o=JSON.parse(i.textContent))}if(!o)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var a=!1;return new Promise(function(t){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var n=window.__LOADABLE_LOADED_CHUNKS__,r=n.push.bind(n);function i(){o.every(function(e){return n.some(function(t){return t[0].indexOf(e)>-1})})&&(a||(a=!0,t(),e()))}n.push=function(){r.apply(void 0,arguments),i()},i()})}var k=b;k.lib=E,_.lib=O;t.a=k},1147:function(e,t,n){"use strict";var r=n(10),o=n(1159),i=n(2793),a=n(962),s=n(963),c=new(function(){function e(){this._queue=[],this.index=0}var t=e.prototype;return t.set=function(e,t){this.index=e,this._queue[e]=t},t.get=function(e){return void 0===e&&(e=this.index),this._queue[e]||[]},e}()),u=Date.now(),l="undefined"==typeof window;var d=n(21);var f=function(e){return function(t){return function(n){return function(r){return"function"==typeof r?r(t.dispatch,t.getState,e):n(r)}}}};n(273).a.getLogger("callstack",function(e){console.group("[callstack]"),e.forEach(function(e){console.log(e)}),console.groupEnd()});var p=n(121),v=n(109),m=n(139),h=n(91),g=n(132),y=n(115),b=n(314),_=n(218),w=n(79),E=n(451);var O=n(16),S=n(30),j=n(345),k=n(254),C=n(0),T=n(440);function I(e){return["map","new-map"].includes(e.pharmacy.pageType)||Object(T.j)(e)}function R(e){if("/profile"!==e.config.baseUrl)if(e.config.pharmacy){var t=I(e)?{format:"query"}:void 0,n=Object(w.c)(e,t),r=n.path,o=n.params,i=window.location.hash;!function(e,t,n){if(void 0===e&&(e="replace"),!l){var r={index:(window.history.state||{}).index||0,url:t,sessionId:u};"push"===e&&(r.index+=1),c.set(r.index,n),s.a(e,r,t)}}(e.locationAction,d.b(o,r,e.config)+i,e.pharmacy.stack)}else{var f=I(e)?{format:"query"}:void 0;a.b(e.locationAction,d.a(Object(w.a)(e,f),e.config),e.stack),window.document.body.classList.add("_url_controlled")}}function x(e){var t=[f({config:e})];var n,i=o.applyMiddleware.apply(o,t),a=Object(_.a)(e),s=o.createStore((n=a,function(e,t){if(!e)return n;var o,i=t.meta&&t.meta.locationAction;return function(e){return"EXTEND"===e.type}(t)&&(o=Object(r.a)(Object(r.a)(Object(r.a)({},e),t.payload),{},{locationAction:i})),function(e){return"DEEP_EXTEND"===e.type}(t)&&(o=Object(E.a)(e,Object(r.a)(Object(r.a)({},t.payload),{},{locationAction:i}))),o||e}),a,"undefined"!=typeof window?(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.compose)(i):i);return function(e){e.config.pharmacy&&"landing"!==e.pharmacy.pageType&&"undefined"!=typeof window&&R(e)}(a),s.subscribe(function(){!function(e){R(e)}(s.getState())}),s}function M(e,t){var n=O.d(e);return n===O.b(e)||n===t}function P(){return function(e,t){var n=t();[N(n),L(n),D(n),z(n),A(n),q(n),U(n),B(n),F(n),H(n),W(n)].forEach(function(t){return t&&e(t)})}}function N(e){var t,n=null===(t=e.config.authorization)||void 0===t?void 0:t.uid,r=C.a.get("bookmarks_root_folder");return{payload:{pharmacy:Object(_.b)(e.config),masstransit:{isLayerEnabled:e.masstransit.isLayerEnabled&&Boolean(C.a.get("masstransit_layer_filter_by_bookmarks_enabled")),isFilterLayerEnabled:!e.config.mocks&&Boolean(e.config.authorization)&&Boolean(C.a.get("masstransit_layer_filter_by_bookmarks_enabled"))},traffic:{infoLayerShown:e.traffic.isLayerEnabled?e.traffic.infoLayerShown:!1!==C.a.get("info_layer_shown")},closedNotifications:C.a.get("closed_emergency_notifications")||[],timeContext:{hydrationPhaseTime:null},routes:{temporaryStackData:{travelMode:C.a.get("routes_travel_mode")||void 0,cargo:C.a.get("routes_cargo")||void 0}},bookmarks:{rootFolder:n&&(null==r?void 0:r.uid)===n?r.rootFolder:null}},type:"DEEP_EXTEND"}}function A(e){if(M(e,"search")){var t=e.config.query;if(["biz","geo"].includes(t.ol)||t.where||t.text||"map"===t.pharmacy)if(O.g(e,"search").some(function(e){return!S.F(e)||e.results.commands}))return h.a.restoreFromLocation()}}function L(e){if(M(e,"search-result")){var t=O.h(e,"search-result");return t&&!t.response?p.a.openCard(t.request,{stackAction:"replace"}):void 0}}function D(e){if(!e.config.masstransitStop&&M(e,"masstransit")){var t=O.h(e,"masstransit");if(t){var n=t.line.loadingId,r=t.stops.loadingId;return r&&!n?v.a.fetchStopInfo({id:r}):void 0}}}function z(e){if(!e.config.masstransitLine&&M(e,"masstransit")){var t=O.h(e,"masstransit");if(t){var n=e.config.query,r=n.masstransit&&n.masstransit.threadId,o=t.line.loadingId;return o?v.a.fetchLineInfo({threadId:r,lineId:o,skipApplyBounds:Boolean(n.ll&&n.z)}):void 0}}}function q(e){if(e.config.query.bookmarks&&M(e,"bookmarks"))return m.a.restoreFromUrl()}function B(e){if(0!==O.g(e,"routes").length)return y.a.makeRouteInitialActions()}function F(e){if(O.h(e,"traffic")){var t=e.config.query.trfev;if(t)return b.a.loadTrafficEvent(t)}}function U(e){var t=e.config.query.photos;if(t&&!e.config.discovery){var n=Object(r.a)({selectedId:t.id,origin:"direct"},e.config.photosInformation||{skipAdvert:!1});if(!t.point)return t.post&&t.business?g.a.show(Object(r.a)(Object(r.a)({},n),{},{businessId:t.business,postId:t.post})):t.business?g.a.show(Object(r.a)(Object(r.a)({},n),{},{businessId:t.business})):g.a.show(Object(r.a)(Object(r.a)({},n),{},{id:t.oid}));var o=Object(i.a)(t.point);return o?g.a.show(Object(r.a)(Object(r.a)({},n),{},{point:o})):void 0}}function H(e){var t=e.config.query,n=t.mrc,r=t.rtext,o=t.rt;if(n&&n.id){var i=Boolean(r||o);return j.a.openPlayer(n.id,void 0,i)}}function W(e){var t;if("empty"===(null===(t=e.config.actualData)||void 0===t?void 0:t.meta.type))return k.a.open()}n.d(t,"a",function(){return x}),n.d(t,"b",function(){return P})},115:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("routes").then(n.bind(null,2747))},{open:!0,setRoutePoints:!0,changeTravelMode:!0,addPoint:!0,setPoint:!0,setGeolocationPoint:!0,processMapObjectClick:!0,removePoint:!0,resetPoints:!0,movePoint:!0,setActiveComparisonMode:!0,setActiveRouteIndex:!0,setDetailedIndex:!0,setActivePoint:!0,setRoutePointIsDragging:!0,buildRoute:!0,buildRouteFrom:!0,buildRouteTo:!0,setSkipApplyBounds:!0,setActiveField:!0,setFocused:!0,updateRoute:!0,checkPoints:!0,makeRouteInitialActions:!0,activateMasstransitLinePanel:!0,openMapForm:!0,hideMapForm:!0,updateSettings:!0,updateRoutesComparisonRoute:!0,changeMrcFeatures:!0,setActiveMrcIndex:!0,hideMrcMiniPlayer:!0,optimizeRoute:!0,setOptimizingStatus:!0,showMoreSnippets:!0,setGeolocationError:!0,updateGeolocationPoints:!0})},1155:function(e,t,n){"use strict";var r=n(10),o=n(2765),i=n(140),a=n(128),s=n(0),c=n(452),u="undefined"!=typeof window&&"file:"!==window.location.protocol&&"undefined"==typeof jest,l=1e3,d="application/x-www-form-urlencoded; charset=UTF-8",f="analytics_event_index";function p(e){var t="",n=i.a.get("fuid01",e);if(n){var r=parseInt(n.slice(0,8),16),o=parseInt(n.slice(8,16),16);t=String(o)+String(r)}return t}function v(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var m=function(){function e(e){var t=this;if(this._eventIndex=0,this._sendCurrentBatch=function(){t._sendingBatch||0===t._currentBatch.length||(t._sendingBatch=t._currentBatch,t._currentBatch=[],t._sendRequest())},this._config=e,this._currentBatch=[],this._sendingBatch=null,this._retryInfo=null,this._initialYandexUID=i.a.get("yandexuid",e),this._sendCurrentBatch=Object(o.a)(this._sendCurrentBatch,l),"undefined"!=typeof window){var n=s.a.get(f)||{};s.a.remove(f),this._eventIndex=n[e.counters.analytics.sessionId]||this._eventIndex}}var t=e.prototype;return t.log=function(e,t){u&&!this._config.query["no-counters"]&&(this._currentBatch.push(Object(r.a)(Object(r.a)({},e),{},{event_index:this._eventIndex++})),t&&t.sendImmediately?this._sendBeacon():this._sendCurrentBatch())},t._buildRequestData=function(){return[["dtype",this._config.counters.analytics.dtype],["pid",this._config.counters.analytics.pid],["session_id",this._config.counters.analytics.sessionId],["user_timestamp",Date.now()],["events",v(JSON.stringify(this._sendingBatch))],["fuid",p(this._config)],["puid",this._config.authorization&&this._config.authorization.uid],["initial_yandexuid",this._initialYandexUID],["user_agent",v(window.navigator.userAgent)],["test_buckets",this._config.pharmacy?this._config.pharmacy.experiments.boxes:this._config.experiments.boxes],["exp_config_version",this._config.pharmacy?this._config.pharmacy.experiments.configVersion:this._config.experiments.configVersion],["retry_debug",this._retryInfo&&v(JSON.stringify(this._retryInfo))]].reduce(function(e,t){return t[1]?e+"/"+t[0]+"="+t[1]:e},"")+"/*"},t._sendBeacon=function(){if(window.navigator.sendBeacon){this._sendingBatch=this._currentBatch;var e=this._buildRequestData(),t=new window.Blob([e],{type:d});window.navigator.sendBeacon(this._config.counters.analytics.url,t)}},t._sendRequest=function(){var e=this,t=this._eventIndex;Promise.race([Object(a.a)({url:this._config.counters.analytics.url,method:"POST",body:this._buildRequestData(),headers:{"Content-Type":d},credentials:"include"}),c.a(1e4)]).then(function(){var n;e._onRequestDone(),s.a.set(f,((n={})[e._config.counters.analytics.sessionId]=t,n))},function(t){return e._onRequestFail(t)})},t._onRequestDone=function(){this._retryInfo=null,this._sendingBatch=null,this._sendCurrentBatch()},t._onRequestFail=function(e){if(this._retryInfo&&this._retryInfo.tryNumber>=10)this._onRequestDone();else{var t=this._retryInfo?this._retryInfo.tryNumber+1:1;this._retryInfo={firstTryTimestamp:this._retryInfo?this._retryInfo.firstTryTimestamp:Date.now(),tryNumber:t,reason:e&&e.message},setTimeout(this._sendRequest.bind(this),3e3*t)}},e}(),h=n(141),g=n(411),y=n.n(g),b=n(273),_=n(165),w=(n(346),1),E=b.a.getLogger("analytics"),O=function(){function e(e,t,n,r,o,i,a,s,c,u,l){if(this._name=e,this._isGroup=l,!e&&!l)throw new Error("Analytics node should have a name if it is not a group");!e||/^[a-z_\d]+$/.test(e)||console.log(new Error("Invalid analytics node name: `"+e+"`.")),this._analyticsLogger=s,this._config=c,this._id=w++,this._parentNode=t,this._parentId=t?t._id:0,this._path=this._buildPath(),this._state=n,this._subtreeState=r,this._actionSubtreeState=o,this._isShown=!1,this._metrikaGoal=i,this._subtreeMetrikaGoal=a,this._ignoreDefaultEvents=u,this._children=[],t||this.show()}var t=e.prototype;return t.attach=function(e){return void 0===e&&(e=!1),this._parentNode&&this._parentNode._attachChild(this,e),this},t.detach=function(){return this._parentNode&&this._parentNode._detachChild(this),this},t.setHidden=function(e){return this._isHidden=e,e?this.hide():this.show(),this},t.show=function(){var e=!this._parentNode||this._parentNode._isVisible();if(!this._isShown&&!this._isHidden&&e){if(this._isShown=!0,this._ignoreDefaultEvents)return this;this._logEvent("show",void 0,{ignoreActionSubtreeState:!0}),this._children.forEach(function(e){return e.show()})}return this},t.hide=function(){if(this._isShown){if(this._isShown=!1,this._ignoreDefaultEvents)return this;this._children.forEach(function(e){return e.hide()}),this._logEvent("hide",void 0,{ignoreActionSubtreeState:!0})}return this},t.createChild=function(t,n,o){void 0===o&&(o={});var i=o.useParentState?Object(r.a)(Object(r.a)({},this._getState()),n):n;return o.subtreeState&&(i=Object(r.a)(Object(r.a)({},o.subtreeState),i)),o&&o.actionSubtreeState&&(i=Object(r.a)(Object(r.a)({},o.actionSubtreeState),i)),new e(t,this,i,o.subtreeState,o.actionSubtreeState,o.metrikaGoal,o.subtreeMetrikaGoal||this._subtreeMetrikaGoal,this._analyticsLogger,this._config,o.ignoreDefaultEvents,o.isGroup)},t.logEvent=function(e,t,n){if("click"===e){var r=this._metrikaGoal||this._subtreeMetrikaGoal;r&&_.a.reachGoal(r)}this._isShown&&this._logEvent(e,t,n)},t.changeState=function(e,t){void 0===t&&(t={}),this._state=Object(r.a)({},e),t.useParentState&&this._parentNode&&(this._state=Object(r.a)(Object(r.a)({},this._parentNode._getState()),this._state)),t.subtreeState&&(this._subtreeState=t.subtreeState,this._state=Object(r.a)(Object(r.a)({},t.subtreeState),this._state)),t.metrikaGoal&&(this._metrikaGoal=t.metrikaGoal),t.actionSubtreeState&&(this._actionSubtreeState=t.actionSubtreeState,this._state=Object(r.a)(Object(r.a)({},t.actionSubtreeState),this._state)),this._isShown&&this._logEvent("change_state",void 0,{ignoreActionSubtreeState:!0})},t.changeSubtreeState=function(e){this._subtreeState=e},t.changeActionSubtreeState=function(e){this._actionSubtreeState=e},t.getPath=function(){return this._path},t._isVisible=function(){return this._isShown&&(!this._parentNode||this._parentNode._isVisible())},t._buildPath=function(){return this._isGroup?this._parentNode?this._parentNode.getPath():"no_path":String(this._parentNode?this._parentNode.getPath()+"."+this._name:this._name)},t._getState=function(){return this._state},t._getSubtreeState=function(){return this._subtreeState},t._getActionSubtreeState=function(){return this._actionSubtreeState},t._logEvent=function(e,t,n){if(!this._isGroup){for(var o=n&&n.useParentState&&this._parentNode?Object(r.a)(Object(r.a)({},this._parentNode._getState()),this._state):this._state,i=t?Object(r.a)(Object(r.a)({},o),t):o,a=this._parentNode;a;)a._getSubtreeState()&&(i=Object(r.a)(Object(r.a)({},a._getSubtreeState()),i)),(!n||!n.ignoreActionSubtreeState&&a._getActionSubtreeState())&&(i=Object(r.a)(Object(r.a)({},a._getActionSubtreeState()),i)),a=a._parentNode;this._analyticsLogger.log({event_type:e,user_timestamp:Date.now(),id:this._id,parent_id:this._parentId,path:this._path,vars:i},{sendImmediately:n&&n.sendImmediately});var s=this._path+":"+e;i&&(s+="("+JSON.stringify(i)+")"),E(s)}},t._attachChild=function(e,t){void 0===t&&(t=!1),this._children.includes(e)||(this._children.push(e),e.setHidden(t))},t._detachChild=function(e){var t=this._children.indexOf(e);-1!==t&&(this._children.splice(t,1),e.hide())},e}();n.d(t,"c",function(){return j}),n.d(t,"a",function(){return k}),n.d(t,"b",function(){return C});var S=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_referrer","source","from","origin","_openstat"];function j(e,t){var n=new O(e.pharmacy?e.pharmacyStaticConfig.bebrRootNodeName:e.bebrRootNodeName,null,{},t,void 0,void 0,void 0,new m(e),e);return{rootNode:n,timingNode:n.createChild("timing").attach(),mapNode:n.createChild("map").attach()}}function k(e,t){var n=C(e,t);window.addEventListener("beforeunload",function(){n.logEvent("close",void 0,{sendImmediately:!0})}),function(e){window.navigator.permissions&&window.navigator.permissions.query({name:"geolocation"}).then(function(t){"prompt"!==t.state&&e.createChild("permissions").attach().createChild("geolocation",{state:t.state}).attach()})}(n);var r=n.createChild("timing",h.a.getNetworkTiming()).attach();!function(e){for(var t=document.querySelectorAll("head script"),n=function(n){var r=t[n].dataset.log;if(!r)return"continue";var o=h.a.getFirstFormattedTiming(function(e){return e===t[n].src});if(!o)return"continue";e.createChild(r,o).attach()},r=0;r<t.length;r++)n(r)}(r),"complete"===window.document.readyState?T(r):window.addEventListener("load",function(){return T(r)});var o=n.createChild("map",{type:e.mapType}).attach();return{rootNode:n,timingNode:r,mapNode:o}}function C(e,t){var n={region:e.userRegion.id,appSearchSession:e.appSearchSession,isTurboApp:e.uatraits.isTurboApp};return window.document.referrer&&(n.referer=window.document.referrer),window.location.hash&&e.pharmacy&&(n.hash=window.location.hash.slice(1)),Object.keys(e.query).forEach(function(t){S.includes(t)&&(n[t]=e.query[t])}),new O(e.pharmacy?e.pharmacyStaticConfig.bebrRootNodeName:e.bebrRootNodeName,null,n,t,void 0,void 0,void 0,new m(e),e)}function T(e){y()(function(){return e.createChild("window",h.a.getBrowserTiming()).attach()})}},1159:function(e,t,n){"use strict";n.r(t);var r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:Object({}));n.d(t,"__DO_NOT_USE__ActionTypes",function(){return i}),n.d(t,"applyMiddleware",function(){return h}),n.d(t,"bindActionCreators",function(){return d}),n.d(t,"combineReducers",function(){return u}),n.d(t,"compose",function(){return m}),n.d(t,"createStore",function(){return s});var o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function v(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=d.indexOf(e);d.splice(n,1)}}}function h(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=c(u,e)}finally{f=!1}for(var t=l=d,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:i.INIT}),(o={dispatch:h,subscribe:m,getState:v,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,h({type:i.REPLACE})}})[r]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[r]=function(){return this},e},o}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},i=0;i<s.length;i++){var u=s[i],l=n[u],d=e[u],f=l(d,t);if(void 0===f){var p=c(u,t);throw new Error(p)}o[u]=f,r=r||f!==d}return r?o:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=l(o,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(o)});return v({},n,{dispatch:r=m.apply(void 0,i)(n.dispatch)})}}}},116:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(119);function o(){}var i=Object(r.a)("layout",{bodyHeight:null,addLayoutListener:o,removeLayoutListener:o,updateMapViewport:o,registerStickyElement:o,isNodeWithinStickyElement:function(){return!1},unregisterStickyElement:o,updateStickyElement:o}),a=i.connect,s=i.Provider;t.b=a},1160:function(e,t,n){"use strict";var r=function(e){return e.split("")},o=n(587),i="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",c="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+a+"|"+s+")"+"?",f="[\\ufe0e\\ufe0f]?"+d+("(?:\\u200d(?:"+[c,u,l].join("|")+")[\\ufe0e\\ufe0f]?"+d+")*"),p="(?:"+[c+a+"?",a,u,l,i].join("|")+")",v=RegExp(s+"(?="+s+")|"+p+f,"g");var m=function(e){return e.match(v)||[]};t.a=function(e){return Object(o.a)(e)?m(e):r(e)}},117:function(e,t,n){"use strict";var r=n(6),o=n(4),i=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;window.addEventListener(e.type,e.listener,e.options)},n.componentWillUnmount=function(){var e=this.props;window.removeEventListener(e.type,e.listener,e.options)},n.render=function(){return null},t}(o.Component);t.a=i},1170:function(e,t,n){"use strict";var r=n(444),o=n(219),i=n(410),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!a[Object(r.a)(e)]},c=n(589),u=n(974),l=u.a&&u.a.isTypedArray,d=l?Object(c.a)(l):s;t.a=d},1174:function(e,t,n){"use strict";n(1344),n(1346);var r=n(4),o=n(7),i=n(9),a=n(15),s=n(43),c=n(8),u=n(996),l=n.n(u),d=n(997),f=n.n(d),p=(n(1348),Object(o.a)("zoom-control"));t.a=Object(i.b)(function(e){return r.createElement("div",{className:p()},r.createElement("div",{className:p("group")},r.createElement("div",{className:p("zoom-in")},r.createElement(s.a,{text:"Приблизить",position:"left",isDisabled:e.disabledZoomIn,isAir:!0},r.createElement(c.a,{name:"zoom_in",logClick:!0},r.createElement(a.a,{view:"air",size:"medium",icon:r.createElement("div",{className:p("icon"),dangerouslySetInnerHTML:{__html:l.a}}),onClick:e.onZoomIn,disabled:e.disabledZoomIn,pinBottom:!0})))),r.createElement("div",{className:p("zoom-out")},r.createElement(s.a,{text:"Отдалить",position:"left",isDisabled:e.disabledZoomOut,isAir:!0},r.createElement(c.a,{name:"zoom_out",logClick:!0},r.createElement(a.a,{view:"air",size:"medium",icon:r.createElement("div",{className:p("icon"),dangerouslySetInnerHTML:{__html:f.a}}),onClick:e.onZoomOut,disabled:e.disabledZoomOut,pinTop:!0}))))))})},1176:function(e,t,n){"use strict";var r=n(41),o=n(4),i=(n(1922),n(7)),a=n(43),s=n(8),c=n(92),u=Object(i.a)("sidebar-toggle-button"),l=function(e){var t=e.isCollapsed?"Развернуть":"Свернуть";return o.createElement(a.a,{text:t,position:"right",isAir:!0,hideOnClick:!1,delay:1e3},o.createElement(s.a,{name:"collapse",nodeState:{isCollapsed:e.isCollapsed,name:e.name},logClick:!0},o.createElement("div",{className:u({collapsed:e.isCollapsed,wide:e.wide}),onClick:e.onClick},o.createElement(c.a,{name:"arrow-down",size:24,className:u("icon"),inline:!0}))))},d=(n(1924),n(9));t.a=Object(d.b)(function(e){e.config;var t=Object(r.a)(e,["config"]),n=l;return o.createElement(n,t)})},1181:function(e,t,n){"use strict";function r(e,t){var n="number"==typeof e.size?e.size:e.size.width+"x"+e.size.height,r="dark"===e.theme?"_night":"",o=e.name+"-"+n+r+".svg";return t.staticHost+"static/v11/icons/core/"+o}n.d(t,"a",function(){return r})},1188:function(e,t,n){"use strict";function r(e,t,n){for(var r=Math.floor(e/n),o=Math.floor(t/n),i=[],a=r;a<=o;a++)i.push([a===r?e-r*n:0,a===o?t-o*n:n]);return i}function o(e,t){var n=r(e[0][0],e[1][0],t),o=r(e[0][1],e[1][1],t),i=[];return n.forEach(function(e){o.forEach(function(t){i.push([[e[0],t[0]],[e[1],t[1]]])})}),i}n.d(t,"a",function(){return o})},119:function(e,t,n){"use strict";var r=n(13),o=n(6),i=n(4);function a(e,t){return function(n){var a;return(a=function(a){function s(){return a.apply(this,arguments)||this}return Object(o.a)(s,a),s.prototype.render=function(){var o=this;return i.createElement(e.Consumer,null,function(e){var a=t?t(e):e;return i.createElement(n,Object(r.a)({},o.props,a))})},s}(i.Component)).displayName=(e.displayName||"unknownContext")+"("+n.displayName+")",a}}t.a=function(e,t,n){var r=i.createContext(t);return r.displayName=e+"Context",{connect:a(r,n),Provider:r.Provider}}},1190:function(e,t,n){},1192:function(e,t,n){},1194:function(e,t){!function(e,t){if(!e)throw new Error("Rum: interface is not included");if(!e.enabled)return e.getSetting=function(){return""},e.getVarsList=function(){return[]},void(e.getResourceTimings=e.pushConnectionTypeTo=e.pushTimingTo=e.normalize=e.sendCounter=e.sendDelta=e.sendTimeMark=e.sendResTiming=e.sendTTI=e.makeSubPage=e.sendHeroElement=e.onReady=function(){});e.getVarsList=function(){var t=e._vars;return Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")})},e.setVars=function(t){Object.keys(t).forEach(function(n){e._vars[n]=t[n]}),x(),M()};var n,r,o="690.1033",i="690.2096.207",a="690.2096.2877",s="690.2096.2044",c="690.2096.361",u="690.2096.4004",l=10,d=3e3,f=2e4,p={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},v={visible:1,hidden:2,prerender:3},m={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},h={"first-paint":2793,"first-contentful-paint":2794},g=Object.keys(h).length,y=e.getTime,b=window.PerformanceObserver,_=window.performance||{},w=_.timing||{},E=_.navigation||{},O=navigator.connection,S={},j={},k=e._deltaMarks,C=document.createElement("link"),T=document.createElement("a"),I="function"==typeof _.getEntriesByType,R=w.navigationStart;function x(){n=e.getVarsList(),e.getSetting("sendClientUa")&&n.push("1042="+encodeURIComponent(navigator.userAgent))}function M(){r=n.concat(["143.2129="+R])}if(x(),M(),e.ajaxStart=0,e.ajaxComplete=0,b)try{new b(function(e,t){var r=e.getEntriesByType("navigation")[0];if(r){t&&t.disconnect();var o=[];ae(o,r),ne(o),ce("690.2096.2892",n.concat(o))}}).observe({entryTypes:["navigation"]})}catch(ue){}function P(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function N(){e.getSetting("disableOnLoadTasks")||(removeEventListener("load",N),function(){var t=e.getSetting("periodicStatsIntervalMs");t||null===t||(t=15e3);t&&(L=setInterval(W,t));addEventListener("beforeunload",W)}(),function(){if(!b)return;Y(_.getEntriesByType("navigation")),Y(_.getEntriesByType("resource"));try{new b(function(e){Y(e.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(ue){}e._periodicTasks.push(X)}(),function(){if(!b)return;try{new b(function(e,t){var n=e.getEntries()[0];n&&(U("first-input",n.processingStart-n.startTime),t.disconnect())}).observe({type:"first-input",buffered:!0})}catch(ue){}}(),function(){if(!b)return;var e=new b(function(e){var t=e.getEntries();null==V&&(V=0);for(var n=0;n<t.length;n++){var r=t[n];r.hadRecentInput||(V+=r.value)}});try{e.observe({type:"layout-shift",buffered:!0})}catch(ue){}addEventListener("visibilitychange",function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(ue){}K()}}),addEventListener("beforeunload",K)}(),function(){if(!b||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var t=new b(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];$=r.renderTime||r.loadTime}J||(q("largest-loading-elem-paint",$),J=!0)});try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(ue){}addEventListener("visibilitychange",function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(ue){}Q()}}),addEventListener("beforeunload",Q)}())}function A(){var t=w.domContentLoadedEventStart,r=w.domContentLoadedEventEnd;if(0!==t||0!==r){var i=n.concat(["2129="+R,"1036="+(w.domainLookupStart-R),"1037="+(w.domainLookupEnd-w.domainLookupStart),"1038="+(w.connectEnd-w.connectStart),w.secureConnectionStart&&"1383="+(w.connectEnd-w.secureConnectionStart),"1039="+(w.responseStart-w.connectEnd),"1040="+(w.responseEnd-w.responseStart),"1040.906="+(w.responseEnd-w.domainLookupStart),"1310.2084="+(w.domLoading-w.responseStart),"1310.2085="+(w.domInteractive-w.responseStart),"1310.1309="+(r-t),"1310.1007="+(t-w.responseStart),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(p).forEach(function(e){e in w&&w[e]&&i.push(p[e]+"="+se(w[e],R))}),e.vsStart?(i.push("1484="+(v[e.vsStart]||2771)),e.vsChanged&&i.push("1484.719=1")):i.push("1484="+v.visible),E&&(E.redirectCount&&i.push("1384.1385="+E.redirectCount),1!==E.type&&2!==E.type||i.push("770.76="+E.type)),ne(i),ce(o,i)}else setTimeout(A,50)}P(function(){if(!R)return;setTimeout(function(){e.sendTimeMark=q,e.sendResTiming=H,e.timeEnd=F;for(var t=e._defRes;t.length;){var n=t.shift();H(n[0],n[1])}for(var r=e._defTimes;r.length;){var o=r.shift();q(o[0],o[1],!1,o[2])}Object.keys(k).forEach(function(e){U(e)}),A(),function t(){if(!I||!e.getSetting("forcePaintTimeSending")&&e.isVisibilityChanged())return;var n=_.getEntriesByType("paint");for(var r=0;r<n.length;r++){var o=n[r],i=h[o.name];i&&!D[o.name]&&(D[o.name]=!0,z++,q("1926."+i,o.startTime))}if(z<g)try{new b(function(e,n){t(),n&&n.disconnect()}).observe({entryTypes:["paint"]})}catch(ue){}}(),e.getSetting("sendAutoElementTiming")&&ee(),te(),"complete"===document.readyState?N():addEventListener("load",N)},0)}),e._getCommonVars=function(){return n};var L,D={},z=0;function q(n,r,o,a){r===t&&(r=y()),o!==t&&!0!==o||e.mark(n,r);var s=ie(n);if(s.push("207="+se(r)),B(s,a)){ce(i,s),S[n]=S[n]||[],S[n].push(r);var c=e._markListeners[n];c&&c.length&&c.forEach(function(e){e(r)})}}function B(e,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var r=e.reduce(function(e,t,n){"string"==typeof t&&(e[t.split("=")[0]]=n);return e},{});Object.keys(n).forEach(function(o){if("function"!=typeof n[o]){var i=r[o],a=o+"="+n[o];i===t?e.push(a):e[i]=a}})}return!0}function F(e,t){var n=k[e];n&&0!==n.length&&(n.push(y(),t),U(e))}function U(n,r,o){var i,s,c,u=k[n];if(void 0!==r?i=(s=e.getTime())-r:u&&(i=u[0],s=u[1],c=u[2]),i!==t&&s!==t){var l=ie(n);l.push("207.2154="+se(i),"207.1428="+se(s),"2877="+se(s-i)),B(l,o)&&B(l,c)&&(ce(a,l),delete k[n])}}function H(t,n){re(n,function(r){if(r){var o=ie(t);e.getSetting("sendUrlInResTiming")&&o.push("13="+encodeURIComponent(n)),ae(o,r[0]),ce(s,o)}})}function W(){var t=!1;e._periodicTasks.forEach(function(e){e()&&(t=!0)}),t||clearInterval(L)}e.getTimeMarks=function(){return S},e._periodicTasks=[];var V,G=0;function Y(e){if(e&&e.length)for(var t=j,n=0;n<e.length;n++){var r=Z(e[n]);if(r){var o=r.domain+"-"+r.extension,i=t[o]=t[o]||{count:0,size:0};i.count++,i.size+=r.size}}}function Z(e){var t=e.transferSize;if(null!=t){T.href=e.name;var n=T.pathname;if(0!==n.indexOf("/clck")){var r=n.lastIndexOf("."),o="";return-1!=r&&n.lastIndexOf("/")<r&&n.length-r<=5&&(o=n.slice(r+1)),{size:t,domain:T.hostname,extension:o}}}}function X(){var t=e.getSetting("maxTrafficCounters")||250;if(G>=t)return!1;for(var r=Object.keys(j),o="",i=0;i<r.length;i++){var a=r[i],s=j[a];o+=encodeURIComponent(a)+"!"+s.count+"!"+s.size+";"}if(o.length){G++;var u=n.concat(["d="+o,"t="+se(y())]);ce(c,u)}return j={},G<t}function K(){if(null!=V){var e=Math.round(1e6*V)/1e6;ce(u,n.concat("s="+e)),V=null}}var $=null,J=!1;function Q(){null!=$&&(q("largest-contentful-paint",$),$=null)}var ee=b?function(){if(e.getSetting("forcePaintTimeSending")||!e.isVisibilityChanged())try{new b(function(e){for(var t=e.getEntries(),n=0;n<t.length;n++){var r=t[n];q("element-timing."+r.identifier,r.startTime)}}).observe({type:"element",buffered:!0})}catch(ue){}}:function(){};function te(t,n,r){if(e._tti){var o=y(),i=function(t,i,a){var s={2796.2797:oe(a,n),689.2322:se(o)};r&&Object.keys(r).forEach(function(e){s[e]=r[e]}),q(t||"2795",i,!0,s),e._tti.fired=!0};!function r(){var a,s=n||o,c=y(),u=e._tti.events||[],l=u.length;0!==l&&(a=u[l-1],s=Math.max(s,Math.floor(a.startTime+a.duration))),c-s>=d?i(t,s,u):c-s>=f?i(t,(n||o)+f,u):setTimeout(r,1e3)}()}}function ne(e){O&&e.push("2437="+(m[O.type]||2771),O.downlinkMax!==t&&"2439="+O.downlinkMax,O.effectiveType&&"2870="+O.effectiveType,O.rtt!==t&&"rtt="+O.rtt,O.downlink!==t&&"dwl="+O.downlink)}function re(e,t){if(!I)return t(null);C.href=e;var n=C.href,r=0,o=100;setTimeout(function e(){var i=_.getEntriesByName(n);if(i.length)return t(i);r++<l?(setTimeout(e,o),o+=o):t(null)},0)}function oe(e,t){return t=t||0,(e=e||[]).filter(function(e){return e.startTime-t>=-50}).map(function(e){var t=e.name?e.name.split("-").map(function(e){return e[0]}).join(""):"u",n=Math.floor(e.startTime);return t+"-"+n+"-"+Math.floor(n+e.duration)}).join(".")}function ie(t){return r.concat(["1701="+t,e.ajaxStart&&"1201.2154="+se(e.ajaxStart),e.ajaxComplete&&"1201.2052="+se(e.ajaxComplete)])}function ae(e,t){Object.keys(p).forEach(function(n){if(n in t){var r=t[n];(r||0===r)&&e.push(p[n]+"="+se(r))}})}function se(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function ce(t,n){var r=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+r);var o=n.filter(Boolean).join(",");e.send(null,t,o)}e.sendTTI=te,e.sendHeroElement=function(e){q("2876",e)},e._subpages={},e.makeSubPage=function(t,n){var r=e._subpages[t];e._subpages[t]=void 0===r?r=0:++r;var o=!1;return{689.2322:se(void 0!==n?n:y()),2924:t,2925:r,isCanceled:function(){return o},cancel:function(){o=!0}}},e._getLongtasksStringValue=oe,e.getResourceTimings=re,e.pushConnectionTypeTo=ne,e.pushTimingTo=ae,e.normalize=se,e.sendCounter=ce,e.sendDelta=U,e.sendTrafficData=X,e.finalizeLayoutShiftScore=K,e.finalizeLargestContentfulPaint=Q,e.onReady=P}(Ya.Rum)},1195:function(e,t){!function(){var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),r=t.join("\r\n");if((t=[],e=null,n)&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,r))){var o=new XMLHttpRequest;o.open("POST",n),o.send(r)}}Ya.Rum.send=function(r,o,i,a,s,c,u){clearTimeout(e);var l=Ya.Rum.getSetting("slots"),d=Ya.Rum.getSetting("experiments"),f=["/reqid="+Ya.Rum.getSetting("reqid"),u?"/"+u.join("/"):"",o?"/path="+o:"",s?"/events="+s:"",l?"/slots="+l.join(";"):"",d?"/experiments="+d.join(";"):"",i?"/vars="+i:"","/cts="+(new Date).getTime(),"/*"];t.push(f.join("")),t.length<42?e=setTimeout(n,15):n()}}()},1196:function(e,t){!function(e){if(!e.Ya||!Ya.Rum)throw new Error("Rum: interface is not defined");var t=Ya.Rum;t.getSetting=function(e){var n=t._settings[e];return null===n?null:n||""}}("undefined"!=typeof self?self:window)},1197:function(e,t){!function(e,t){var n={client:["690.2354",1e3,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]},r={};t.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"},t._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",dc:"",host:"",service:"",level:"",version:"",yandexuid:"",coordinates_gp:"",referrer:!0,preventError:!1,unhandledRejection:!1,uncaughtException:!0,debug:!1,limits:{},silent:{},filters:{},pageMaxAge:864e6,initTimestamp:+new Date};var o=!1;function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){return"boolean"==typeof e&&(e=+e),"number"==typeof e?e+"":null}t.initErrors=function(n){i(t._errorSettings,n),!o&&t._errorSettings.uncaughtException&&(!function(){var n=t._errorSettings;if(e.addEventListener)e.addEventListener("error",s),n.resourceFails&&e.addEventListener("error",c,!0),"Promise"in e&&n.unhandledRejection&&e.addEventListener("unhandledrejection",function(e){var t,n=e.reason,r={};n&&(n.stack&&n.message?t=n.message:"[object Event]"===(t=String(n))?t="event.type: "+n.type:"[object Object]"===t&&(r.unhandledObject=n),n.target&&n.target.src&&(r.src=n.target.src),s({message:"Unhandled rejection: "+t,stack:n.stack,additional:r}))});else{var r=e.onerror;e.onerror=function(e,t,n,o,i){s({error:i||new Error(e||"Empty error"),message:e,lineno:n,colno:o,filename:t}),r&&r.apply(this,arguments)}}}(),o=!0)},t.updateErrors=function(e){i(t._errorSettings,e)},t.updateAdditional=function(e){t._errorSettings.additional=i(t._errorSettings.additional||{},e)},t._handleError=function(e,o){var i,a,s=t._errorSettings;if(s.preventError&&e.preventDefault&&e.preventDefault(),o)i=e,a="client";else{i=t._normalizeError(e),a=i.type;var c=s.onError;"function"==typeof c&&c(i);var u=s.transform;"function"==typeof u&&(i=u(i))}var l=+new Date,d=s.initTimestamp,f=s.pageMaxAge;if(!(-1!==f&&d&&d+f<l)){var p=n[a][1];"number"==typeof s.limits[a]&&(p=s.limits[a]);var v=n[a][2];"number"==typeof s.silent[a]&&(v=s.silent[a]);var m=n[a][3];if(m<p||-1===p){i.path=n[a][0];var h=t._getErrorData(i,{silent:m<v||-1===v?"no":"yes",isCustom:Boolean(o)},s),g=function(e){r[i.message]=!1,t._sendError(e.path,e.vars),n[a][3]++}.bind(this,h);if(void 0===s.throttleSend)g();else{if(r[i.message])return;r[i.message]=!0,setTimeout(g,s.throttleSend)}}}},t._getReferrer=function(t){var n=t.referrer,r=typeof n;return"function"===r?n():"string"===r&&n?n:!1!==n&&e.location?e.location.href:void 0},t._buildExperiments=function(e){return e instanceof Array?e.join(";"):""},t._buildAdditional=function(e,t){var n="";try{var r=i(i({},e),t);0!==Object.keys(r).length&&(n=JSON.stringify(r))}catch(o){}return n},t._getErrorData=function(n,r,o){r=r||{};var i=t._buildExperiments(o.experiments),s=t._buildAdditional(o.additional,n.additional),c={"-stack":n.stack,"-url":n.file,"-line":n.line,"-col":n.col,"-block":n.block,"-method":n.method,"-msg":n.message,"-env":o.env,"-external":n.external,"-externalCustom":n.externalCustom,"-project":o.project,"-service":n.service||o.service,"-page":n.page||o.page,"-platform":o.platform,"-level":n.level,"-experiments":i,"-version":o.version,"-region":o.region,"-dc":o.dc,"-host":o.host,"-yandexuid":o.yandexuid,"-coordinates_gp":n.coordinates_gp||o.coordinates_gp,"-referrer":t._getReferrer(o),"-source":n.source,"-sourceMethod":n.sourceMethod,"-type":r.isCustom?n.type:"","-additional":s,"-adb":a(Ya.blocker)||a(o.blocker),"-cdn":e.YaStaticRegion,"-ua":navigator.userAgent,"-silent":r.silent,"-ts":+new Date,"-init-ts":o.initTimestamp};return o.debug&&e.console&&console[console[n.level]?n.level:"error"]("[error-counter] "+n.message,c,n.stack),{path:n.path,vars:c}},t._baseNormalizeError=function(e){var t=(e=e||{}).error,n=e.filename||e.fileName||"",r=t&&t.stack||e.stack||"",o=e.message||"",i=t&&t.additional||e.additional;return{file:n,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:r,message:o,additional:i}},t._normalizeError=function(e){var n=t._baseNormalizeError(e),r="uncaught",o=t._isExternalError(n.file,n.message,n.stack),i="",a="";return o.hasExternal?(r="external",i=o.common,a=o.custom):/^Script error\.?$/.test(n.message)&&(r="script"),n.external=i,n.externalCustom=a,n.type=r,n},t._createVarsString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&t.push(n+"="+encodeURIComponent(e[n]).replace(/\*/g,"%2A"));return t.join(",")},t._sendError=function(e,n){t.send(null,e,t._createVarsString(n),null,null,null,null)};var s=function(e){t._handleError(e,!1)},c=function(e){var n=e.target;if(n){var r=n.srcset||n.src;if(r||(r=n.href),r){var o=n.tagName||"UNKNOWN";t.logError({message:o+" load error",additional:{src:r}})}}}}("undefined"!=typeof self?self:window,Ya.Rum)},1198:function(e,t){!function(e){var t={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/^TypeError: undefined is not a function$/,13:/__firefox__\.(?:favicons|metadata|reader|searchQueryForField|searchLoginField)/},stack:{0:/(?:moz|chrome)-extension:\/\//,1:/adguard.*\.user\.js/i}};function n(e,t){if(e&&t){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];"string"==typeof o&&(o=new RegExp(o)),o instanceof RegExp&&o.test(e)&&n.push(r)}return n.join("_")}}function r(e,r){var o,i=[];for(var a in t)t.hasOwnProperty(a)&&(o=n(e[a],r[a]))&&i.push(a+"~"+o);return i.join(";")}e._isExternalError=function(n,o,i){var a=e._errorSettings.filters||{},s={url:(n||"")+"",message:(o||"")+"",stack:(i||"")+""},c=r(s,t),u=r(s,a);return{common:c,custom:u,hasExternal:!(!c&&!u)}}}(Ya.Rum)},1199:function(e,t){!function(){"use strict";var e;(e=Ya.Rum).logError=function(t,n){t=t||{},"string"!=typeof n&&void 0!==n||((n=new Error(n)).justCreated=!0);var r=t.message||"",o=e._baseNormalizeError(n);o.message&&(r&&(r+="; "),r+=o.message),o.message=r||"Empty error";for(var i=["service","source","type","block","additional","level","page","method","sourceMethod","coordinates_gp"],a=0;a<i.length;a++){var s=i[a];t[s]?o[s]=t[s]:n&&n[s]&&(o[s]=n[s])}e._handleError(o,!0)}}()},12:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(4),i=n.n(o),a=n(1201),s=n.n(a),c=i.a.createContext(null),u=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;return n.state={storeState:r.getState(),store:r},n}r(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var n=t.getState();e._isMounted&&e.setState(function(e){return e.storeState===n?null:{storeState:n}})});var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||c;return i.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(o.Component);u.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any};var l=u;function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var v=n(1204),m=n.n(v),h=n(1206),g=n.n(h);n(585);function y(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,v=n.renderCountProp,h=void 0===v?void 0:v,y=n.shouldHandleStateChanges,b=void 0===y||y,_=n.storeKey,w=void 0===_?"store":_,E=n.withRef,O=void 0!==E&&E,S=n.forwardRef,j=void 0!==S&&S,k=n.context,C=void 0===k?c:k,T=p(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);g()(void 0===h,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),g()(!O,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var I="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React-Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";g()("store"===w,"storeKey has been removed and does not do anything. "+I);var R=C;return function(t){var n=t.displayName||t.name||"Component",a=s(n),c=f({},T,{getDisplayName:s,methodName:l,renderCountProp:h,shouldHandleStateChanges:b,storeKey:w,displayName:a,wrappedComponentName:n,WrappedComponent:t}),u=T.pure,p=o.Component,v=t;u&&(p=o.PureComponent);var y=function(t){function n(n){var r,o,a,s,l,p,m,h,y;return r=t.call(this,n)||this,g()(j?!n.wrapperProps[w]:!n[w],"Passing redux store in props has been removed and does not do anything. "+I),r.selectDerivedProps=function(t,n,r){if(u&&o===n&&a===t)return s;r!==l&&(l=r,p=e(r.dispatch,c)),o=n,a=t;var i=p(t,n);return s===i?s:s=i},r.selectChildElement=function(e,t){return e===m&&t===h||(m=e,h=t,y=i.a.createElement(v,f({},e,{ref:t}))),y},r.renderWrappedComponent=r.renderWrappedComponent.bind(d(d(r))),r}r(n,t);var o=n.prototype;return o.renderWrappedComponent=function(e){g()(e,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var t,n=e.storeState,r=e.store,o=this.props;j&&(o=this.props.wrapperProps,t=this.props.forwardedRef);var i=this.selectDerivedProps(n,o,r);return this.selectChildElement(i,t)},o.render=function(){var e=this.props.context||R;return i.a.createElement(e.Consumer,null,this.renderWrappedComponent)},n}(p);if(y.WrappedComponent=t,y.displayName=a,j){var _=i.a.forwardRef(function(e,t){return i.a.createElement(y,{wrapperProps:e,forwardedRef:t})});return _.displayName=a,_.WrappedComponent=t,m()(_,t)}return m()(y,t)}}var b=Object.prototype.hasOwnProperty;function _(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function w(e,t){if(_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!b.call(t,n[o])||!_(e[n[o]],t[n[o]]))return!1;return!0}var E=n(1159);function O(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function S(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=S(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=S(o),o=r(t,n)),o},r}}var k=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:O(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?O(function(t){return Object(E.bindActionCreators)(e,t)}):void 0}];var C=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:O(function(){return{}})}];function T(e,t,n){return f({},n,e,t)}var I=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?o&&i(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return T}}];function R(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function x(e,t,n,r,o){var i,a,s,c,u,l=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function v(o,p){var v,m,h=!d(p,a),g=!l(o,i);return i=o,a=p,h&&g?(s=e(i,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):h?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):g?(v=e(i,a),m=!f(v,s),s=v,m&&(u=n(s,c,a)),u):u}return function(o,l){return p?v(o,l):(s=e(i=o,a=l),c=t(r,a),u=n(s,c,a),p=!0,u)}}function M(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),c=o(e,i);return(i.pure?x:R)(a,s,c,e,i)}function P(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function N(e,t){return e===t}var A,L,D,z,q,B,F,U,H,W,V,G,Y=(D=(L=void 0===A?{}:A).connectHOC,z=void 0===D?y:D,q=L.mapStateToPropsFactories,B=void 0===q?C:q,F=L.mapDispatchToPropsFactories,U=void 0===F?k:F,H=L.mergePropsFactories,W=void 0===H?I:H,V=L.selectorFactory,G=void 0===V?M:V,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,c=void 0===s?N:s,u=o.areOwnPropsEqual,l=void 0===u?w:u,d=o.areStatePropsEqual,v=void 0===d?w:d,m=o.areMergedPropsEqual,h=void 0===m?w:m,g=p(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=P(e,B,"mapStateToProps"),b=P(t,U,"mapDispatchToProps"),_=P(n,W,"mergeProps");return z(G,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:_,pure:a,areStatesEqual:c,areOwnPropsEqual:l,areStatePropsEqual:v,areMergedPropsEqual:h},g))});n.d(t,"a",function(){return l}),n.d(t,"b",function(){return Y})},1200:function(e,t){!function(){"use strict";var e;(e=Ya.Rum).logEventString=function(t,n,r){return e._logEvent("string",t,n,r)},e.logEventFloat=function(t,n,r){return e._logEvent("float",t,n,r)},e.logEventInteger=function(t,n,r){return e._logEvent("integer",t,n,r)},e._logEvent=function(t,n,r,o){o=o||{};var i=e._errorSettings,a=e._buildAdditional(i.additional,o.additional),s=e._buildExperiments(i.experiments),c={"-env":i.env,"-project":i.project,"-service":o.service||i.service,"-page":o.page||i.page,"-platform":i.platform,"-experiments":s,"-version":i.version,"-yandexuid":i.yandexuid,"-referrer":e._getReferrer(i),"-additional":a,"-ts":+new Date,"-type":t,"-name":n,"-value":r};return e.send(null,"690.32",e._createVarsString(c),null,null,null,["table=rum_events"])}}()},1201:function(e,t,n){e.exports=n(1202)()},1202:function(e,t,n){"use strict";var r=n(1203);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},1203:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1204:function(e,t,n){"use strict";var r=n(585),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,v=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(v){var o=p(n);o&&o!==v&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),h=0;h<a.length;++h){var g=a[h];if(!(i[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}return t}return t}},1205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,v=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case s:case v:return e;default:switch(e=e&&e.$$typeof){case l:case p:case u:return e;default:return t}}case g:case h:case i:return t}}}function w(e){return _(e)===f}t.typeOf=_,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=v,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===c||e===s||e===v||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b)},t.isAsyncMode=function(e){return w(e)||_(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===c},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===v}},1206:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},1207:function(e,t,n){"use strict";var r=n(964),o=n(965),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,n,o,i,a,c,u,l,d,f,p,v){var m=t;if("function"==typeof u)m=u(n,m);else if(m instanceof Date)m=f(m);else if(null===m){if(i)return c&&!v?c(n,s.encoder):n;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||r.isBuffer(m))return c?[p(v?n:c(n,s.encoder))+"="+p(c(m,s.encoder))]:[p(n)+"="+p(String(m))];var h,g=[];if(void 0===m)return g;if(Array.isArray(u))h=u;else{var y=Object.keys(m);h=l?y.sort(l):y}for(var b=0;b<h.length;++b){var _=h[b];a&&null===m[_]||(g=Array.isArray(m)?g.concat(e(m[_],o(n,_),o,i,a,c,u,l,d,f,p,v)):g.concat(e(m[_],n+(d?"."+_:"["+_+"]"),o,i,a,c,u,l,d,f,p,v)))}return g};e.exports=function(e,t){var n=e,a=t?r.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===a.delimiter?s.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,f="boolean"==typeof a.encode?a.encode:s.encode,p="function"==typeof a.encoder?a.encoder:s.encoder,v="function"==typeof a.sort?a.sort:null,m=void 0!==a.allowDots&&a.allowDots,h="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var y,b,_=o.formatters[a.format];"function"==typeof a.filter?n=(b=a.filter)("",n):Array.isArray(a.filter)&&(y=b=a.filter);var w,E=[];if("object"!=typeof n||null===n)return"";w=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var O=i[w];y||(y=Object.keys(n)),v&&y.sort(v);for(var S=0;S<y.length;++S){var j=y[S];d&&null===n[j]||(E=E.concat(c(n[j],j,O,l,d,f?p:null,b,v,m,h,_,g)))}var k=E.join(u),C=!0===a.addQueryPrefix?"?":"";return k.length>0?C+k:""}},1208:function(e,t,n){"use strict";var r=n(964),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,n){if(!e.length)return t;var r,o=e.shift();if("[]"===o)r=(r=[]).concat(a(e,t,n));else{r=n.plainObjects?Object.create(null):{};var i="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,s=parseInt(i,10);!isNaN(s)&&o!==i&&String(s)===i&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(r=[])[s]=a(e,t,n):r[i]=a(e,t,n)}return r},s=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(r),c=s?r.slice(0,s.index):r,u=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var l=0;null!==(s=i.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+r.slice(s.index)+"]"),a(u,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:i.delimiter,n.depth="number"==typeof n.depth?n.depth:i.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:i.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:i.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=r.split(t.delimiter,a),c=0;c<s.length;++c){var u,l,d=s[c],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;-1===p?(u=t.decoder(d,i.decoder),l=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,p),i.decoder),l=t.decoder(d.slice(p+1),i.decoder)),o.call(n,u)?n[u]=[].concat(n[u]).concat(l):n[u]=l}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},u=Object.keys(a),l=0;l<u.length;++l){var d=u[l],f=s(d,a[d],n);c=r.merge(c,f,n)}return r.compact(c)}},1209:function(e,t,n){"use strict";function r(e){return[.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])]}n.d(t,"a",function(){return r})},121:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("card").then(n.bind(null,1401))},{openCard:!0,openPreloadedCard:!0,showInexactSearchResults:!0,closeWhatsherePreview:!0,updateWhatsherePreview:!0,updateBusinessesInside:!0})},1210:function(e,t,n){"use strict";function r(e){return[Math.abs(e[1][0]-e[0][0]),Math.abs(e[1][1]-e[0][1])]}n.d(t,"a",function(){return r})},1211:function(e,t,n){var r=n(968),o=n(969),i=r(),a=[1|i[0],i[1],i[2],i[3],i[4],i[5]],s=16383&(i[6]<<8|i[7]),c=0,u=0;e.exports=function(e,t,n){var r=t&&n||0,i=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:s,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:u+1,p=d-c+(f-u)/1e4;if(p<0&&void 0===e.clockseq&&(l=l+1&16383),(p<0||d>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=f,s=l;var v=(1e4*(268435455&(d+=122192928e5))+f)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=255&v;var m=d/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=l>>>8|128,i[r++]=255&l;for(var h=e.node||a,g=0;g<6;++g)i[r+g]=h[g];return t||o(i)}},1212:function(e,t,n){var r=n(968),o=n(969);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},1213:function(e,t,n){e.exports=n.p+"_/158df7e34c48bb3a776fd787248b4775.svg"},1214:function(e,t,n){e.exports=n.p+"_/dc481d6bbd7f5adbe1d4eb9bfd87699a.svg"},1215:function(e,t,n){e.exports=n.p+"_/8e54b3efeb01ca8555afcf9420b83ff8.svg"},1216:function(e,t,n){e.exports=n.p+"_/d491f4dfebc345c5b5073c2968e4906f.svg"},1217:function(e,t,n){e.exports=n.p+"_/b954ec79cd4e5528a506b3d6738fca1a.svg"},1218:function(e,t,n){e.exports=n.p+"_/26ef599731d1fe5ce61e7f59b3b5f473.svg"},1219:function(e,t,n){e.exports=n.p+"_/4a74d5fa613e792b1235588e6d5a4bda.svg"},122:function(e,t,n){"use strict";var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}},1220:function(e,t,n){e.exports=n.p+"_/4f5ef82b05afe4c515d7ddebac88f202.svg"},1221:function(e,t,n){e.exports=n.p+"_/ffea08b7343f1eac8e79bcefd4cb22b2.svg"},1222:function(e,t,n){e.exports=n.p+"_/04d9f3b3e347426914053ce287daaf07.svg"},1223:function(e,t,n){e.exports=n.p+"_/0b26ea68490637d882379cf424df0290.svg"},1224:function(e,t,n){e.exports=n.p+"_/f9eaaeae9d48d9da736e2bdfd486c46e.svg"},1225:function(e,t,n){e.exports=n.p+"_/4856fc539f7e04dca16fe44712663940.svg"},1226:function(e,t,n){e.exports=n.p+"_/f9230147f4745fc0a1ff525b8a233032.svg"},1227:function(e,t,n){e.exports=n.p+"_/54b25b1e22891fc5b5e44daeb089bb9f.svg"},1228:function(e,t,n){e.exports=n.p+"_/7c30015b48e6f4b35c98ba80bb2e24e1.svg"},1229:function(e,t,n){e.exports=n.p+"_/ef59ddb0d5aadae108503cc19c21eef5.svg"},123:function(e,t,n){"use strict";var r=n(6),o=n(4),i=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this,t=function(){return n.e(e.props.chunk,function(){})};this.props.immediately?t():setTimeout(t,3e3)},o.render=function(){return null},t}(o.Component);t.a=i},1230:function(e,t,n){e.exports=n.p+"_/dc75aa5ed94b5eb5368064618c4b63e4.svg"},1231:function(e,t,n){e.exports=n.p+"_/7906239a768ecb03bb8133d1113665e0.svg"},1232:function(e,t,n){e.exports=n.p+"_/8524a9d19c44f5446185899c40673241.svg"},1233:function(e,t,n){e.exports=n.p+"_/a70a4c329abea46a3e6b42fdc0b921dc.svg"},1234:function(e,t,n){e.exports=n.p+"_/a36eb164dbb30d75d93941b5d14be75f.svg"},1235:function(e,t,n){e.exports=n.p+"_/a80cd0e70d8d6c04344692ffc29e59ce.svg"},1236:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(194),o=n(193),i=n(232),a=n(657),s=n(978);function c(e,t,n){e[1]=Object(a.a)(e[1]);var c=Object(r.a)(e[1]),u=Object(r.a)(e[0]),l=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),d=t[1]/l,f=t[0]/l,p=(1-o.b)*Math.tan(c),v=Object(s.a)(Math.cos(c))*Math.sqrt(1/(1+p*p)),m=Math.sqrt(1-v*v)*Object(s.a)(p),h=Math.atan2(p,d),g=v*f,y=(1-g)*(1+g),b=y*(o.j*o.j/(o.l*o.l)-1),_=1+b*(4096+b*(b*(320-175*b)-768))/16384,w=b*(256+b*(b*(74-47*b)-128))/1024,E=function(e){var t,r=n*e,a=r/(o.l*_),s=h+a/2,c=Math.cos(2*s),l=0,p=0;do{var b=w*Math.sin(a)*(c+.25*w*(Math.cos(a)*(2*c*c-1)-1/6*w*c*(4*Math.sin(a)*Math.sin(a)-3)*(4*c*c-3)));t=b-p,p=b,a=r/(o.l*_)+b,l++}while(Math.abs(t)>o.i&&l<10);var E=m*Math.sin(a)-v*Math.cos(a)*d,O=Math.atan2(m*Math.cos(a)+v*Math.sin(a)*d,(1-o.b)*Math.sqrt(g*g+E*E)),S=Math.atan2(Math.sin(a)*f,v*Math.cos(a)-m*Math.sin(a)*d),j=o.b/16*y*(4+o.b*(4-3*y)),k=S-(1-j)*o.b*g*(a+j*Math.sin(a)*(c+j*Math.cos(a)*(2*c*c-1))),C=Math.atan2(g,-m*Math.sin(a)+v*Math.cos(a)*d);return{point:[Object(i.a)(u+k),Object(i.a)(O)],direction:[Math.sin(C),Math.cos(C)]}},O=E(1);return{startPoint:e,startDirection:t,endPoint:O.point,endDirection:O.direction,distance:n,pathFunction:E}}},1237:function(e,t,n){"use strict";function r(e){try{return decodeURIComponent(e)}catch(t){return""}}t.parseYpCookie=function(e){return e.split("#").reduce(function(e,t){var n=t.split(".");return 3===n.length&&(e[n[1]]={value:r(n[2]),expire:new Date(1e3*Number(n[0]))}),e},{})}},1238:function(e,t,n){var r,o,i;o=[t,e],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function o(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e,a=t.timeout||n.timeout,s=t.jsonpCallback||n.jsonpCallback,c=void 0;return new Promise(function(n,u){var l=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),d=s+"_"+l;window[l]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),c&&clearTimeout(c),o(d),r(l)},i+=-1===i.indexOf("?")?"?":"&";var f=document.createElement("script");f.setAttribute("src",""+i+s+"="+l),t.charset&&f.setAttribute("charset",t.charset),f.id=d,document.getElementsByTagName("head")[0].appendChild(f),c=setTimeout(function(){u(new Error("JSONP request to "+e+" timed out")),r(l),o(d),window[l]=function(){r(l)}},a),f.onerror=function(){u(new Error("JSONP request to "+e+" failed")),r(l),o(d),c&&clearTimeout(c)}})}})?r.apply(t,o):r)||(e.exports=i)},1239:function(e,t,n){for(var r=self.crypto||self.msCrypto,o="-_",i=36;i--;)o+=i.toString(36);for(i=36;i---10;)o+=i.toString(36).toUpperCase();e.exports=function(e){var t="",n=r.getRandomValues(new Uint8Array(e||21));for(i=e||21;i--;)t+=o[63&n[i]];return t}},1240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1241);t.thisIsServer=function(){return r=!0},t.isThisServer=function(){return r}},1241:function(e,t){e.exports=!1},1242:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n.n(o),a=n(12),s=n(141),c=n(9),u=n(20),l=n(453),d=n(591),f=n(16),p=n(17),v=n(1147),m=n(2774),h=n(1246),g=n(1256),y=n(1358),b=n(1360),_=n(2764),w=n(1361),E=n(1362),O=n(160),S=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1004))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1004}}),function(e){return e.map.fullReady&&!f.m(e.config)}),j=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1005))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1005}}),function(e){return e.map.fullReady}),k=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1165))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1165}}),function(e){return e.map.fullReady}),C=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1006))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1006}}),function(e){return e.map.fullReady}),T=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1189))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1189}},{ssr:!1}),function(e){var t=e.placemarks;return Boolean(t.points&&t.points.length>0)}),I=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1007))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1007}}),function(e){return e.map.fullReady}),R=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"other"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("other").then(n.bind(null,1171))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1171}}),function(e){return e.map.fullReady}),x=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"other"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("other").then(n.bind(null,1008))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1008}}),function(e){return e.map.fullReady}),M=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"photos"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("photos").then(n.bind(null,1009))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1009}},{ssr:!1}),function(e){return f.i("photos",e)||e.photos.isLayerEnabled}),P=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,1014))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1014}}),function(e){return e.map.fullReady}),N=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"orgpage"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("orgpage").then(n.bind(null,1016))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1016}}),function(e){return Boolean(f.h(e,"orgpage"))}),A=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"routes"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("routes").then(n.bind(null,1017))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1017}}),function(e){return 0!==f.g(e,"routes").length}),L=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1023))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1023}}),function(e){return f.i("feedback",e)}),D=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1027))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1027}}),function(e){return e.feedback.isCommonFeedbackOpened}),z=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1028))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1028}}),function(e){return f.i("feedback",e)}),q=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1029))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1029}}),function(e){return f.i("feedback",e)}),B=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1172))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1172}}),function(e){return f.i("feedback",e)}),F=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1030))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1030}}),function(e){return f.i("feedback",e)}),U=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1033))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1033}}),function(e){return f.i("feedback",e)}),H=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1034))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1034}}),function(e){return f.i("feedback",e)}),W=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"feedback"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("feedback").then(n.bind(null,1036))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1036}}),function(e){return f.i("feedback",e)}),V=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"ruler"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("ruler").then(n.bind(null,1145))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1145}},{ssr:!1}),function(e){var t=e.ruler;return Boolean(t.isEnabled||t.points.length>0)}),G=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"home"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("home").then(n.bind(null,1038))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1038}}),function(e){return["home","masstransit","traffic"].includes(f.d(e))}),Y=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"catalog"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("catalog").then(n.bind(null,1039))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1039}}),function(e){return f.i("catalog",e)}),Z=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"covid"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("covid").then(n.bind(null,1041))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1041}}),function(e){return f.i("covid",e)}),X=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"actual"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("actual").then(n.bind(null,1046))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1046}}),function(e){return f.i("actual",e)}),K=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"stories-player"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("stories-player").then(n.bind(null,1150))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1150}}),function(e){return f.i("stories-player",e)}),$=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"discovery"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("discovery").then(n.bind(null,1047))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1047}}),function(e){return f.i("discovery",e)}),J=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"photos"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("photos").then(n.bind(null,1162))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1162}},{ssr:!1}),function(e){return e.addPhotos.isOpen}),Q=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"masstransit"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("masstransit").then(n.bind(null,1051))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1051}}),function(e){return e.masstransit.isLayerShown||f.i("masstransit",e)}),ee=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"search"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search").then(n.bind(null,1052))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1052}}),function(e){return Boolean(e.search.loadingRequest||f.g(e,"search").length>0)}),te=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.bind(null,1053))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1053}}),function(e){return f.i("search-result",e)}),ne=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"traffic"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("traffic").then(n.bind(null,1070))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1070}}),function(e){return f.i("traffic",e)||e.traffic.isLayerEnabled}),re=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"login"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("login").then(n.bind(null,1164))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1164}},{ssr:!1}),function(e){return e.loginDialog.isOpen}),oe=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"panoramas"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("panoramas").then(n.bind(null,1072))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1072}},{ssr:!1}),function(e){return f.i("panoramas",e)||Boolean(e.panoramas.loadingPanorama)||e.panoramas.isLayerEnabled||e.photos.isLayerEnabled}),ie=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,1158))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1158}}),function(e){return Boolean(f.h(e,"mobile-app-share"))}),ae=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.t.bind(null,1074,7))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1074}}),function(e){return!1}),se=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"mrc"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("mrc").then(n.bind(null,1075))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1075}},{ssr:!1}),function(e){return e.mrc.isLayerEnabled}),ce=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"mrc"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("mrc").then(n.bind(null,1144))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1144}},{ssr:!1}),function(e){return Boolean(f.h(e,"mrc"))}),ue=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"post-editor"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("post-editor").then(n.bind(null,1076))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1076}}),function(e){return f.i("post-editor",e)}),le=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"reviews"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("reviews").then(n.bind(null,1151))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1151}}),function(e){return f.i("reviews",e)}),de=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"bookmarks"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("bookmarks").then(n.bind(null,1077))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1077}}),function(e){return e.map.fullReady&&!f.m(e.config)}),fe=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"events"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("events").then(n.bind(null,1079))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1079}}),function(e){return f.i("event",e)&&!f.m(e.config)}),pe=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"events"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("events").then(n.bind(null,1153))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1153}}),function(e){return e.map.fullReady&&!f.m(e.config)&&!e.config.uatraits.isRobot&&!0}),ve=Object(u.a)({resolved:{},chunkName:function(){return"usermaps"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("usermaps").then(n.bind(null,1081))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1081}}),me=Object(u.a)({resolved:{},chunkName:function(){return"fps-meter"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("fps-meter").then(n.bind(null,1175))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1175}},{ssr:!1}),he=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"share"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("share").then(n.bind(null,1083))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1083}}),function(e){return f.i("share",e)}),ge=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"user-profile"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("user-profile").then(n.bind(null,1084))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1084}}),function(e){return f.i("user-profile",e)}),ye=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"stories"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("stories").then(n.bind(null,1086))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1086}}),function(e){return f.i("stories",e)}),be=Object(l.a)(Object(u.a)({resolved:{},chunkName:function(){return"ugc-profile"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("ugc-profile").then(n.bind(null,1089))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1089}}),function(e){return f.i("ugc-profile",e)}),_e={passive:!1},we={fireInitialActions:v.b},Ee=Object(p.a)(c.b,a.b(null,we)),Oe=function(e){function t(t){var n;return(n=e.call(this,t)||this)._preventZoomByPinching=function(e){"scale"in e&&1!==e.scale&&e.touches.length>1&&e.preventDefault()},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.document.body.classList.add("_app_ready"),this.setState({mountTimestamp:s.a.getTimeToNow()}),this.props.fireInitialActions(),document.addEventListener("touchmove",this._preventZoomByPinching,_e)},n.componentWillUnmount=function(){document.removeEventListener("touchmove",this._preventZoomByPinching,_e)},n.render=function(){var e=this.props,t=[x,V,D,N,C,he],n=[_.a,J,se,ce,E.a,g.a,y.a,w.a,R,k,ee,te,Q,M,oe,$,T,j,ne,S,A,b.a,P,I,G,X,K,Y,Z,ie,ae,re,ue,L,q,B,fe,pe,F,U,H,W,z,le,ge,ye,be,e.config.userMap?ve:null,e.config.authorization||e.config.query.bookmarks?de:null,e.config.experiments.ui.fpsMeter?me:null].concat(t).filter(function(e){return Boolean(e)}),r=this.state;return o.createElement(o.Fragment,null,o.createElement(h.a,null,o.createElement(m.a,null,n.map(function(e,t){return o.createElement(d.a,{key:t},o.createElement(e,null))}))),o.createElement(O.a,{type:"app",ready:r.mountTimestamp,extraState:{initEnd:e.initTimestamp,mountEnd:r.mountTimestamp,mountDuration:e.initTimestamp?(r.mountTimestamp||0)-e.initTimestamp:void 0}}))},t}(o.Component);t.a=Ee(Oe)},1243:function(e,t,n){"use strict";var r=n(585),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,v=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(v){var o=p(n);o&&o!==v&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),h=0;h<a.length;++h){var g=a[h];if(!(i[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}},1244:function(e,t,n){"use strict";t.a=function(){return!1}},1245:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(1143),c=n(983),u=function(e){var t="undefined"!=typeof document&&document.getElementById(e);return t?t.innerHTML:null},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={html:u(t.props.id)},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.live,n=e.dehydrate,r=e.id;if(!t){var o=document.getElementById(r);o&&n(o)}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.live,r=e.strict,o=e.id,s=e.className,c=e.style,u=this.state.html,l={id:o,className:s,style:c,"data-prerendered-border":!0};return n||!u&&!r?a.createElement("div",i({},l),t):a.createElement("div",i({},l,{dangerouslySetInnerHTML:{__html:u||""}}))},t}(a.Component),d=function(e){return!e||"boolean"==typeof e||!e.then},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={state:null,live:!1},t.awaitingFor=void 0,t.dehydrate=function(e){if(t.props.restore){var n=e.querySelector('script[type="text/store-'+e.id+'"]');Promise.resolve(t.props.restore(e,JSON.parse((n?n.textContent:"")||"{}"))).then(function(e){return t.setState({live:!0,state:e})})}},t}return o(t,e),t.getDerivedStateFromProps=function(e,t){return d(e.live)&&e.live!==t.live?{live:e.live}:null},t.prototype.componentDidMount=function(){this.checkLive()},t.prototype.componentDidUpdate=function(){this.checkLive()},t.prototype.checkLive=function(){d(this.props.live)||this.awaitForLive(this.props.live)},t.prototype.awaitForLive=function(e){var t=this;this.awaitingFor!==e&&(this.awaitingFor=e,Promise.resolve(e).then(function(n){return t.props.live===e&&t.setState({live:!!n})}))},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.children,i=t.store,u=t.strict,d=void 0!==u&&u,f=this.state.live;return a.createElement(c.PrerenderedControls,null,function(t){var c=t.isServer;return a.createElement(s.UIDFork,null,a.createElement(s.UIDConsumer,null,function(t){return a.createElement(l,{id:"prc-"+t,className:n,style:r,live:!(!f&&!c),strict:d,dehydrate:e.dehydrate},i&&a.createElement("script",{type:"text/store-prc-"+t,dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),o)}))})},t}(a.Component);t.PrerenderedComponent=f},1246:function(e,t,n){"use strict";var r=n(6),o=n(10),i=n(4),a=n.n(i),s=n(12),c=n(2798),u=n(23),l=n(950),d=n(315),f=n(147),p=n(109),v=n(115),m=n(9),h=n(17),g=n(49),y=n(16),b=n(670),_=n(671),w=n(1252),E=n(55),O=n(121),S=n(20),j=n(453),k=n(1253),C=n(593),T=Object(j.a)(Object(S.a)({resolved:{},chunkName:function(){return"indoor"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("indoor").then(n.bind(null,1177))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1177}}),function(e){return e.map.fullReady&&e.config.isVectorEnabled&&!e.panoramas.isLayerEnabled&&!e.mrc.isLayerEnabled},{withSideEffect:!0}),I={openCard:O.a.openCard,updateMap:u.a.updateMap,fetchStopInfo:p.a.fetchStopInfo,processMapObjectClick:v.a.processMapObjectClick},R=Object(h.a)(s.b(function(e){var t=y.d(e);return Object(o.a)({isPoiEnabled:!(e.map.isEditing||e.panoramas.isLayerEnabled||e.config.query.embed||e.mrc.isLayerEnabled||y.m(e.config)),maxZoom:"covid"===t?7:void 0,margin:d.b(e),position:d.c(e)},e.map)},I),m.b),x=17,M=200,P=["drag","scrollZoom","pinchZoom","dblClick","magnifier","mouseRotate","pinchRotate"],N=["drag","scrollZoom","pinchZoom","dblClick","oneFingerZoom","pinchRotate"],A="_map_ready",L=function(e){function t(t){var n;return(n=e.call(this,t)||this)._container="undefined"==typeof window?null:document.querySelector(".map-container"),n._stopsLayerAnalyticsRef=i.createRef(),n._poiLayerAnalyticsRef=i.createRef(),n._indoorLayerAnalyticsRef=i.createRef(),n._seenPois=new Set,n._eventObjectsFilter=function(e){if(!e||"map"!==e.source||"hotspot"!==e.type||e.feature.properties.uri)return!0;var t=e.feature.properties.tags||[];return t.includes("entrance")||t.includes("building")},n._onReady=function(e){n._map=e,n.props.updateMap({ready:!0}),n.props.maxZoom&&n._map.setZoomRange({min:n._map.zoomRange.min,max:n.props.maxZoom})},n._onFullReady=function(){var e;n.props.updateMap({fullReady:!0}),"raster"===(null===(e=n._map)||void 0===e?void 0:e.getMode())&&n._setMapReadyClass()},n._onMainEngineChanged=function(){var e;window.document.body.classList.contains(A)||n._setMapReadyClass(),n._onVisiblePoisChange(n.props.location);var t=null===(e=n._map)||void 0===e?void 0:e.getEffectiveMode();n.props.updateMap({mode:"preVector"===t?"vector":t})},n._setMapReadyClass=function(){window.document.body.classList.add(A)},n._setCamera=function(e){n.props.updateMap({camera:e,isInAction:!1})},n._setMapLocation=function(e){n.props.updateMap({location:e,isInAction:!1}),n._onVisiblePoisChange(e)},n._setMapSize=function(e,t){n.props.updateMap({size:e,offset:t})},n._updateMapMargin=function(e,t){var r=e.margin,o=e.position,i=t.margin,a=t.position;if(!Object(c.a)(r,i)||!Object(c.a)(o,a)){var s=function(){if(Object(c.a)(o,a)||Object.assign(n._container.style,d.d(a)),n._map){var e=i.map(function(e,t){return e-r[t]}),t=a.map(function(e,t){return o[t]-e});n._map.resize(Object(c.a)(e,t),!0)}};window.clearTimeout(n._updateMapSizeTimer),a.some(function(e,t){return e>o[t]})?n._updateMapSizeTimer=window.setTimeout(s,M):s()}},n._onPoiClick=function(e,t,r){var o=n.props,i=e.properties,a=i.tags||[],s=i.uri||i.URIMetaData&&i.URIMetaData.URIs&&i.URIMetaData.URIs[0]&&i.URIMetaData.URIs[0].uri,c=g.m(s),u=s&&g.j(s),l=r?n._indoorLayerAnalyticsRef:c?n._stopsLayerAnalyticsRef:n._poiLayerAnalyticsRef;l.current&&l.current.logEvent("click",{uri:s,zoom:o.location.zoom,tags:a.join(",")});var d=e.geometry&&e.geometry.coordinates||t.coordinates;o.processMapObjectClick({point:{value:i.name||"",coords:d,uri:u||c?s:void 0},action:function(){if(c){var e=g.f(s);o.fetchStopInfo({id:e,uri:s,hotspotProperties:i,hotspotCoordinates:d,clearLine:!0})}else a.includes("building")?o.openCard({coordinates:d,from:"whatshere",zoom:x,origin:"poi",addGeometry:!1},{mobileViewState:"mini"}):o.openCard({coordinates:d,from:"poi",hotspotProperties:i,uri:s})}})},n._onVisiblePoisChange=function(e){var t,r,o=Math.round(e.zoom),i=n._getVisiblePoiUris("map"),a=n._getVisiblePoiUris("indoor");i.length>0&&(null===(t=n._poiLayerAnalyticsRef.current)||void 0===t||t.logEvent("poi_show",{uris:i.join(","),zoom:o}),i.forEach(function(e){return n._seenPois.add(e)}));a.length>0&&(null===(r=n._indoorLayerAnalyticsRef.current)||void 0===r||r.logEvent("poi_show",{uris:a.join(","),zoom:o}),a.forEach(function(e){return n._seenPois.add(e)}))},n._getVisiblePoiUris=function(e){var t,r;return(null!==(t=null===(r=n._map)||void 0===r?void 0:r.getVisibleObjects(e))&&void 0!==t?t:[]).map(function(e){var t;return(null===(t=e.get("tags"))||void 0===t?void 0:t.includes("poi"))?e.get("uri"):void 0}).filter(function(e){return Boolean(e&&!n._seenPois.has(e))})},n._onUpdate=function(){var e=n._map&&n._map.isInAction;n._hasPreloader&&(e||n.props.fullReady)&&(window.document.querySelector(".body").style.backgroundImage="none",n._hasPreloader=!1);e&&!n.props.isInAction&&n.props.updateMap({isInAction:!0})},n._onZoomRoundingChange=function(e){n.props.updateMap({isSnapToRoundZoom:e})},n._getBehaviors=function(){return P.concat(n._map&&n._map.zoom>=C.a?["mouseTilt","panTilt"]:[])},n._renderContent=function(){var e=n.props;return i.createElement(w.a,null,i.createElement(f.a,{name:"masstransit_stops_layer",nodeRef:n._stopsLayerAnalyticsRef,nodeState:{mapMode:e.mode}}),i.createElement(f.a,{name:"poi_layer",nodeRef:n._poiLayerAnalyticsRef,nodeState:{mapMode:e.mode}}),i.createElement(f.a,{name:"indoor_layer",nodeRef:n._indoorLayerAnalyticsRef}),i.createElement(b.a,null),i.createElement(_.a,{location:n.props.location,layer:n.props.type,right:116}),i.createElement(T,{onClick:e.isPoiEnabled?function(e,t){return n._onPoiClick(e,t,!0)}:void 0}),i.createElement(E.b,{onReady:n.props.fullReady?void 0:n._onFullReady,onUpdate:n._onUpdate,onMainEngineChanged:n._onMainEngineChanged}),i.createElement(k.a,null),n.props.children)},n._hasPreloader=!1,n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props;this._updateMapMargin(e,t),e.maxZoom!==t.maxZoom&&this._map&&this._map.setZoomRange({min:this._map.zoomRange.min,max:t.maxZoom||21})},n.render=function(){var e=this.props,t=e.config.uatraits.isMobile;return i.createElement(l.a,{type:e.type,initialLocation:e.location,initialCamera:e.camera,locationRequest:e.locationRequest,margin:e.margin,onLocationChange:this._setMapLocation,onCameraChange:this._setCamera,onSizeChange:this._setMapSize,element:this._container,onPoiClick:e.isPoiEnabled?this._onPoiClick:void 0,onReady:this._onReady,onZoomRoundingChange:this._onZoomRoundingChange,disableZoomRounding:t,vector:!0,eventObjectsFilter:this._eventObjectsFilter,behaviors:this._getBehaviors(),isHoverForceEnabled:e.isHoverForceEnabled,isPoiEnabled:e.isPoiEnabled},this._renderContent())},t}(i.Component);t.a=R(L)},1247:function(e,t,n){},1249:function(e,t,n){e.exports=n.p+"_/3ce22e999d54bb9ca8150a59207f9d3e.cur"},1250:function(e,t,n){},1252:function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(4),a=n(12),s=n(17),c=n(319),u=n(447),l=n(232),d=n(8),f=n(55),p=n(347),v=n(141),m=n(990),h=n(160),g=n(989),y=1e4,b=Object(s.a)(a.b(function(e){return{mapType:e.map.type,mapLocation:e.map.location,mapCamera:e.map.camera,mapReady:e.map.ready,mapFullReady:e.map.fullReady,config:e.config}}),c.b),_=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onMapReady=function(){document.querySelector('[data-log="chunk_ymaps"]')&&(n.setState({mapReadyTime:v.a.getTimeToNow()}),n._tilesTimer=window.setTimeout(n._logInitialMapTilesTimings,y))},n._onMapFullReady=function(){var e=n.props.config.uatraits.isMobile;setTimeout(function(){var t=Object(g.a)(),r=t.reasonsFailed.reduce(function(e,t){return e[t]=!0,e},{supported:t.supported,isMobile:e});n.setState({vectorSupport:r})},0)},n._onMapDoubleClick=function(){n.props.mapNode.logEvent("double_click")},n._onLayersVectorReveal=function(e){var t=e.duration;n.setState({vector:{ready:v.a.getTimeToNow(),duration:t>0?t:void 0}})},n._onLayersVectorError=function(){n.setState({vector:"error"})},n._logInitialMapTilesTimings=function(){var e=m.a.getTimings(["map","sat","skl"],n._initialBoundsInGlobalPixels);e&&n.setState({tilesTimings:e})},n.state={},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;this._initialBoundsInGlobalPixels=Object(u.a)(e.mapLocation.bounds,e.mapLocation.zoom),e.mapReady&&this._onMapReady()},n.componentDidUpdate=function(e){var t=this.props;t.mapReady&&!e.mapReady&&this._onMapReady(),t.mapFullReady&&!e.mapFullReady&&this._onMapFullReady(),t.mapLocation===e.mapLocation&&t.mapCamera===e.mapCamera||t.mapNode.logEvent("bounds_change",Object(r.a)(Object(r.a)({},t.mapLocation),{},{map_tilt:0===t.mapCamera.tilt?"flat":"perspective",rotation_angle_state:Object(l.a)(t.mapCamera.azimuth),change_zoom:e.mapLocation.zoom!==t.mapLocation.zoom})),t.mapType!==e.mapType&&t.mapNode.changeState({type:t.mapType})},n.componentWillUnmount=function(){window.clearTimeout(this._tilesTimer)},n.render=function(){var e=this.state,t=this.props;return i.createElement(i.Fragment,null,i.createElement(p.a,{type:"mapNode"},e.vector?i.createElement(d.a,{name:"error"===e.vector?"vector_error":"vector"}):null),t.children,i.createElement(h.a,{type:"map",ready:e.mapReadyTime},e.tilesTimings?i.createElement(d.a,{name:"tiles",nodeState:e.tilesTimings}):null),i.createElement(h.a,{type:"vector",ready:e.vector&&"error"!==e.vector?e.vector.ready:void 0,extraState:e.vector&&"error"!==e.vector?e.vector:void 0}),i.createElement(f.b,{onDoubleClick:this._onMapDoubleClick,onVectorStart:this._onLayersVectorReveal,onVectorError:this._onLayersVectorError}),this.state.vectorSupport?i.createElement(d.a,{name:"vector_support",nodeState:this.state.vectorSupport}):null)},t}(i.Component);t.a=b(_)},1253:function(e,t,n){"use strict";var r=n(6),o=(n(1254),n(4)),i=n(12),a=n(28),s=n(7),c=n(52),u=n(23),l={close:n(37).a.close,hideBlackoutMap:u.a.hideBlackoutMap},d=i.b(function(e){return{isShown:e.map.isBlackout,widthMap:e.map.size.width}},l),f=Object(s.a)("blackout-layout"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e=t.props;e.hideBlackoutMap(),e.close()},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return o.createElement(a.a,{selector:".body"},o.createElement(c.a,null,e.isShown?o.createElement("div",{className:f(),onClick:this._onClick,style:{width:e.widthMap}}):null))},t}(o.PureComponent);t.a=d(p)},1254:function(e,t,n){},1256:function(e,t,n){"use strict";n(1257);var r=n(4),o=n(7),i=n(9),a=n(673),s=(n(233),n(594)),c=Object(o.a)("map-controls");t.a=Object(i.b)(function(e){if(e.config.query.embed)return r.createElement("div",{className:c("zoom-control")},r.createElement(s.a,null));var t=a.b;return r.createElement(t,null)})},1257:function(e,t,n){},1259:function(e,t,n){},126:function(e,t,n){"use strict";var r=n(251),o=n(406);var i=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},a=n(349),s=1,c=2;var u=function(e,t,n,r,u,l){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var v=l.get(e);if(v&&l.get(t))return v==t;var m=-1,h=!0,g=n&c?new o.a:void 0;for(l.set(e,t),l.set(t,e);++m<f;){var y=e[m],b=t[m];if(r)var _=d?r(b,y,m,t,e,l):r(y,b,m,e,t,l);if(void 0!==_){if(_)continue;h=!1;break}if(g){if(!i(t,function(e,t){if(!Object(a.a)(g,t)&&(y===e||u(y,e,n,r,l)))return g.push(t)})){h=!1;break}}else if(y!==b&&!u(y,b,n,r,l)){h=!1;break}}return l.delete(e),l.delete(t),h},l=n(229),d=n(230),f=d.a.Uint8Array,p=n(195);var v=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},m=n(196),h=1,g=2,y="[object Boolean]",b="[object Date]",_="[object Error]",w="[object Map]",E="[object Number]",O="[object RegExp]",S="[object Set]",j="[object String]",k="[object Symbol]",C="[object ArrayBuffer]",T="[object DataView]",I=l.a?l.a.prototype:void 0,R=I?I.valueOf:void 0;var x=function(e,t,n,r,o,i,a){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new f(e),new f(t)));case y:case b:case E:return Object(p.a)(+e,+t);case _:return e.name==t.name&&e.message==t.message;case O:case j:return e==t+"";case w:var s=v;case S:var c=r&h;if(s||(s=m.a),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=g,a.set(e,t);var d=u(s(e),s(t),r,o,i,a);return a.delete(e),d;case k:if(R)return R.call(e)==R.call(t)}return!1},M=n(321),P=n(44);var N=function(e,t,n){var r=t(e);return Object(P.a)(e)?r:Object(M.a)(r,n(e))};var A=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var L=function(){return[]},D=Object.prototype.propertyIsEnumerable,z=Object.getOwnPropertySymbols,q=z?function(e){return null==e?[]:(e=Object(e),A(z(e),function(t){return D.call(e,t)}))}:L,B=n(217);var F=function(e){return N(e,B.a,q)},U=1,H=Object.prototype.hasOwnProperty;var W=function(e,t,n,r,o,i){var a=n&U,s=F(e),c=s.length;if(c!=F(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:H.call(t,l)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<c;){var v=e[l=s[u]],m=t[l];if(r)var h=a?r(m,v,l,t,e,i):r(v,m,l,e,t,i);if(!(void 0===h?v===m||o(v,m,n,r,i):h)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(f=!1)}return i.delete(e),i.delete(t),f},V=n(335),G=Object(V.a)(d.a,"DataView"),Y=n(667),Z=Object(V.a)(d.a,"Promise"),X=n(348),K=Object(V.a)(d.a,"WeakMap"),$=n(444),J=n(984),Q=Object(J.a)(G),ee=Object(J.a)(Y.a),te=Object(J.a)(Z),ne=Object(J.a)(X.a),re=Object(J.a)(K),oe=$.a;(G&&"[object DataView]"!=oe(new G(new ArrayBuffer(1)))||Y.a&&"[object Map]"!=oe(new Y.a)||Z&&"[object Promise]"!=oe(Z.resolve())||X.a&&"[object Set]"!=oe(new X.a)||K&&"[object WeakMap]"!=oe(new K))&&(oe=function(e){var t=Object($.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(J.a)(n):"";if(r)switch(r){case Q:return"[object DataView]";case ee:return"[object Map]";case te:return"[object Promise]";case ne:return"[object Set]";case re:return"[object WeakMap]"}return t});var ie=oe,ae=n(986),se=n(1170),ce=1,ue="[object Arguments]",le="[object Array]",de="[object Object]",fe=Object.prototype.hasOwnProperty;var pe=function(e,t,n,o,i,a){var s=Object(P.a)(e),c=Object(P.a)(t),l=s?le:ie(e),d=c?le:ie(t),f=(l=l==ue?de:l)==de,p=(d=d==ue?de:d)==de,v=l==d;if(v&&Object(ae.a)(e)){if(!Object(ae.a)(t))return!1;s=!0,f=!1}if(v&&!f)return a||(a=new r.a),s||Object(se.a)(e)?u(e,t,n,o,i,a):x(e,t,l,n,o,i,a);if(!(n&ce)){var m=f&&fe.call(e,"__wrapped__"),h=p&&fe.call(t,"__wrapped__");if(m||h){var g=m?e.value():e,y=h?t.value():t;return a||(a=new r.a),i(g,y,n,o,a)}}return!!v&&(a||(a=new r.a),W(e,t,n,o,i,a))},ve=n(410);t.a=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Object(ve.a)(t)&&!Object(ve.a)(n)?t!=t&&n!=n:pe(t,n,r,o,e,i))}},1261:function(e,t,n){},1263:function(e,t,n){"use strict";var r=n(6),o=n(1264),i=n.n(o),a=n(4),s=n.n(a),c=n(12),u=n(7),l=n(20),d=n(8),f=n(674),p=n(1266),v=n(15),m=n(22),h=n(1284),g=n.n(h),y=Object(l.a)({resolved:{},chunkName:function(){return"tooltip"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tooltip").then(n.bind(null,271))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 271}}),b=Object(u.a)("user-menu-control"),_={openProfile:f.a.open},w=c.b(function(e){return{config:e.config,clearHistorySuccessPopupShown:e.clearHistorySuccessPopupShown}},_),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._menu=a.createRef(),t._renderTooltip=function(e){var n=t.props.config.promo;return a.createElement(y,{id:"promo",title:n.title,text:n.text,renderControls:function(){return n.url_text&&n.url_title?a.createElement(v.a,{view:"secondary-blue",size:"small",url:n.url_text,target:"_blank"},n.url_title):null},position:"right"},e)},t._renderUserIcon=function(){var e=t.props.config.authorization;return e?a.createElement("div",{className:b("icon"),style:{backgroundImage:"url("+e.imageUrl+")"}}):a.createElement("div",{className:b("icon"),dangerouslySetInnerHTML:{__html:g.a}})},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.config.promo&&(t.config.promo.title||t.config.promo.text),r=t.config.authorization||!1,o=a.createElement(a.Fragment,null,a.createElement(d.a,{name:"menu_control",logClick:!0},a.createElement("div",{ref:this._menu,className:b()},a.createElement(v.a,{view:"air",size:r?"large":"medium",icon:this._renderUserIcon(),onClick:t.openProfile}))),a.createElement(m.a,{isShown:t.clearHistorySuccessPopupShown,position:"bottom",type:"help",onScroll:"close",getTarget:function(){return e._menu.current}},a.createElement("div",{className:b("history-cleared-hint")},"История маршрутов и поисков очищена")),t.config.authorization?null:a.createElement(p.a,null));return n?this._renderTooltip(o):o},t}(a.Component);t.a=w(E)},1264:function(e,t,n){},1266:function(e,t,n){"use strict";var r=n(6),o=(n(1267),n(4)),i=n(12),a=n(108),s=n(21),c=n(15),u=n(8),l=n(7),d=n(128),f=n(140),p=n(79),v=Object(l.a)("suggested-user-view"),m=i.b(function(e){return{url:s.a(Object(p.a)(e),e.config),config:e.config}}),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onClose=function(){var e=n.props.config,t=a.stringify({yu:f.a.get("yandexuid",e)},{addQueryPrefix:!0});Object(d.a)({url:e.hosts.passportApi+"suggested_accounts/close"+t,method:"POST",credentials:"include"}).then(function(){return n._resetSuggestedUser()}).catch(function(){return n._resetSuggestedUser()})},n._resetSuggestedUser=function(){n.setState({user:null})},n.state={user:null},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props.config,n=a.stringify({yu:f.a.get("yandexuid",t)},{addQueryPrefix:!0});Object(d.a)({url:t.hosts.passportApi+"suggested_accounts/show_and_postpone"+n,method:"POST",credentials:"include"}).then(function(t){var n=t&&t.accounts&&t.accounts[0];n&&e.setState({user:n})})},n.render=function(){var e=this,t=this.state.user;if(!t)return null;var n=this.props,r=n.url,i=n.config,s=t.display_name,l=t.uid,d=t.avatar,f=d.empty?void 0:{backgroundImage:"url(//avatars.mds.yandex.net/get-yapic/"+d.default+"/islands-200)"},p=i.passport.url+"/auth"+a.stringify({uid:l,retpath:r,origin:"maps_suggest"},{addQueryPrefix:!0}),m=i.passport.url+"/auth"+a.stringify({mode:"add-user",retpath:r,origin:"maps_suggest"},{addQueryPrefix:!0});return o.createElement(u.a,{name:"suggested_user"},o.createElement("div",{className:v()},o.createElement(u.a,{name:"close",logClick:!0},o.createElement("div",{className:v("close"),onClick:function(){return e._onClose()}})),o.createElement("div",{className:v("group")},o.createElement("div",{className:v("avatar",{empty:d.empty}),style:f}),o.createElement("div",{className:v("display-name")},o.createElement("div",{className:v("login")},s),", ","это вы?")),o.createElement("div",{className:v("group")},o.createElement(u.a,{name:"login_suggested",logClick:!0},o.createElement(c.a,{view:"primary",size:"small",url:p},"Да, войти")),o.createElement(u.a,{name:"login_another",logClick:!0},o.createElement("a",{href:m,className:v("another-account"),target:"_parent"},"Другой аккаунт")))))},t}(o.Component);t.a=m(h)},1267:function(e,t,n){},1269:function(e,t,n){},1271:function(e,t,n){},1273:function(e,t,n){},1275:function(e,t,n){},1277:function(e,t,n){e.exports=n.p+"_/1d977174b325461b1950173f72485cde.svg"},1278:function(e,t,n){e.exports=n.p+"_/a58d92f3a15af43423f3154908182ee3.svg"},1279:function(e,t,n){},128:function(e,t,n){"use strict";var r=n(10),o=n(1238),i=n.n(o),a=n(273),s=n(21),c=a.a.getLogger("requests");function u(e){if(e.ok||e.status>=200&&e.status<300)return e;throw new Error(e.statusText)}t.a=function(e,t){var n=e.query||{};t&&t.query.debug&&(n.debug=t.query.debug);var o=s.x(e.url,n);if(c(JSON.stringify(Object(r.a)(Object(r.a)({},e),{},{signal:void 0}))),e.jsonp)return i()(o).then(u).then(function(e){return e.json()});var a={method:e.method||"GET",mode:e.mode||"cors",credentials:e.credentials||"same-origin",redirect:"follow"};return e.headers&&(a.headers=Object.entries(e.headers)),e.body&&(a.body=e.body),e.signal&&(a.signal=e.signal),window.fetch(o,a).then(u).then(function(t){if("arrayBuffer"===e.parser)return t.arrayBuffer();if("string"===e.parser)return t.text();var n=t.headers.get("Content-Type");return n&&n.includes("application/json")||"json"===e.parser?t.json():t.text()})}},1281:function(e,t,n){},1283:function(e,t,n){e.exports=n.p+"_/c467c7f6b9f09c87cbfd332f54c592c3.svg"},1284:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 7c0 .552.455 1 .992 1h16.016A.993.993 0 0 0 21 7c0-.552-.455-1-.992-1H3.992A.993.993 0 0 0 3 7zm0 5c0 .552.455 1 .992 1h16.016A.993.993 0 0 0 21 12c0-.552-.455-1-.992-1H3.992A.993.993 0 0 0 3 12zm0 5c0 .552.455 1 .992 1h16.016A.993.993 0 0 0 21 17c0-.552-.455-1-.992-1H3.992A.993.993 0 0 0 3 17z" fill="currentColor"/></svg>'},1285:function(e,t,n){"use strict";var r=n(13),o=n(6),i=n(1286),a=n.n(i),s=n(1288),c=n.n(s),u=n(4),l=n.n(u),d=n(12),f=n(7),p=n(17),v=n(20),m=n(453),h=n(9),g=n(23),y=n(8),b=n(15),_=n(255),w=n(1290),E=n(1291),O=n.n(E),S=Object(m.a)(Object(v.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1161))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1161}}),function(e){return e.map.fullReady},{withSideEffect:!0}),j={updateMap:g.a.updateMap},k=Object(p.a)(d.b(function(e){return{isChecked:e.traffic.isLayerEnabled||e.masstransit.isLayerShown||e.panoramas.isLayerEnabled||e.parking.isLayerShown||e.mrc.isLayerEnabled||e.bookmarks.isLayerEnabled&&Boolean(e.config.authorization),type:e.map.type}},j),h.b),C=Object(f.a)("map-layers-control"),T=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._target=u.createRef(),t._renderIcon=function(e){var n=e.checked,r=e.hovered;t.props;return u.createElement("div",{className:C("icon",{checked:n,hovered:r}),dangerouslySetInnerHTML:{__html:w.a}})},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.config.uatraits,o=n.isPhone,i=n.isMobile;return u.createElement(_.a,{isMobile:i},function(n){var i,a=n("layers"),s=a.buttonProps,c=a.popupProps;return u.createElement("div",{className:C()},u.createElement(y.a,{name:"layers_control",logClick:!0},u.createElement(b.a,Object(r.a)({icon:e._renderIcon({hovered:c.isShown,checked:t.isChecked}),view:"air",size:"medium",ref:e._target,checked:t.isChecked,hovered:c.isShown,pinTop:null!==(i=t.pinTop)&&void 0!==i?i:o,pinLeft:!o,noShadow:!0},s))),u.createElement(S,Object(r.a)({getTarget:function(){return e._target.current}},c)))})},t}(u.Component);t.a=k(T)},1286:function(e,t,n){},1288:function(e,t,n){},1290:function(e,t,n){"use strict";var r=n(992),o=n.n(r);n.d(t,"a",function(){return o.a})},1291:function(e,t){},1292:function(e,t,n){"use strict";var r=n(6),o=(n(1293),n(1295),n(4)),i=n(12),a=n(7),s=n(132),c=n(220),u=n(8),l=n(15),d=n(43),f=n(21),p=n(1299),v=n.n(p),m={enablePanoramasLayer:c.a.enableLayer,enablePhotosLayer:s.a.enableLayer,disablePanoramasLayer:c.a.disableLayer,disablePhotosLayer:s.a.disableLayer},h=i.b(function(e){return{config:e.config,mapRegion:e.mapRegion,layer:e.panoramas.isLayerEnabled?"panorama":e.photos.isLayerEnabled?"photo":void 0}},m),g=Object(a.a)("map-panorama-photo-control"),y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._savedLayer="panorama",t._onButtonClick=function(e){e.preventDefault();var n=t.props;if(n.layer)n.disablePanoramasLayer(),n.disablePhotosLayer();else switch(e.preventDefault(),t._savedLayer){case"photo":n.enablePhotosLayer();break;case"panorama":n.enablePanoramasLayer()}},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.layer&&!this.props.layer&&(this._savedLayer=e.layer)},n.render=function(){var e=this.props,t=Boolean(e.layer),n=f.i("streetview",e.mapRegion,e.config),r=e.mapRegion?(function(params){return "Панорамы "+params.genitive;})(e.mapRegion.names):void 0;return o.createElement("div",{className:g({checked:t})},o.createElement(d.a,{text:o.createElement(o.Fragment,null,"Панорамы улиц"," ","и фотографии"),position:"bottom",isAir:!0},o.createElement(u.a,{name:"panorama_control",nodeState:{checked:t},logClick:!0},o.createElement(l.a,{icon:o.createElement("div",{className:g("icon"),dangerouslySetInnerHTML:{__html:v.a}}),view:"air",size:"medium",checked:t,pinLeft:!0,pinRight:!0,onClick:this._onButtonClick,url:n,title:r}))))},t}(o.Component);t.a=h(y)},1293:function(e,t,n){},1295:function(e,t,n){},1297:function(e,t,n){},1299:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm4.21 14.16c3.53-.61 6.79-1.174 6.79-4.146V7a3 3 0 0 0-2.999-3H15.5l.008.143-.01-.001a3.487 3.487 0 0 1-.914 2.22l.549.182A2 2 0 0 1 16.5 8.441v5.492l.423.073c2.13.37 4.077.708 4.077 2.008 0 1.327-1.993 1.655-4.328 2.04l-.853.143a1 1 0 1 0 .341 1.971l.05-.009zM1 16V7a3 3 0 0 1 3-3h4.5l-.008.143.01-.001c.012.286.058.564.134.828-.66.318-1.136.99-1.136 1.805v7.157l-.488.084C4.907 14.376 3 14.702 3 16c0 1.355 2.146 1.701 4.533 2.087l.775.126.13-1.524a.217.217 0 0 1 .027-.084.196.196 0 0 1 .275-.077l4.66 3.019a.214.214 0 0 1-.022.375L8.28 21.983a.194.194 0 0 1-.099.016.208.208 0 0 1-.18-.23l.134-1.554C4.439 19.635 1 19 1 16zm9.316-9.561A1 1 0 0 0 9 7.387v2.406a.5.5 0 0 0 .146.353l.708.708a.5.5 0 0 1 .146.353v3.984a.5.5 0 0 0 .276.447l.924.462.665-2.992c.024-.11.186-.101.197.012l.36 3.59 1.144.573a.3.3 0 0 0 .434-.268v-4.206a.5.5 0 0 1 .276-.447l.448-.224a.5.5 0 0 0 .276-.447v-2.61a1.5 1.5 0 0 0-1.026-1.423l-3.658-1.22z" fill="currentColor"/></svg>'},13:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},1300:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(12),a=n(132),s=n(220),c=n(8),u=n(994),l=n(21),d={enablePanoramasLayer:s.a.enableLayer,enablePhotosLayer:a.a.enableLayer},f=i.b(function(e){return{config:e.config,mapRegion:e.mapRegion,layer:e.panoramas.isLayerEnabled?"panorama":e.photos.isLayerEnabled?"photo":void 0,isPanoramaDisabled:!e.panoramas.isStreetLayerAvailable&&!e.panoramas.isAirLayerAvailable}},d),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onElementClick=function(e){var n=t.props;switch(e){case"photo":n.enablePhotosLayer();break;case"panorama":n.enablePanoramasLayer()}},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return e.layer?o.createElement(c.a,{name:"panorama_switcher"},o.createElement(u.a,{selectedKey:e.layer,items:[{key:"panorama",title:"Панорамы",url:l.i("streetview",e.mapRegion,e.config),disabled:e.isPanoramaDisabled},{key:"photo",title:"Фото",url:l.i("photo",e.mapRegion,e.config)}],onClick:this._onElementClick})):null},t}(o.Component);t.a=f(p)},1301:function(e,t,n){},1303:function(e,t,n){},1305:function(e,t,n){"use strict";n(1306),n(1308);var r=n(4),o=n(12),i=n(7),a=n(23),s=n(8),c=n(15),u=n(43),l=n(457),d=n(1310),f=n.n(d),p={switchRuler:a.a.switchRuler},v=o.b(function(e){return{isEnabled:e.ruler.isEnabled,isBlocked:Object(l.a)(e)}},p),m=Object(i.a)("map-ruler-control");t.a=v(function(e){var t=e.isEnabled,n=e.isBlocked,o=e.switchRuler;return r.createElement("div",{className:m()},r.createElement(u.a,{text:"Линейка",position:"bottom",isDisabled:n,isAir:!0},r.createElement(s.a,{name:"ruler_control",nodeState:{checked:t},logClick:!0},r.createElement(c.a,{icon:r.createElement("div",{className:m("icon"),dangerouslySetInnerHTML:{__html:f.a}}),view:"air",size:"medium",onClick:o,disabled:n,checked:t,pinRight:!0}))))})},1306:function(e,t,n){},1308:function(e,t,n){},1310:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.56 14.363L14.363 3.56a1.91 1.91 0 0 1 2.7 0l3.377 3.376a1.91 1.91 0 0 1 0 2.7L9.636 20.442a1.91 1.91 0 0 1-2.7 0l-3.377-3.377a1.91 1.91 0 0 1 0-2.7zm4.12-.743l1.282-1.282 1.823 1.824a.764.764 0 1 0 1.08-1.082l-1.824-1.822 1.216-1.215 1.148 1.145a.763.763 0 0 0 1.318-.534.765.765 0 0 0-.237-.545l-1.148-1.147 1.282-1.283 1.824 1.824a.764.764 0 0 0 1.08-1.082l-1.825-1.824 1.014-1.012a.478.478 0 1 0-.676-.675L4.91 15.038a.478.478 0 0 0 .675.675l1.012-1.012 1.15 1.146a.764.764 0 1 0 1.08-1.079L7.679 13.62v.001z" fill="currentColor"/></svg>'},1311:function(e,t,n){"use strict";var r=n(10),o=n(13),i=n(6),a=n(1312),s=n.n(a),c=n(1314),u=n.n(c),l=n(4),d=n.n(l),f=n(7),p=n(20),v=n(453),m=n(8),h=n(9),g=n(15),y=n(255),b=n(1316),_=n.n(b),w=Object(v.a)(Object(p.a)({resolved:{},chunkName:function(){return"map-features"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("map-features").then(n.bind(null,1104))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1104}}),function(e){return e.map.fullReady},{withSideEffect:!0}),E=Object(f.a)("map-tools-control"),O=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._target=l.createRef(),t._renderIcon=function(e){var t=e.hovered;return l.createElement("div",{className:E("icon",{hovered:t}),dangerouslySetInnerHTML:{__html:_.a}})},t}return Object(i.a)(t,e),t.prototype.render=function(){var e=this,t=this.props;return l.createElement(y.a,null,function(n){var i=n("tools"),a=i.buttonProps,s=i.popupProps;return l.createElement("div",{className:E()},l.createElement(m.a,{name:"tools_control",nodeState:{hovered:s.isShown},logClick:!0},l.createElement(g.a,Object(o.a)({icon:e._renderIcon({hovered:s.isShown}),view:"air",size:"medium",ref:e._target,hovered:s.isShown,pinLeft:!t.showRuler,noShadow:!0},a))),l.createElement(w,{popupProps:Object(r.a)(Object(r.a)({},s),{},{getTarget:function(){return e._target.current},position:"bottom-left",restrictPosition:!0,type:"transparent",offset:{main:12,side:-20},showArrow:!1}),onContentClick:s.onClose,showRuler:t.showRuler}))})},t}(l.Component);t.a=Object(h.b)(O)},1312:function(e,t,n){},1314:function(e,t,n){},1316:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill="currentColor"/><path d="M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill="currentColor"/><path d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" fill="currentColor"/></svg>'},1317:function(e,t,n){"use strict";var r=n(6),o=n(10),i=(n(1318),n(4)),a=n(12),s=n(7),c=n(109),u=n(16),l=n(15),d=n(43),f=n(8),p=n(58),v=n(21),m=n(17),h=n(9),g=n(1320),y=n.n(g),b={toggleLayer:c.a.toggleLayer,loadLayerRegions:c.a.loadLayerRegions,updateLayerAvailability:c.a.updateLayer},_=Object(m.a)(a.b(function(e){var t=u.h(e,"masstransit");return Object(o.a)(Object(o.a)({},e.masstransit),{},{masstransitMode:t&&t.masstransitMode,mode:u.d(e),region:e.mapRegion,mapLocation:e.map.location})},b),h.b),w=Object(s.a)("masstransit-control"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._checkLayerAvailability=function(){var e=t.props,n=Object(p.B)(e.mapLocation.bounds,e.layerRegions),r=n&&!Object(p.z)(e.mapLocation.zoom);e.isLayerEnabled===n&&e.isLayerEnabledOnAnotherZoom===r||e.updateLayerAvailability({isLayerEnabled:n,isLayerEnabledOnAnotherZoom:r})},t._onMouseEnter=function(){t.props.layerRegions||t.props.loadLayerRegions(),t._checkLayerAvailability()},t._onClick=function(e){e.preventDefault(),t.props.toggleLayer()},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.layerRegions&&(void 0!==e.layerRegions&&this.props.mapLocation===e.mapLocation||this._checkLayerAvailability())},n._renderContent=function(){var e,t,n,r,o,a=this.props;a.regionInfo?o=v.k(a.regionInfo.parentRegion||a.regionInfo,a.config):a.region&&(o=v.k(a.region,a.config));var s="Движущийся транспорт";return i.createElement("div",{className:w({checked:a.isLayerShown})},i.createElement(f.a,{name:"masstransit_control",nodeState:{checked:a.isLayerShown,mode:a.mode},logClick:!0},i.createElement(l.a,{view:"air",size:"medium",pinTop:null!==(e=a.pinTop)&&void 0!==e&&e,pinLeft:null===(t=a.pinLeft)||void 0===t||t,pinRight:null===(n=a.pinRight)||void 0===n||n,pinBottom:null!==(r=a.pinBottom)&&void 0!==r&&r,icon:i.createElement("div",{className:w("icon"),dangerouslySetInnerHTML:{__html:y.a}}),onClick:this._onClick,checked:a.isLayerShown,onMouseEnter:this._onMouseEnter,url:o,title:s})))},n.render=function(){var e=this.props,t=e.isLayerShown&&e.isLayerEnabledOnAnotherZoom?"Увеличьте масштаб, чтобы увидеть движущийся транспорт":e.isLayerShown&&!e.isLayerEnabled?"Нет информации о движении автобусов в этой области карты":"Движущийся транспорт";return i.createElement(d.a,{text:t,position:"bottom",isAir:!0},this._renderContent())},t}(i.Component);t.a=_(E)},1318:function(e,t,n){},132:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("photos").then(n.bind(null,1406))},{enableLayer:!0,disableLayer:!0,show:!0,showCustomPhotos:!0,setSelectedId:!0,showAddPhotosForm:!0,hideAddPhotosForm:!0,addReviewedOrganization:!0})},1320:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.286 5.77c0-1.376.939-2.57 2.3-2.778A36.444 36.444 0 0 1 12 2.572c2.117 0 4.026.209 5.415.42 1.36.208 2.3 1.402 2.3 2.779V6H20a1 1 0 0 1 1 1v2.75a1 1 0 0 1-.445.833l-.84.56v9.286a1 1 0 0 1-1 1h-1.648a1 1 0 0 1-.97-.758l-.24-.957H8.143l-.24.957a1 1 0 0 1-.97.758H5.287a1 1 0 0 1-1-1V11.143l-.84-.56A1 1 0 0 1 3 9.75V7a1 1 0 0 1 1-1h.286v-.23zm2.919-.533C6.479 5.397 6 6.052 6 6.795v3.877c0 .803.56 1.481 1.359 1.561.963.097 2.473.196 4.641.196s3.678-.099 4.641-.196c.799-.08 1.359-.758 1.359-1.561V6.795c0-.743-.48-1.398-1.205-1.558A22.654 22.654 0 0 0 12 4.714c-2.006 0-3.72.286-4.795.523zM9 16.071a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm9 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" fill="currentColor"/></svg>'},1321:function(e,t,n){"use strict";var r=n(6),o=(n(1322),n(4)),i=n(12),a=n(7),s=n(109),c=n(8),u=n(197),l=n(15),d=n(43),f={toggleFilterLayer:s.a.toggleFilterLayer},p=i.b(function(e){return{isFilterLayerEnabled:e.masstransit.isFilterLayerEnabled}},f),v=Object(a.a)("masstransit-filter-layer-control"),m=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return o.createElement(d.a,{text:e.isFilterLayerEnabled?"На карте будет показан весь транспорт":"На карте останутся только сохранённые маршруты",position:"bottom",size:"s",isAir:!0},o.createElement(c.a,{name:"masstransit_filter_layer_control",nodeState:{checked:e.isFilterLayerEnabled},logClick:!0},o.createElement(l.a,{view:"air",size:"medium",onClick:e.toggleFilterLayer},o.createElement(u.a,{checked:e.isFilterLayerEnabled,label:o.createElement("div",{className:v("text"),onClick:function(e){return e.stopPropagation()}},"Мой транспорт")}))))},t}(o.Component);t.a=p(m)},1322:function(e,t,n){},1324:function(e,t,n){},1326:function(e,t,n){"use strict";var r=n(6),o=(n(1327),n(4)),i=n(12),a=n(7),s=n(8),c=n(15),u=n(43),l=n(345),d=n(1329),f=n.n(d),p={enableLayer:l.a.enableLayer,disableLayer:l.a.disableLayer},v=i.b(function(e){return{isLayerEnabled:e.mrc.isLayerEnabled,zoom:e.map.location.zoom,config:e.config}},p),m=Object(a.a)("mrc-control"),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._target=o.createRef(),t._isLayerAvailable=function(){var e=t.props,n=e.config.layers.mrc,r=n&&n.zoomRange&&n.zoomRange[0]||0;return e.zoom>=r},t._getHintText=function(){var e=t.props;return t._isLayerAvailable()?"Зеркала":e.isLayerEnabled?"Приблизьте карту, чтобы увидеть Зеркала":"Зеркала можно включить только на крупных масштабах карты"},t._onClick=function(){t.props.isLayerEnabled?t.props.disableLayer():t.props.enableLayer()},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this._isLayerAvailable();return o.createElement("div",{className:m()},o.createElement(u.a,{force:e.isLayerEnabled&&!t,text:this._getHintText(),position:"bottom",isAir:!0,hideOnClick:!1,isNeededOnMobile:!0},o.createElement(s.a,{name:"mrc_control",nodeState:{checked:e.isLayerEnabled},logClick:!0},o.createElement(c.a,{icon:o.createElement("div",{className:m("icon"),dangerouslySetInnerHTML:{__html:f.a}}),view:"air",size:"medium",onClick:this._onClick,disabled:!t&&!e.isLayerEnabled,checked:e.isLayerEnabled,pinRight:!0,pinLeft:!0,ref:this._target}))))},t}(o.Component);t.a=v(h)},1327:function(e,t,n){},1329:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.402 2.5h15.196a3 3 0 0 0-1.236-1.173C17.72 1 16.88 1 15.2 1H8.8c-1.68 0-2.52 0-3.162.327A3 3 0 0 0 4.402 2.5z" fill="currentColor"/><path d="M3.5 5.5h17a3 3 0 0 0-1.236-1.173C18.622 4 17.782 4 16.102 4H7.898c-1.68 0-2.52 0-3.162.327A3 3 0 0 0 3.5 5.5z" fill="currentColor"/><path d="M10.5 14.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 11.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C4.28 7 5.12 7 6.8 7h10.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C22 9.28 22 10.12 22 11.8v5.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C19.72 22 18.88 22 17.2 22H6.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C2 19.72 2 18.88 2 17.2v-5.4zm3.25-2.3a.75.75 0 1 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5zm3.75 5a4.5 4.5 0 1 0 9 0 4.5 4.5 0 0 0-9 0z" fill="currentColor"/></svg>'},1330:function(e,t,n){"use strict";var r=n(6),o=n(1331),i=n.n(o),a=n(1333),s=n.n(a),c=n(4),u=n.n(c),l=n(12),d=n(7),f=n(581),p=n(2786),v=n(594),m=n(20),h=n(453),g=n(595),y=n(22),b=Object(m.a)({resolved:{},chunkName:function(){return"tilt-rotate-control"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tilt-rotate-control").then(n.bind(null,1105))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1105}},{ssr:!1}),_=Object(h.a)(Object(m.a)({resolved:{},chunkName:function(){return"lang-switcher"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("lang-switcher").then(n.bind(null,637))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 637}}),function(e){return e.config.availableLangs.length>1}),w=Object(h.a)(Object(m.a)({resolved:{},chunkName:function(){return"indoor"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("indoor").then(n.bind(null,1185))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1185}},{ssr:!1}),function(e){return e.config.isVectorEnabled}),E=Object(h.a)(Object(m.a)({resolved:{},chunkName:function(){return"tilt-rotate-control"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tilt-rotate-control").then(n.bind(null,1106))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1106}},{ssr:!1}),function(e){return e.config.isVectorEnabled&&Boolean(e.config.experiments.ui.ymaps3MapRotate)&&!e.config.uatraits.isTouch}),O=Object(h.a)(Object(m.a)({resolved:{},chunkName:function(){return"tilt-rotate-control"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tilt-rotate-control").then(n.bind(null,1107))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1107}},{ssr:!1}),function(e){return e.config.isVectorEnabled&&Boolean(e.config.experiments.ui.ymaps3MapRotate)&&Boolean(e.config.uatraits.isTouch)}),S=l.b(function(e){var t,n,r;return{searchText:e.form.text,mapLocation:e.map.location,mapType:e.map.type,config:e.config,showMrcPedestrianInfoPopup:e.mrc.isLayerEnabled&&"pedestrian"===e.mrc.graphType&&e.map.location.zoom<(null!==(t=null===(n=e.config.layers.mrcpe)||void 0===n?void 0:null===(r=n.zoomRange)||void 0===r?void 0:r[0])&&void 0!==t?t:0)}}),j=Object(d.a)("map-controls-view"),k={main:0,side:-20},C=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._zoomControlRef=c.createRef(),t._renderMrcPopup=function(){var e=t.props;return c.createElement(y.a,{isShown:e.showMrcPedestrianInfoPopup,getTarget:function(){return t._zoomControlRef.current},type:"tooltip",position:"left",offset:k},c.createElement(g.a,{title:"Приблизьте карту,\nчтобы увидеть снимки"}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.config.uatraits.isTouch;return c.createElement("div",{className:j()},c.createElement("div",{className:j("navigation-controls")},c.createElement("div",{className:j("top-slot")},c.createElement("div",{className:j("indoor-control")},c.createElement(w,null))),c.createElement("div",{className:j("main-controls")},t?c.createElement("div",{className:j("control-group")},c.createElement(O,null)):null,c.createElement("div",{className:j("control-group")},c.createElement("div",{className:j("zoom-control"),ref:this._zoomControlRef},c.createElement(v.a,null)),this._renderMrcPopup()),c.createElement("div",{className:j("control-group")},c.createElement("div",{className:j("geolocation-rotate-control")},c.createElement(b,null))),t?null:c.createElement("div",{className:j("control-group")},c.createElement("div",{className:j("tilt-rotate-control")},c.createElement(E,null)))),c.createElement("div",{className:j("bottom-placeholder")})),c.createElement("div",{className:j("controls-layout")},e.noLangSwitcher?null:c.createElement("div",{className:j("lang-layout")},c.createElement(_,null)),e.noLogo?null:c.createElement("div",{className:j("logo-layout")},c.createElement(f.a,{searchText:e.searchText,isNegative:"map"!==e.mapType}))),c.createElement("div",{className:j("scale-line")},c.createElement(p.a,{center:e.mapLocation.center,zoom:e.mapLocation.zoom})))},t}(c.PureComponent);t.a=S(C)},1331:function(e,t,n){},1333:function(e,t,n){},1335:function(e,t,n){},1337:function(e,t,n){},1339:function(e,t,n){},1341:function(e,t,n){},1343:function(e,t){},1344:function(e,t,n){},1346:function(e,t,n){},1348:function(e,t){},1349:function(e,t,n){},1351:function(e,t,n){},1353:function(e,t,n){},1355:function(e,t){},1356:function(e,t,n){"use strict";var r=n(4),o=n(12),i=n(1e3),a=n(8),s=n(92),c=n(15),u={openActual:i.a.open},l=o.b(null,u);t.a=l(function(e){return r.createElement(a.a,{name:"corona_control",logClick:!0},r.createElement(c.a,{view:"air",size:"medium",icon:r.createElement(s.a,{name:"covid19",size:24,inline:!0}),onClick:function(){return e.openActual()}},"Актуальное"))})},1357:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n(16),o=n(315),i=["traffic","panoramas","mrc","masstransit","layers","ruler","tools","user"],a={traffic:function(){return!0},panoramas:function(e){return e>=284},mrc:function(e){return e>=324},masstransit:function(e){return e>=364},layers:function(){return!0},ruler:function(e){return e>=404},tools:function(){return!0},user:function(){return!0}};function s(e){var t=r.n(e)?o.a.narrow:0;return e.map.size.width-t}function c(e){var t=s(e);return i.filter(function(e){return a[e](t)})}},1358:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n.n(o),a=n(12),s=n(20),c=n(140),u=n(9),l=n(17),d=n(23),f=n(16),p=n(1359),v=n.n(p),m=n(662),h=n(0),g=n(8),y=Object(s.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,1178))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1178}}),b=Object(s.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,1108))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1108}}),_={setPromoType:d.a.setPromoType,onRepaint:d.a.setBodyIndents},w=70,E=Object(l.a)(a.b(function(e){var t=f.h(e,"panoramas"),n=f.h(e,"photos");return{type:e.promoType,shouldShow:!t&&!n&&!f.m(e.config),mapReady:e.map.fullReady,mode:f.d(e)}},_),u.b),O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onInterstitialShow=function(){c.a.set(m.a.interstitial,"1",{path:n.props.config.baseUrl,expires:30})},n._onMobileBannerShow=function(){n.props.onRepaint({top:w}),c.a.set(m.a.mobileBanner,"1",{path:n.props.config.baseUrl,expires:14})},n._onMobileBannerClose=function(){"mobileBanner"===n.props.type&&n.props.onRepaint(null),n._onClose()},n._onClose=function(e){void 0===e&&(e={}),e.forever&&h.a.set("no_distribution",!0),n.props.setPromoType(null)},n._renderInterstitial=function(){return o.createElement(v.a,{onShow:n._onInterstitialShow,onClose:n._onClose})},n._renderMobileBanner=function(){return o.createElement(y,{onShow:n._onMobileBannerShow,onClose:n._onMobileBannerClose})},n._renderDistribution=function(){var e=n.props;return!e.mapReady||e.config.query.covid?null:o.createElement(g.a,{name:"distribution_stripe",nodeState:{mode:e.mode},logClick:!0},o.createElement(b,{onRepaint:e.onRepaint}))},n._renderContent=function(){switch(n.props.type){case"interstitial":return n._renderInterstitial();case"mobileBanner":return n._renderMobileBanner();case"daas":return n._renderDistribution();default:return null}},n.state={noDistribution:!0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({noDistribution:Boolean(h.a.get("no_distribution"))})},n.render=function(){var e=this.props;return this.state.noDistribution||!e.shouldShow||e.config.query.webview?null:this._renderContent()},t}(o.PureComponent);O.displayName="PromoManagerComponent",t.a=E(O)},1359:function(e,t){},1360:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(12),a=n(8),s=i.b(function(e){var t=e.loadingErrors;return{config:e.config,loadingErrors:t}}),c=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return this.props.loadingErrors.map(function(e){return o.createElement(a.a,{name:"loading_error",key:e,nodeState:{message:e}})})},t}(o.Component);c.displayName="ErrorComponent",t.a=s(c)},1361:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(12),a=n(37),s=n(79),c=n(21),u=n(962),l=n(8),d=n(30),f=n(23),p={apply:a.a.apply,updateSearchText:f.a.updateSearchText},v=i.b(function(e){return{url:c.a(Object(s.a)(e),e.config),config:e.config}},p),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._unsubscribeHistory=function(){},t._analyticsRef=o.createRef(),t._applyFormText=function(e){var n,r=t.props,o=d.i(e.stack),i=Boolean(null===(n=e.prevStackItem)||void 0===n?void 0:n.formText);o?r.updateSearchText(o):"backward"===e.direction&&i&&r.updateSearchText("")},t._onPopState=function(e){var n,r=e.direction,o=e.state,i=e.stack,a=t.props;a.apply(i),t._applyFormText(e),t._analyticsRef.current&&t._analyticsRef.current.logEvent("pop_state",{direction:r,from:a.url,to:o&&o.url}),null===(n=window.document.activeElement)||void 0===n||n.blur()},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){u.a(this.props.url),this._unsubscribeHistory=u.c(this._onPopState)},n.componentWillUnmount=function(){this._unsubscribeHistory()},n.render=function(){return o.createElement(l.a,{name:"history",nodeRef:this._analyticsRef})},t}(o.Component);m.displayName="HistoryComponent",t.a=v(m)},1362:function(e,t,n){"use strict";var r=n(6),o=n(10),i=n(1363),a=n.n(i),s=n(4),c=n.n(s),u=n(12),l=n(7),d=n(17),f=n(20),p=n(9),v=n(116),m=n(114),h=n(30),g=n(663),y=n(23),b=n(2783),_=n(1394),w=n.n(_),E=n(16),O=n(121),S=n(37),j=n(1395),k=Object(f.a)({resolved:{},chunkName:function(){return"emergency"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("emergency").then(n.bind(null,166))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 166}},{ssr:!1}),C={updateText:y.a.updateSearchText,reduceStackByLastMode:y.a.reduceStackByLastMode,close:S.a.close,openClearHistoryDialog:y.a.openClearHistoryDialog,setSearchFormType:y.a.setSearchFormType,openHomePanel:y.a.openHomePanel,reset:S.a.reset,setHeaderFocus:y.a.setHeaderFocus,closeWhatsherePreview:O.a.closeWhatsherePreview,hideClearHistorySuccessPopup:y.a.hideClearHistorySuccessPopup,setForceOpenSuggest:y.a.setForceOpenSuggest},T=Object(d.a)(u.b(function(e){var t,n,r=e.form,i=e.search,a=E.d(e),s=E.g(e,"usermaps"),c=E.g(e,"search"),u=E.h(e,"search"),l=E.h(e,"routes"),d=E.h(e,"traffic"),f=E.h(e,"masstransit"),p=r.text,v=l&&(null===(t=l.routerResponse)||void 0===t?void 0:null===(n=t.routes[l.activeRouteIndex])||void 0===n?void 0:n.coordinates),m=["home","traffic","masstransit"].includes(a),y=(p||!m||d&&d.currentTrafficEvent||f&&f.masstransitMode)&&!(l&&l.routerResponse&&(l.routerResponse.routes[l.detailedIndex]||E.h(e,"feedback"))),b=(!e.homePanel.isOpen||"home"!==a||"nearby"!==r.formType.id)&&""===p,_=E.n(e),w=(E.g(e,a),0===e.stack.length),O=u&&"TEXT"===u.request.searchType,S="home"===a?e.homePanel.isOpen:"masstransit"===a?a===E.b(e)&&!f:a===E.b(e);return Object(o.a)(Object(o.a)({},r),{},{mode:a,showClose:Boolean(y),showBack:e.stack.length>1&&!0,isCollapsed:_,isLoading:Boolean(i.loadingRequest),isEmptyStack:w,isHomePanelOpen:S,isSerpOpen:O,initialAutoFocusEnabled:h.B(e),shouldForceOpenSuggest:e.shouldForceOpenSuggest,showCatalogIcons:b,isTextChanged:p!==h.u(c),routeCoordinates:v,routesIsLoading:Boolean(l&&l.isLoading),clearHistorySuccessPopupShown:e.clearHistorySuccessPopupShown,isInputFocused:e.isHeaderFocused,hasSearchInPrevStack:E.j(e,"search"),isUsermaps:Boolean(s.length),placeholder:h.q(e),headerHeight:g.b(e,{real:!0}),blockingHeaderHeight:g.b(e),shutterMarginTop:E.f(e),showInput:g.c(e),isCovid:"covid"===a,notifications:e.notifications,isWide:Boolean(E.o(e)&&!_)})},C),p.b,v.b),I=Object(l.a)("header-view"),R=function(e){function t(t){var n;(n=e.call(this,t)||this)._onMapViewportUpdate=function(e){n.state.bottom!==e.bottom&&n.setState({bottom:e.bottom})},n._onPinClick=function(){var e=n.props;e.isHomePanelOpen||e.openHomePanel()},n._onBackClick=function(){n.props.close()},n._onCloseClick=function(){n.props.reduceStackByLastMode()},n._onFocus=function(){n.props.setHeaderFocus(!0)},n._onBlur=function(){var e=n.props;e.setHeaderFocus(!1),e.setSearchFormType({id:"common"})},n._onInputChange=function(e,t){n.props.updateText(e),t&&"clear"===t.reason&&n.props.reset()},n._renderMainLayout=function(e){var t=n.props;if(!t.showInput)return null;if(t.isCovid)return s.createElement("div",{className:I("main-layout")},s.createElement(j.a,null));var r=!(!t.initialAutoFocusEnabled||t.config.uatraits.isMobile);return s.createElement("div",{className:I("main-layout")},s.createElement("div",{className:I("form-layout")},s.createElement("div",{className:I("search",{upper:t.isCollapsed||t.isEmptyStack})},s.createElement(b.a,{text:t.text,onInputChange:n._onInputChange,inactive:t.inactive,isTextChanged:t.isTextChanged,initialFocus:r,showCatalogIcons:t.showCatalogIcons,placeholder:t.placeholder,showClear:e,isFocused:t.isInputFocused,isLoading:t.isLoading,shouldForceOpenSuggest:t.shouldForceOpenSuggest,setForceOpenSuggest:t.setForceOpenSuggest,onBlur:n._onBlur,onFocus:n._onFocus,onPinClick:n._onPinClick,onBackClick:t.showBack?n._onBackClick:void 0,onCloseClick:t.showClose?n._onCloseClick:void 0,hideRouteButton:"routes"===t.mode,hasSearchInPrevStack:t.hasSearchInPrevStack}))))};var r="undefined"!=typeof window?window.document.querySelector("."+I()+" .search-form-view input"):null;return n._initialSearchText=r&&r.value||"",n.state={bottom:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;this._initialSearchText&&this._initialSearchText!==e.text&&e.updateText(this._initialSearchText),e.text&&m.n({text:e.text},e.config),e.addLayoutListener(this._onMapViewportUpdate)},n.componentDidUpdate=function(e){this.props},n.componentWillUnmount=function(){this.props.removeLayoutListener(this._onMapViewportUpdate)},n.render=function(){var e=this.state,t=this.props,n=(t.config,null!==t.bodyHeight&&0===t.blockingHeaderHeight?Math.min(t.bodyHeight-t.headerHeight-(e.bottom+t.shutterMarginTop),0):0),r="home"===t.mode;return s.createElement("div",{className:I({noprint:!0,wide:t.isWide}),style:{transform:"translateY("+n+"px)"}},this._renderMainLayout(!1),r&&t.notifications&&0!==t.notifications.length?s.createElement(k,{notifications:t.notifications,view:"stripe"}):null)},t}(s.PureComponent);t.a=T(R)},1363:function(e,t,n){},1365:function(e,t,n){},1367:function(e,t,n){},1369:function(e,t,n){},1371:function(e,t,n){},1373:function(e,t,n){},1375:function(e,t,n){},1377:function(e,t,n){},1379:function(e,t,n){},1381:function(e,t,n){},1383:function(e,t,n){},1386:function(e,t,n){},1388:function(e,t,n){},139:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("bookmarks").then(n.bind(null,1403))},{initPlacesManager:!0,initBookmarksManager:!0,openPanel:!0,setActiveItem:!0,setActiveFolder:!0,setHighlightedBookmark:!0,setSearchResult:!0,addBookmark:!0,removeBookmark:!0,addPlaceImmediate:!0,startAction:!0,cancelAction:!0,moveBookmark:!0,renameBookmark:!0,moveBookmarkToNewFolder:!0,removeFolder:!0,renameFolder:!0,updateFolderTags:!0,createFolder:!0,removePlace:!0,addPlace:!0,editPlace:!0,closeActionError:!0,restoreFromUrl:!0,showLayer:!0,hideLayer:!0,toggleLayer:!0,changeTab:!0,updateViewBookmarkItem:!0,commentBookmark:!0,updateActiveFolder:!0})},1390:function(e,t,n){},1392:function(e,t){},1393:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1a9.002 9.002 0 0 0-6.366 15.362c1.63 1.63 5.466 3.988 5.693 6.465.034.37.303.673.673.673.37 0 .64-.303.673-.673.227-2.477 4.06-4.831 5.689-6.46A9.002 9.002 0 0 0 12 1zm0 12.079a3.079 3.079 0 1 1 0-6.158 3.079 3.079 0 0 1 0 6.158z" fill="currentColor"/></svg>'},1394:function(e,t){},1395:function(e,t,n){"use strict";var r=n(6),o=(n(1396),n(4)),i=n(12),a=n(16),s=n(7),c=n(8),u=n(36),l=n(15),d=i.b(function(e){var t=a.h(e,"covid");return{isIsolation:Boolean(t&&t.isolation),config:e.config}}),f=Object(s.a)("embed-header-view"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getUrl=function(){var e=t.props;return e.config.hosts.maps+(e.config.query.embed?e.isIsolation?"covid19/isolation":"covid19":"")},t._renderButton=function(){return o.createElement("div",{className:f("button")},o.createElement(c.a,{name:"embed_button",logClick:!0},o.createElement(l.a,{view:"air",size:"medium",url:t._getUrl(),target:"_blank",icon:o.createElement("div",{className:f("icon")})},"Открыть в Яндекс.Картах")))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;if("covid-map"===e.config.query.embed)return e.config.query["embed-hide-maps-button"]?null:this._renderButton();var t=u.b({type:"black",lang:e.config.lang});return o.createElement("div",{className:f()},o.createElement(c.a,{name:"embed_header",logClick:!0},o.createElement("a",{className:f("wrapper"),href:this._getUrl(),target:"_blank"},o.createElement("div",{className:f("icon")}),o.createElement("div",{className:f("logo"),style:{backgroundImage:"url("+t+")"}}))))},t}(o.Component);t.a=d(p)},1396:function(e,t,n){},1398:function(e,t,n){},140:function(e,t,n){"use strict";function r(e){var t={};return""===e?t:(e.split(/\s*;\s*/).forEach(function(e){var n=e.split("="),r=n[0],o=n[1];try{t[decodeURIComponent(r)]=decodeURIComponent(o)}catch(i){}}),t)}var o="undefined"!=typeof window?r(window.document.cookie):void 0,i={get:function(e,t){var n=null!=o?o:r(t.serverCookie||"");return e in n?n[e]:void 0},set:function(e,t,n){if(!o)throw new Error("You cannot set cookie on server");var r=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n){var i=n.expires;if(i)r+=";expires="+(i instanceof Date?i:new Date(Date.now()+1e3*Number(i)*60*60*24)).toUTCString();n.domain&&(r+=";domain="+n.domain),n.path&&(r+=";path="+n.path),n.secure&&(r+=";secure")}o[e]=t,window.document.cookie=r},remove:function(e,t){void 0===t&&(t={});var n={path:t.path,domain:t.domain,expires:new Date(0)};i.set(e,"",n)}};t.a=i},1400:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[u++]=r<<2|o>>4,d[u++]=(15&o)<<4|i>>2,d[u++]=(3&i)<<6|63&a;return l}}()},141:function(e,t,n){"use strict";var r=n(10),o={getNetworkTiming:function(){var e=window.performance&&window.performance.timing;return e?i({wait:e.domainLookupStart-e.navigationStart,redirect:e.redirectEnd-e.redirectStart,dns:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,ttfb:e.responseStart-e.connectEnd,html:e.responseEnd-e.responseStart}):{}},getBrowserTiming:function(){var e={},t=window.performance&&window.performance.getEntriesByType?window.performance.getEntriesByType("paint"):[],n=t.find(function(e){return"first-paint"===e.name}),r=t.find(function(e){return"first-contentful-paint"===e.name});n&&(e.firstPaint=Math.round(n.startTime)),r&&(e.firstContentfulPaint=Math.round(r.startTime));var o=window.timingsMarks;o&&(e.secondChunkStart=o.secondChunkStart,e.secondChunkEnd=o.secondChunkEnd,o.secondChunkStart&&o.secondChunkEnd&&(e.htmlParsingDuration=o.secondChunkEnd-o.secondChunkStart));var a=window.performance&&window.performance.timing;return a&&(a.loadEventEnd&&(e.loadEnd=a.loadEventEnd-a.responseEnd),e.domInteractive=a.domInteractive-a.responseEnd,a.domComplete&&(e.domComplete=a.domComplete-a.responseEnd)),i(e)},getResourcesTimings:function(e){return window.performance&&"getEntriesByType"in window.performance?window.performance.getEntriesByType("resource").filter(function(t){return e(t.name)}):[]},getFirstFormattedTiming:function(e){var t=o.getResourcesTimings(e)[0];return t?i({loadStart:t.startTime,loadEnd:t.responseEnd,requestDuration:t.responseStart-t.requestStart,responseDuration:t.responseEnd-t.responseStart,cacheHit:0===t.transferSize?1:0,size:t.encodedBodySize/1024,realSize:t.decodedBodySize/1024}):null},getTimeToNow:function(){return window.performance?Math.round(window.performance.now()):void 0}};function i(e){return Object.entries(e).reduce(function(e,t){var n,o=t[0],i=t[1];return"number"==typeof i?Object(r.a)(Object(r.a)({},e),{},((n={})[o]=Math.round(i),n)):e},{})}t.a=o},1412:function(e,t,n){},142:function(e,t,n){"use strict";var r=n(454),o=n(6),i=n(4),a=n(84),s=n.n(a),c=n(60),u=n(2798),l=n(184),d=n(1018),f=n(17),p={onClick:"click",onFastClick:"fastclick",onTouchEnd:"touchend",onDoubleClick:"dblclick",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseUp:"mouseup",onMouseDown:"mousedown",onMouseMove:"mousemove"},v=Object(f.a)(d.b,Object(c.b)({shouldWait:!0})),m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handlers={},n._getFeature=function(){return{type:"Feature",id:n._id,geometry:n.props.geometry}},n._addHandler=function(e,t,r){n._handlers[e]=function(e,t,o){e&&"feature"===e.type&&e.feature.id===n._id&&r(o,t)},n.props.map.events.on(p[e],t,n._handlers[e])},n._removeHandler=function(e,t){n.props.map.events.off(p[e],t,n._handlers[e]),delete n._handlers[e]},n._id=s.a.v4(),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props;t.map.addFeature(this._dataSourceId,this._getFeature(),t.drawingStyle,t.parentGroupId),Object.keys(p).forEach(function(n){t[n]&&e._addHandler(n,e._dataSourceId,t[n])})},n.componentDidUpdate=function(e){var t=this,n=this.props,r=e.dataSourceId?e.dataSourceId:l.d.DEFAULT_GRAPHICS;r!==this._dataSourceId?(n.map.removeFeatureById(r,this._id),n.map.addFeature(this._dataSourceId,this._getFeature(),n.drawingStyle,n.parentGroupId)):((!Object(u.a)(e.drawingStyle,n.drawingStyle)||!Object(u.a)(e.geometry,n.geometry))&&n.map.updateFeature(this._dataSourceId,this._getFeature(),n.drawingStyle),e.parentGroupId!==n.parentGroupId&&n.map.moveFeatureToGroup(this._dataSourceId,this._getFeature().id,n.parentGroupId));Object.keys(p).forEach(function(o){n[o]===e[o]&&r===t._dataSourceId||(e[o]&&t._removeHandler(o,r),n[o]&&t._addHandler(o,t._dataSourceId,n[o]))})},n.componentWillUnmount=function(){var e=this;Object.keys(this._handlers).forEach(function(t){return e._removeHandler(t,e._dataSourceId)}),this.props.map.removeFeatureById(this._dataSourceId,this._id)},n.render=function(){return null},Object(r.a)(t,[{key:"_dataSourceId",get:function(){return this.props.dataSourceId||l.d.DEFAULT_GRAPHICS}}]),t}(i.PureComponent);t.a=v(m)},145:function(e,t,n){"use strict";var r=n(444),o=n(410),i="[object Arguments]";var a=function(e){return Object(o.a)(e)&&Object(r.a)(e)==i},s=Object.prototype,c=s.hasOwnProperty,u=s.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return Object(o.a)(e)&&c.call(e,"callee")&&!u.call(e,"callee")};t.a=l},146:function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return a}),n.d(t,"s",function(){return c}),n.d(t,"h",function(){return s}),n.d(t,"q",function(){return f}),n.d(t,"p",function(){return u}),n.d(t,"o",function(){return d}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return y}),n.d(t,"k",function(){return b}),n.d(t,"n",function(){return _}),n.d(t,"r",function(){return w}),n.d(t,"j",function(){return S}),n.d(t,"m",function(){return j}),n.d(t,"l",function(){return k}),n.d(t,"i",function(){return C});var r=n(10),o={events:1.5},i={events:function(e){return e.replace(/\/(%s|orig)/,"/336x504")}};function a(e){return e.filter(u).map(function(e){return"date"===e.type?e.id+":"+e.dateFrom.replace(/-/g,"")+(e.dateTo?"-"+e.dateTo.replace(/-/g,""):""):"boolean"!==e.type&&l(e)?e.id+":"+s(e).join(","):e.id+":1"})}function s(e){return e.values.filter(function(e){return e.selected}).map(function(e){return e.id})}function c(e){return[].concat(e.values).sort(function(e,t){return e.name.localeCompare(t.name)})}function u(e){return"boolean"===e.type?function(e){return e.selected}(e):"enum"===e.type||"pictured"===e.type?l(e):"date"===e.type&&function(e){return Boolean(e.dateFrom&&(!e.isRange||e.dateTo))}(e)}function l(e){return e.values.some(function(e){return Boolean(e.selected)})}function d(e,t){var n=e.values.find(function(e){return e.id===t});return Boolean(n&&n.selected)}function f(e){return"pictured"===e.type}function p(e,t,n){var o=t.values;return h(e,t,Object(r.a)(Object(r.a)({},t),{},{values:o.map(function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:n.includes(e.id)})})}))}function v(e,t,n){return h(e,t,Object(r.a)(Object(r.a)({},t),{},{selected:n}))}function m(e,t,n,o){return h(e,t,Object(r.a)(Object(r.a)({},t),{},{dateFrom:n,dateTo:o}))}function h(e,t,n){return e.map(function(e){return e.id===t.id?n:e})}function g(e,t){var n=i[e];return n?n(t):t}function y(e){return o[e]||1}function b(e){return"boolean"===e.type}function _(e){return"enum"===e.type}function w(e){return!S(e)}var E="alternate_vertical",O="Collections";function S(e){return _(e)&&e.id===E}function j(e){return S(e)&&e.values.some(function(e){return e.id===O})}function k(e){var t=null==e?void 0:e.find(j);return Boolean(t&&d(t,O))}function C(e,t){return Boolean(e.enableCollections&&(null==t?void 0:t.some(j)))}},147:function(e,t,n){"use strict";var r=n(4),o=n(347),i=n(8);t.a=function(e){return r.createElement(o.a,{type:"mapNode"},r.createElement(i.a,e,e.children))}},15:function(e,t,n){"use strict";var r=n(13),o=n(6),i=(n(1269),n(1271),n(1273),n(1275),n(4)),a=n(110),s=n(7),c=n(11),u=n(1277),l=n.n(u),d=n(1278),f=n.n(d),p={angle:l.a,triangle:f.a},v=Object(s.a)("button"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=i.createRef(),n._onMouseEnter=function(e){n.props.title&&!n.state.hideTitle&&n.setState({hideTitle:!0}),n.props.onMouseEnter&&n.props.onMouseEnter(e)},n._onMouseDown=function(e){n.props.disabled||(n.setState({pressed:!0}),n.props.onMouseDown&&n.props.onMouseDown(e))},n._onMouseUp=function(){n.setState({pressed:!1})},n._onMouseOut=function(){n.setState({pressed:!1})},n._onFocus=function(){var e=n.props.forwardedRef,t=void 0===e?n._ref:e;if(n.state.pressed){var r=t.current;r&&r.blur()}},n._renderLink=function(e,t){var o=n.props,a=o.disabled,s=o.url,c=o.rel,u=o.target,l=o.forwardedRef,d=void 0===l?n._ref:l;return i.createElement("a",Object(r.a)({href:a?void 0:s,role:"button",target:u||"_parent","aria-disabled":!!a||void 0,ref:d,rel:c},e),t)},n._renderButton=function(e,t){var o=n.props,a=o.disabled,s=o.type,c=void 0===s?"button":s,u=o.forwardedRef,l=void 0===u?n._ref:u;return i.createElement("button",Object(r.a)({disabled:a,type:c,ref:l},e),t)},n._renderIcon=function(e){var t=n.props;return i.createElement("span",{key:"icon",className:e("icon"),style:{width:t.iconWidth}},t.icon)},n._renderTick=function(e){var t=p[n.props.tick];return i.createElement(c.a,{key:"tick",className:e("tick"),url:t})},n.state={pressed:!1,hideTitle:!1},n}return Object(o.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=[t.icon?this._renderIcon(v):null,t.children?i.createElement("span",{key:"text",className:v("text")},t.children):null,t.tick?this._renderTick(v):null],r={className:v({view:t.view,ui:(e=t.view,!["air","air-alt","search"].includes(e)),size:t.size,link:Boolean(t.url),disabled:t.disabled,checked:t.checked,"pin-left":t.pinLeft,"pin-right":t.pinRight,"pin-top":t.pinTop,"pin-bottom":t.pinBottom,pressed:this.state.pressed||t.pressed,tick:t.tick,stretched:t.isStretched,"text-align-left":t.isTextAlignLeft,"flipped-tick":t.flippedTick,hovered:t.hovered,focused:t.focused,"no-shadow":t.noShadow,truncated:t.truncated,"max-width":t.maxWidth})+(t.className?" "+t.className:""),tabIndex:t.tabIndex,title:this.state.hideTitle?void 0:t.title,"aria-label":t.ariaLabel,itemProp:t.itemProp,onMouseEnter:this._onMouseEnter,onMouseLeave:t.onMouseLeave,onClick:t.onClick,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onMouseOut:this._onMouseOut,onFocus:this._onFocus};return t.url?this._renderLink(r,n):this._renderButton(r,n)},t}(i.Component);t.a=Object(a.a)(m)},159:function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"j",function(){return g}),n.d(t,"q",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"x",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"B",function(){return d}),n.d(t,"C",function(){return y}),n.d(t,"y",function(){return f}),n.d(t,"p",function(){return _}),n.d(t,"o",function(){return E}),n.d(t,"m",function(){return O}),n.d(t,"n",function(){return S}),n.d(t,"l",function(){return j}),n.d(t,"G",function(){return w}),n.d(t,"F",function(){return k}),n.d(t,"i",function(){return M}),n.d(t,"E",function(){return p}),n.d(t,"h",function(){return b}),n.d(t,"t",function(){return T}),n.d(t,"v",function(){return R}),n.d(t,"u",function(){return I}),n.d(t,"d",function(){return A}),n.d(t,"b",function(){return N}),n.d(t,"c",function(){return L}),n.d(t,"w",function(){return C}),n.d(t,"r",function(){return x}),n.d(t,"z",function(){return m}),n.d(t,"A",function(){return h}),n.d(t,"s",function(){return P}),n.d(t,"D",function(){return v});var r=n(980),o="drug_ids",i="cart",a="business_drug_cart",s="only_zdravcity",c="buy-mode",u="delivery",l="activeTab",d=r.a.INSTRUCTION,f="permalink",p="supplier",v="storeid",m=72,h=456,g="delivery_filter_id",y=360,b=100,_={width:940,height:600},w={width:343,height:180},E=[60,56,16,320],O=[78,56,16,16],S=[16,56,16,16],j=[146,56,16,16],k=[10,10,10,10],C=108,T=128,I=72,R=44,x=52,M=10,P=2592e5,N=4,A=3,L=9},16:function(e,t,n){"use strict";var r=n(442),o=["orgpage","discovery","search","search-result","routes","usermaps","masstransit","traffic","home","post-editor","bookmarks","panoramas","photos","mrc","feedback","post-editor","mobile-app-share","catalog","covid","metro","actual","stories-player","share","reviews","user-profile","event","stories","ugc-profile"],i=n(586);n.d(t,"i",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return v}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"k",function(){return l}),n.d(t,"o",function(){return d}),n.d(t,"l",function(){return u}),n.d(t,"n",function(){return w}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return _}),n.d(t,"f",function(){return O}),n.d(t,"m",function(){return S});var a={search:["orgpage","search-result","bookmarks","traffic","masstransit","user-profile"],"search-result":["user-profile"],discovery:["orgpage","search","traffic","masstransit","user-profile"],bookmarks:["search","routes","traffic","masstransit","user-profile"],routes:["search","search-result","bookmarks","traffic","feedback","user-profile","masstransit"],usermaps:["search","bookmarks","discovery","orgpage","search-result","feedback","masstransit","routes","traffic","user-profile"]},s=["photos","panoramas","mrc","mobile-app-share","reviews","share","stories-player"],c=["orgpage","discovery"];function u(e){return null===e||"string"==typeof e&&o.includes(e)}function l(e){return s.includes(e)}function d(e){var t,n,r,o,a=v(e,"search-result"),s=v(e,"masstransit"),u=null!==(t="business"===(null==a?void 0:null===(n=a.response)||void 0===n?void 0:null===(r=n.items[0])||void 0===r?void 0:r.type)?Object(i.a)(a.tab):void 0)&&void 0!==t?t:null==s?void 0:s.businessTab;return o=f(e),(Boolean(o&&c.includes(o))||Object(i.g)(u))&&!0}function f(e,t){void 0===t&&(t=!0);var n=e.stack,r=t?n.filter(function(e){return!l(e.mode)}):n,o=r[r.length-1],i=p(e);return o&&o.mode||i}function p(e){var t=e.traffic,n=e.masstransit,r=e.homePanel;e.config;return r.isOpen?t.isLayerEnabled?"traffic":n.isLayerShown?"masstransit":"home":"home"}function v(e,t){var n=e.stack,r=l(t)?n:n.filter(function(e){return!l(e.mode)}),o=r[r.length-1];if(o&&o.mode===t)return o}function m(e,t){var n=e.stack,o=a[t];l(t)||(o=o?o.concat(s):s);for(var i,c=[],u=Object(r.a)(n.slice().reverse());!(i=u()).done;){var d=i.value;if(!o||!o.includes(d.mode)){if(d.mode!==t)break;c.unshift(d)}}return c}function h(e){var t=e.stack;return t[t.length-2]||void 0}function g(e,t){return n=[t],(r=e.stack).some(function(e,t){return t!==r.length-1&&n.includes(e.mode)});var n,r}var y={search:function(e){var t=v(e,"search");return Boolean(t)},routes:function(e){return Boolean(v(e,"routes"))},"search-result":function(e){return Boolean(v(e,"search-result"))},traffic:function(e){return Boolean(v(e,"traffic"))},bookmarks:function(e){return Boolean(v(e,"bookmarks"))},masstransit:function(e){var t=v(e,"masstransit");return Boolean(t&&(t.stops.loadingId||t.line.loadingId||t.stops.hasError||t.line.hasError||t.stops.data||t.line.data))},usermaps:function(e){var t=v(e,"usermaps");return Boolean(t)},orgpage:function(e){var t=v(e,"orgpage");return Boolean(t&&t.result)},discovery:function(e){return Boolean(v(e,"discovery"))},feedback:function(e){return Boolean(v(e,"feedback"))},home:function(e){var t=e.homePanel;return Boolean(t.isOpen&&t.locationInfo)},panoramas:function(e){return Boolean(v(e,"panoramas"))},photos:function(e){return Boolean(v(e,"photos"))},mrc:function(e){return Boolean(v(e,"mrc"))},"post-editor":function(e){return Boolean(v(e,"post-editor"))},"mobile-app-share":function(e){return Boolean(v(e,"mobile-app-share"))},catalog:function(e){return Boolean(v(e,"catalog"))},covid:function(e){return Boolean(v(e,"covid"))},metro:function(e){return Boolean(v(e,"metro"))},event:function(e){return Boolean(v(e,"event"))},actual:function(e){return Boolean(v(e,"actual"))},"stories-player":function(e){return Boolean(v(e,"stories-player"))},reviews:function(e){return Boolean(v(e,"reviews"))},share:function(e){return Boolean(v(e,"share"))},"user-profile":function(e){return Boolean(v(e,"user-profile"))},stories:function(e){return Boolean(v(e,"stories"))},"ugc-profile":function(e){return Boolean(v(e,"ugc-profile"))}};function b(e,t){return y[e](t)}function _(e){var t=v(e,f(e));return t?t.mobileViewState||"expanded":e.defaultMobileViewState}function w(e){return e.collapsedSidebar}function E(e,t){var n=e.stack,r=n.slice().reverse().findIndex(function(e){var n=e.mode;return!t.includes(n)});if(-1===r)return[];var o=n.length-r;return n.slice(0,o)}function O(e){return e.config.uatraits.isTurboApp?0:8}function S(e){return e.baseUrl.endsWith("/profile")}},160:function(e,t,n){"use strict";var r=n(10),o=n(4),i=n(8),a=n(347);t.a=function(e){return e.ready?o.createElement(a.a,{type:"timingNode"},o.createElement(i.a,{name:e.type,nodeState:Object(r.a)({ready:e.ready},e.extraState)},e.children)):null}},164:function(e,t,n){"use strict";var r=n(41),o=n(4),i=n(6),a=(n(1001),n(1386),n(411)),s=n.n(a),c=n(84),u=n.n(c),l=n(7),d=n(111),f=n(85),p=n(117),v=n(2800),m=n(234),h=n(97),g=function(e){var t=this;this._listeners=[],this.addListener=function(e){return t._listeners.push(e),e(t._ref.current,null),function(){return t._removeListener(e)}},this._removeListener=function(e){t._listeners=t._listeners.filter(function(t){return t!==e})},this.fire=function(e){t._listeners.forEach(function(n){return n(t._ref.current,e)})},this._ref=e},y=n(9),b=Object(l.a)("scroll"),_={},w=64,E={passive:!0},O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._id=u.a.v4(),n._container=o.createRef(),n._content=null,n._wrap=o.createRef(),n._scrollbar=null,n._scrollbarThumb=null,n._ratio=1,n._startPageY=0,n._startScrollTop=0,n._onSelectStart=null,n._getContainer=function(){return n.props.containerRef||n._container},n._onScroll=function(e){n._emitter.fire(e)},n._onResize=function(){n._wrap.current&&n._content&&(n._height=n._wrap.current.clientHeight,n._ratio=n._height/n._content.clientHeight,"dynamic"===n.props.width&&n._fixContentWidth(),n._scrollbarThumb&&(n._updateScrollbarThumbPosition(n._getContainer().current.scrollTop),n._scrollbarThumb.style.height=100*n._ratio+"%"),n._showHideScrollbar(n._ratio<1),(window.MSInputMethodContext||window.document.documentMode)&&n._restoreScrollPosition())},n._onScrollSelf=function(){var e=n._getContainer().current;if(e){var t=n.props;n._scrollbarThumb&&n._updateScrollbarThumbPosition(e.scrollTop),t.cacheKey&&(_[t.cacheKey]=e.scrollTop),t.onScroll&&t.onScroll(e.scrollTop),t.onScrollToEnd&&e.clientHeight+e.scrollTop>=e.scrollHeight&&t.onScrollToEnd()}},n._onWheel=function(e){n._getContainer().current.scrollTop=n._getContainer().current.scrollTop+e.deltaY},n._onScrollbarClick=function(e){var t=n._getContainer().current,r=n._scrollbarThumb;e.pageY<r.getBoundingClientRect().top?t.scrollTop-=n._height:t.scrollTop+=n._height},n._onMouseDown=function(e){var t=n._wrap.current,r=n._getContainer().current;t&&r&&(window.addEventListener("mouseup",n._onMouseUp,E),window.addEventListener("mousemove",n._onMouseMoveThrottled,E),t.classList.add("_pressed"),n._startPageY=e.pageY,n._startScrollTop=r.scrollTop,n._onSelectStart=r.onselectstart,r.onselectstart=function(e){e.preventDefault()})},n._onMouseUp=function(){var e=n._wrap.current,t=n._getContainer().current;e&&t&&(n._removeMouseListeners(),e.classList.remove("_pressed"),t.onselectstart=n._onSelectStart)},n._onMouseMove=function(e){var t=n._getContainer().current;n._scrollbar&&(t.scrollTop=n._startScrollTop+(e.pageY-n._startPageY)/n._ratio)},n._removeMouseListeners=function(){window.removeEventListener("mouseup",n._onMouseUp,E),window.removeEventListener("mousemove",n._onMouseMoveThrottled,E)},n._updateScrollbarThumbPosition=function(e){n._scrollbarThumb.style.setProperty(Object(d.b)().styles.transform,"translate3d(0, "+Math.ceil(e*n._ratio)+"px, 0)")},n._fixContentWidth=function(){var e=n._getContainer().current,t=n._content,r=e.offsetWidth-e.clientWidth;t.style.marginRight=-r+"px"},n._showHideScrollbar=function(e){var t=n._scrollbar;t&&(t.style.display=e?"flex":"none")},n._restoreScrollPosition=function(){var e=n.props,t=n._getContainer().current,r=e.cacheKey&&_[e.cacheKey]||0;t.scrollTop!==r&&(0===r?t.scrollTop=r:s()(function(){return t.scrollTop=r}))},n._onResizeThrottled=Object(v.a)(n._onResize,w),n._onMouseMoveThrottled=Object(v.a)(n._onMouseMove,w),n._emitter=new g(n._getContainer()),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._onResize(),setTimeout(this._onResize,0),this._restoreScrollPosition(),this.props.getScrollingNodeRef&&this.props.getScrollingNodeRef(this._getContainer().current),this._getContainer().current.addEventListener("scroll",this._onScroll,E),this._emitter.fire(null)},n.componentDidUpdate=function(e){var t=this.props;e.cacheKey!==t.cacheKey&&this._restoreScrollPosition()},n.componentWillUnmount=function(){this._removeMouseListeners(),this.props.getScrollingNodeRef&&this.props.getScrollingNodeRef(null),this._getContainer().current.removeEventListener("scroll",this._onScroll,E),this._emitter.fire(null),this._onResizeThrottled.cancel(),this._onMouseMoveThrottled.cancel()},n.render=function(){var e=this,t=this.props;return o.createElement("div",{className:b({width:t.width||"narrow",disabled:t.disabled}),ref:this._wrap},o.createElement("div",{className:b("container"),ref:this._getContainer()},o.createElement("div",{className:b("content"),ref:function(t){return e._content=t}},o.createElement(h.a,{value:{addListener:this._emitter.addListener,getScrollableNode:function(){return e._getContainer().current},scrollId:this._id}},t.children,o.createElement(m.a,{eventHandler:this._onScrollSelf,throttleWait:w})),o.createElement(f.a,{onResize:this._onResizeThrottled})),o.createElement(f.a,{onResize:this._onResizeThrottled}),t.config.uatraits.isTablet?null:o.createElement("div",{className:b("scrollbar",{noprint:!0}),ref:function(t){return e._scrollbar=t},onWheel:this._onWheel},o.createElement("div",{className:b("scrollbar-track"),onClick:this._onScrollbarClick}),o.createElement("div",{className:b("scrollbar-thumb"),ref:function(t){return e._scrollbarThumb=t},onMouseDown:this._onMouseDown}))),o.createElement(p.a,{type:"resize",listener:this._onResizeThrottled,options:E}))},t}(o.Component),S=Object(y.b)(O),j=Object(l.a)("scroll"),k={},C={passive:!0},T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._id=u.a.v4(),n._container=o.createRef(),n._getContainer=function(){return n.props.containerRef||n._container},n._onScroll=function(e){n._getContainer().current&&n._emitter.fire(e)},n._restoreScrollPosition=function(){var e=n.props,t=n._getContainer().current,r=e.cacheKey&&k[e.cacheKey]||0;t.scrollTop!==r&&window.requestAnimationFrame(function(){return t.scrollTop=r})},n._onScrollSelf=function(){var e=n._getContainer().current;if(e){var t=n.props;t.cacheKey&&(k[t.cacheKey]=e.scrollTop),t.onScroll&&t.onScroll(e.scrollTop),t.onScrollToEnd&&e.clientHeight+e.scrollTop>=e.scrollHeight&&t.onScrollToEnd()}},n._emitter=new g(n._getContainer()),n._provider={addListener:n._emitter.addListener,getScrollableNode:function(){return n._getContainer().current},scrollId:n._id},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.getScrollingNodeRef&&this.props.getScrollingNodeRef(this._getContainer().current),this._restoreScrollPosition(),this._getContainer().current.addEventListener("scroll",this._onScroll,C),this._emitter.fire(null)},n.componentDidUpdate=function(e){var t=this.props;e.cacheKey===t.cacheKey&&(e.cacheKey||t.cacheKey)||this._restoreScrollPosition()},n.componentWillUnmount=function(){this._getContainer().current.removeEventListener("scroll",this._onScroll,C),this._emitter.fire(null)},n.render=function(){var e=this.props;return o.createElement("div",{className:j({width:e.width||"narrow",disabled:e.disabled,native:e.native,"full-height":e.fullHeight})},o.createElement("div",{className:j("container"),ref:this._getContainer()},o.createElement("div",{className:j("content")},o.createElement(h.a,{value:this._provider},e.children,o.createElement(m.a,{eventHandler:this._onScrollSelf,throttleWait:64})))))},t}(o.Component);t.a=Object(y.b)(function(e){e.config;var t=Object(r.a)(e,["config"]),n=t.native?T:S;return o.createElement(n,t)})},165:function(e,t,n){"use strict";var r=n(10),o=n(108),i=n(448),a="Expected a function";var s=function(e,t){var n;if("function"!=typeof t)throw new TypeError(a);return e=Object(i.a)(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}};var c=function(e){return s(2,e)},u=n(273),l={"make-call":"call","make-route":"route","cta-button":"site"},d=u.a.getLogger("metrika"),f=new Map,p=[],v={_isTurbo:!1,_versionPrefix:"",get constructorName(){return"Metrika"+this._versionPrefix},get callbacksName(){return"yandex_metrika_callbacks"+this._versionPrefix},setTurboOn:function(e){this._isTurbo=e,this._versionPrefix=e?"2":""},isConstructorExist:function(){var e,t;return Boolean(null===(e=window)||void 0===e?void 0:null===(t=e.Ya)||void 0===t?void 0:t[this.constructorName])},addCallback:function(e){Array.isArray(window[this.callbacksName])||(window[this.callbacksName]=[]),window[this.callbacksName].push(e)},removeCallback:function(e){if(Array.isArray(window[this.callbacksName])){var t=window[this.callbacksName].findIndex(function(t){return t===e})||-1;-1!==t&&window[this.callbacksName].splice(t,1)}},add:function(e,t,n,o,i){void 0===i&&(i={}),i.callback&&window.document.addEventListener("yacounter"+e+"inited",i.callback);var a={id:e,orgId:t,counter:new window.Ya[this.constructorName](Object(r.a)({id:e,defer:!0,triggerEvent:!0,clickmap:!1,trackLinks:!1,accurateTrackBounce:!1},n)),goals:o,removeTimer:-1,options:i};return f.set(e,a),d("["+e+"] Counter added"),p.forEach(function(e){var t=e[0],n=e[1];v.reachGoalByCounter(a,t,n)}),a},get:function(e){var t=f.get(e);return t&&(window.clearTimeout(t.removeTimer),t.removeTimer=-1),t},remove:function(e){var t=f.get(e);t&&(t.removeTimer=window.setTimeout(function(){var e=t.id,n=t.counter,r=t.options;r.callback&&window.document.removeEventListener("yacounter"+e+"inited",r.callback);try{n.destruct()}catch(o){0}f.delete(e),d("["+e+"] Counter removed")},1e3))},reachGoal:function(e,t,n){if(!v.isTest())return Array.isArray(e)?e.forEach(function(e){return v.reachGoal(e)}):0===f.size?(p.push([e,t]),void(null==n||n())):void f.forEach(function(r){v.reachGoalByCounter(r,e,t,n)});n&&n()},reachGoalByCounter:function(e,t,n,o){var i=e.id,a=e.orgId,s=e.counter,c=e.goals,u=e.removeTimer;if(v.isTest())o&&o();else if(-1===u)if(c&&a){if(Object.values(c).includes(t)){var l=v.buildMetrikaOrgEventParams(a,t),f=Object(r.a)(Object(r.a)({},n),l);s.reachGoal(t,f,o);var p=f?JSON.stringify(f):"";d("Reach goal. Counter: "+i+". Goal id: "+t+". Params: "+p)}}else{s.reachGoal(t,n,o);var m=n?JSON.stringify(n):"";d("Reach goal. Counter: "+i+". Goal id: "+t+". Params: "+m)}},hit:function(e){f.forEach(function(t){v.hitByCounter(t,e)})},hitByCounter:function(e,t){var n=e.counter,r=e.removeTimer,o=t.url,i=t.params;-1===r&&n.hit(o,{title:window.document.title,referer:window.document.referrer,params:i})},buildMetrikaOrgEventParams:function(e,t){var n,r=o.parse(window.location.search.slice(1)),i=window.location.pathname;return{__ym:{vacuum:{surface:(null===(n=r.source)||void 0===n?void 0:n.includes("wizbiz_new_map"))||i.startsWith("/profile/")?"websearch":"webmaps",orgid:e,event:l[t]||t}}}},isTest:c(function(){var e=o.parse(window.location.search.slice(1));return Boolean(e["no-counters"])})};t.a=v},17:function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduceRight(function(e,t){return function(n){return e(t(n))}})}},18:function(e,t,n){"use strict";t.a={create:function(e,t){var n=t.success,r=t.fail,o=t.always,i=!1;return e.then(function(e){i||(n&&n(e),o&&o(null,e))},function(e){i||(r&&r(e),o&&o(e))}),{cancel:function(){return i=!0}}},cancel:function(e){e&&e.cancel()}}},181:function(e,t,n){"use strict";var r=n(972);t.a=function(e){return null==e?"":Object(r.a)(e)}},182:function(e,t,n){"use strict";var r,o=n(344);var i={ROOT_FOLDER_ID:"the_root_folder",FAVORITES_FOLDER_ID:"the_favorites_folder",HOME_ID:"home",WORK_ID:"work",FOLDER_TAGS:{SHOW_ON_MAP:"show-on-map"},getLib:function(e){return r||(r=Object(o.a)(e.bookmarks.url).then(function(){if(!window.ya)throw new Error("Library for bookmarks is not found");var t=window.ya.bookmarks;return t.config({cloudApiUrl:e.cloudApi.url,lang:e.locale.split("_")[0],useClientStorage:!1}),t})),r}};t.a=i},183:function(e,t,n){"use strict";var r=n(985),o=n(219);t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.a)(e)}},184:function(e,t,n){"use strict";n.d(t,"h",function(){return w}),n.d(t,"m",function(){return E}),n.d(t,"l",function(){return k}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"j",function(){return R}),n.d(t,"f",function(){return N}),n.d(t,"k",function(){return I}),n.d(t,"c",function(){return _}),n.d(t,"e",function(){return P}),n.d(t,"g",function(){return M}),n.d(t,"i",function(){return A});var r=n(10),o=n(108),i=n.n(o),a=n(455),s=n(592),c=n(988),u=n(668),l={DEFAULT_MARKERS:"defaultMarkers",DEFAULT_GRAPHICS:"defaultGraphics",EDITOR_MARKERS:"editorMarkers",EDITOR_GRAPHICS:"editorGraphics"},d=":customDomLayer(eventBlocker)",f=["map","sat","skl"],p=["map","sat"],v=["map","trf","trfe","stv","indoor","carparks","mrc","mrcpe"],m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",h={map:function(e){var t=e.mapTiles,n=e.mapjTiles;return{url:j(t),hotspotsUrl:j(n)}},sat:function(e){return{url:j(e.satTiles)}},skl:function(e){var t=e.sklTiles,n=e.skljTiles;return{url:j(t),hotspotsUrl:j(n)}},stv:function(e){return{url:e.stvTiles.replace("l=stv","l=stv,sta")}},sta:function(e){return{hotspotsUrl:e.staHotspotTiles}},pht:function(e){return{url:e.phtTiles,hotspotsUrl:e.phtHotspotTiles+"&format=json"}},mrc:function(e){return{url:e.mrcTiles+"&camera-direction=front",hotspotsUrl:e.mrcHotspotTiles+"&camera-direction=front"}},mrcpe:function(e){return{url:e.mrcpeTiles+"&camera-direction=front",hotspotsUrl:e.mrcpeHotspotTiles+"&camera-direction=front"}},carparks:function(e){return{url:e.carparksTiles}}},g=["map:ground","sat:ground","skl:ground","trf:ground","carparks:ground","mrc:ground","mrcpe:ground","stv:ground","map:buildings","indoor:ground","map:icons","map:labels","trf:icons","trf:labels","carparks:icons","indoor:icons","indoor:labels","stv:icons","sta:ground","pht:ground","trfa:ground",l.DEFAULT_GRAPHICS,l.DEFAULT_MARKERS,d,l.EDITOR_GRAPHICS,l.EDITOR_MARKERS],y={vector:{transformLayers:{"map:buildings":{opacity:.7}}}},b={"map:buildings":{vector:{modelsAppearingAnimation:{transitionZoom:17,duration:250,limitByZoom:.5}}},"stv:ground":y,"mrc:ground":y,"mrcpe:ground":y},_=["map","sat","pht"];function w(e){var t=Object.keys(h).reduce(function(t,n){var r=e.layers["sta"===n?"stv":n],o=r&&r.zoomRange;return t[n]={type:"tile",raster:S(n,r,e),vector:T(n,r,e),clampMapZoom:f.includes(n),zoomRange:o?{min:o[0],max:o[1]}:void 0},t},{}),n=e.hosts,r=e.locale,o=e.uatraits.isMobile;return t.indoor={type:"tile",vector:M({collisionPriority:"low",priority:"low",requestTileSize:o?"X1":"X4",glyphRangeUrl:n.vectorIndoorGlyphs.replace("{{lang}}",r),imageUrl:n.vectorIndoorImages,meshUrl:n.vectorIndoorMeshes,tileUrl:n.vectorIndoorTiles.replace("{{lang}}",r),indoorPlanUrl:n.vectorIndoorPlans,objectTapableArea:I(e),mapMode:A(e)},e)},Object.keys(l).forEach(function(e){t[l[e]]=e.endsWith("MARKERS")?{type:"markers"}:{type:"geojson"}}),t}function E(e,t,n){return e.replace("%l","lang="+t).replace("%v",n).replace(/%d\|\d+/,function(e){return"{{"+e+"}}"}).replace(/%d/,"{{d|4}}").replace("%c","x={{x}}&y={{y}}&z={{z}}&scale={{scale}}")}function O(e,t){var n;return e+((null===(n=t.mocks)||void 0===n?void 0:n.version)?"&mocks%5Bversion%5D="+t.mocks.version:"")}function S(e,t,n){var r=h[e];if(!t||!r)return{tileUrl:m};var o=r(n.hosts),i=function(e){return E(e,n.locale,t.version)},a=["map","skl","carparks","stv","sta","mrc","mrcpe"].includes(e)?x(n):"";return{tileUrl:o.url?i(o.url)+a:m,fetchHotspots:o.hotspotsUrl?Object(s.a)(i(o.hotspotsUrl)+a):void 0,transparent:!p.includes(e),hotspotPadding:n.uatraits.isMobile?12:0}}function j(e){return e.replace("%c","v=%v&%c")}function k(e,t){for(var n=e.filter(function(e,t,n){return n.indexOf(e)===t}).sort(function(t,n){var r=g.indexOf(t)-g.indexOf(n);return 0===r?e.indexOf(t)-e.indexOf(n):r}).reverse(),r=[],o=n.length-1;o>=0;o--){var i=n[o],a=i.split(":")[0];if(!v.includes(a))break;r.push(i),n.splice(o,1)}return n.reverse(),{topRasterLayers:C(n).map(function(e){return e===d?{id:d,type:"customDomLayer",options:{raster:{implementation:t}}}:e}),mainLayers:C(r)}}function C(e){return e.map(function(e){return e in b?Object(c.c)(e,b[e]):e})}function T(e,t,n){if(t){var r=n.locale,o=n.hosts;if("carparks"===e){var i,a=(null===(i=n.mocks)||void 0===i?void 0:i.version)?"":"&v=%v";return M({priority:"medium",tileUrl:O(E(o.carparksTileRenderer+"tiles?version=2&l=carparks&%l"+a+"&x={{x}}&y={{y}}&z={{z}}",n.lang,t.version),n),imageUrl:o.carparksTileRenderer+"icons?id={{id}}&scale={{scale}}",objectTapableArea:I(n),mapMode:A(n)},n)}if("stv"===e)return M({priority:"medium",tileUrl:E(o.stvTileRenderer+"tiles?l=sta,stv&x={{x}}&y={{y}}&z={{z}}&%l&v=%v&format=protobuf",n.lang,t.version),imageUrl:o.stvTileRenderer+"icons?id={{id}}&scale={{scale}}",objectTapableArea:I(n),mapMode:A(n)},n);if("mrc"===e||"mrcpe"===e){var c="mrc"===e?o.mrcTiles:o.mrcpeTiles,u="mrc"===e?o.mrcHotspotTiles:o.mrcpeHotspotTiles;return M({priority:"medium",tileUrl:c.replace("%c","x={{x}}&y={{y}}&z={{z}}")+"&camera-direction=front&format=protobuf",hotspots:{ground:Object(s.a)(u.replace("%c","x={{x}}&y={{y}}&z={{z}}")+"&camera-direction=front")},objectTapableArea:I(n),mapMode:A(n)},n)}if("map"===e){var l=n.uatraits.isMobile,d=o.vectorTiles.replace("{{lang}}",r).replace("{{version}}",t.version);return M({collisionPriority:"low",priority:"high",tileBeltSize:1,requestTileSize:l?"X1":"X4",imageUrl:o.vectorImages,tileUrl:O(d,n),meshUrl:o.vectorMeshes,glyphRangeUrl:o.vectorGlyphs.replace("{{lang}}",r),hotspots:{buildings:{minZoom:16.5}},objectTapableArea:I(n),mapMode:A(n)},n)}}}function I(e){var t=e.uatraits.isMobile,n=e.experiments.ui.vectorExtendTaps;return t&&n?{field:10,minSize:40}:void 0}function R(e){return g.filter(function(t){return t.startsWith(e+":")})}function x(e){var t=Object(r.a)({},e.experiments.rendererParams||{});return e.experiments.ui.tilesRenderer&&(t.experimental_labeler="rtl"),Object.keys(e.query).forEach(function(n){n.startsWith("renderer_")&&(t[n.replace(/^renderer_/,"")]=e.query[n])}),Object.keys(t).length>0?"&"+i.a.stringify(t,{indices:!1}):""}function M(e,t){return Object(r.a)(Object(r.a)({},e),{},{imageUrl:P(e.imageUrl,t),tileUrl:P(e.tileUrl,t),meshUrl:P(e.meshUrl,t),indoorPlanUrl:P(e.indoorPlanUrl,t),glyphRangeUrl:P(e.glyphRangeUrl,t)})}function P(e,t){return e?e+x(t):e}function N(e,t){var n=Object(a.d)(e);return n.raster&&"string"==typeof n.raster.tileUrl&&(n.raster.tileUrl=function(e,t){var n=e.split("?"),r=n[0],o=n[1],a=i.a.parse(o);if(r.includes(";base64"))return r;t?a.style=t:delete a.style;return Object.values(a).length>0?[r,i.a.stringify(a,{encode:!1})].join("?"):r}(n.raster.tileUrl,t.raster)),n.vector&&(n.vector.customization=t.vector),n}function A(e){return"dark"===u.a(e.query,e.uatraits)?"night":void 0}},1922:function(e,t,n){},1924:function(e,t){},193:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"m",function(){return y}),n.d(t,"b",function(){return l}),n.d(t,"l",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"k",function(){return b}),n.d(t,"h",function(){return i});var r=6378137,o=23,i=.0818191908426,a=i*i,s=a*a,c=a*s,u=s*s,l=1-Math.sqrt(1-a),d=(1-l)*r,f=1e-10,p=a/2+5*s/24+c/12+13*u/360,v=7*s/48+29*c/240+811*u/11520,m=7*c/120+81*u/1120,h=4279*u/161280,g=1e-6,y=1e-7,b=[!0,!1]},194:function(e,t,n){"use strict";function r(e){return Math.PI/180*e}n.d(t,"a",function(){return r})},195:function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},196:function(e,t,n){"use strict";t.a=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},197:function(e,t,n){"use strict";var r=n(6),o=(n(1324),n(4)),i=n(84),a=n.n(i),s=n(7),c=Object(s.a)("checkbox"),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onChange=function(e){var t,r;null===(t=(r=n.props).onChange)||void 0===t||t.call(r,e.currentTarget.checked)},n.state={id:t.id||a()()},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.checked,n=e.disabled,r=e.name,i=e.value,a=e.tabIndex,s=e.onClick,u=e.label,l=this.state.id;return o.createElement("span",{className:c({checked:t,disabled:n})},o.createElement("span",{className:c("box")},o.createElement("div",{className:c("dash")}),o.createElement("div",{className:c("tick")}),o.createElement("input",{className:c("control"),type:"checkbox",checked:t,disabled:n,id:l,name:r,value:i,tabIndex:a,autoComplete:"off",onChange:this._onChange,onClick:s})),u?o.createElement("label",{className:c("label"),htmlFor:l},u):null)},t}(o.Component);t.a=u},20:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(1245),a=n(1146),s=n(9),c=n(591);t.a=function(e,t){var n=Object(a.a)(e,t),u=function(t){function a(n){var r;return(r=t.call(this,n)||this).state={loadPromise:e.isReady()},r}Object(r.a)(a,t);var s=a.prototype;return s.componentDidMount=function(){this.props.config.experiments.ui.partialHydration&&!this.state.loadPromise&&this.setState({loadPromise:n.load()})},s.render=function(){var e=this.props,t=this.state,r=o.createElement(c.a,null,o.createElement(n,e));return e.config.experiments.ui.partialHydration?o.createElement(i.PrerenderedComponent,{live:t.loadPromise,strict:!0},r):r},a}(o.Component);return Object(s.b)(u)}},21:function(e,t,n){"use strict";var r=n(10),o=n(108),i=n(2792),a=n(146),s=n(58);n.d(t,"y",function(){return u}),n.d(t,"x",function(){return A}),n.d(t,"a",function(){return d}),n.d(t,"w",function(){return N}),n.d(t,"s",function(){return x}),n.d(t,"q",function(){return v}),n.d(t,"o",function(){return T}),n.d(t,"g",function(){return S}),n.d(t,"v",function(){return O}),n.d(t,"c",function(){return w}),n.d(t,"h",function(){return C}),n.d(t,"k",function(){return g}),n.d(t,"n",function(){return h}),n.d(t,"m",function(){return b}),n.d(t,"j",function(){return m}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return j}),n.d(t,"t",function(){return R}),n.d(t,"l",function(){return y}),n.d(t,"r",function(){return D}),n.d(t,"u",function(){return k}),n.d(t,"d",function(){return I}),n.d(t,"i",function(){return M}),n.d(t,"b",function(){return p}),n.d(t,"p",function(){return E}),n.d(t,"z",function(){return l});var c=["house","vegetation","hydro","street","district"];function u(e,t){return A(e,t,{indices:!1,skipNulls:!0})}function l(e,t,n){void 0===n&&(n=[]);for(var o=Object(r.a)({},e),i=["pron","mocks","lr","debug","loggers","_ym_debug"],a=0,s=Object.entries(t.query);a<s.length;a++){var c=s[a],u=c[0],l=c[1];(u.startsWith("no-")||i.includes(u))&&(o[u]=l)}return n.forEach(function(e){return delete o[e]}),o}function d(e,t){return t.origin+t.baseUrl+e}function f(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length>2?arguments.length<=1?void 0:arguments[1]:{},n=arguments.length>2?arguments.length<=2?void 0:arguments[2]:"",r=arguments.length>2?arguments.length<=3?void 0:arguments[3]:arguments.length<=1?void 0:arguments[1],o=B(r,e)+n,i=l(t,r);return L(r.origin+o,{},i)}function p(){var e=arguments.length>1?arguments.length<=2?void 0:arguments[2]:arguments.length<=0?void 0:arguments[0];return arguments.length>1?f("/health/apteki",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],e):f("/health/apteki",e)}function v(e,t){return function(e,t){return t.hosts.qrApi+o.stringify(e,{addQueryPrefix:!0})}({margin:0,text:d(e,t)},t)}function m(e,t,n){var r=e.type,o=e.seoname,i=e.uri;return L(D(t,n)+"routes/"+r+"_"+o+"/"+i.split("").map(function(e){return e.charCodeAt(0).toString(16)}).join("")+"/",n)}function h(e,t,n){return L(D(t,n)+"transport/"+s.f[e]+"/",n)}function g(e,t){return L(D(e,t)+"transport/",t)}function y(e,t){return void 0===t&&(t={}),e.id?(t.baseUrl||"")+"?masstransit[stopId]="+e.id+"&mode=stop":""}function b(e,t,n){if(e.id)return L(D(t,n)+"stops/"+e.id+"/",n)}function _(e,t,n,r){if(void 0===n&&(n={}),!e.seoname)return k(e.name,t,n);var o="children_clinic"===e.seoname?"children's_clinic":e.seoname,i=n.geoWhere&&n.geoWhere.id?q("geo",n.geoWhere.seoname,n.geoWhere.id):"";return L(D(t,n)+i+"category/"+o+"/"+(e.id?e.id+"/":"")+(n.filter?z(n.filter):""),n,r)}function w(e,t,n,r){return void 0===t&&(t={}),void 0===n&&(n={}),L([n.baseUrl,"org",e.seoname,e.id,t.sublanding].filter(Boolean).join("/")+"/",n,r)}function E(e,t,n){void 0===t&&(t={});var r=q(t.baseUrl,e.id);return n?L(r,t,n):r}function O(e,t,n,r){void 0===n&&(n={});var o=(void 0===r?{}:r).sublanding,a=c.includes(e.kind);if(!(a&&!t||"house"!==e.kind&&!e.id)&&(Object(i.a)(e.coordinates,e.displayCoordinates)||n.skipPointCheck)){var s="house"===e.kind?q("house",e.seoname,e.encodedCoordinates,o):q("geo",e.seoname,e.id);return L(a&&t?D(t,n)+s:[n.baseUrl,s].filter(Boolean).join("/"),n)}}function S(e,t){if(e.geoWhere&&"house"===e.geoWhere.kind&&e.region)return O(e.geoWhere,e.region,t)}function j(e,t,n){var r=D(t,n),o=n&&n.filter?z(n.filter):"";return L(r+"chain/"+(e.seoname||e.id)+"/"+e.id+"/"+o,n)}function k(e,t,n){var r=n&&n.filter?z(n.filter):"";return D(t,n)+"search/"+encodeURIComponent(e)+"/"+r}function C(e,t){return void 0===t&&(t={}),L(q(t.baseUrl,"discovery",e),t)}function T(e,t){return void 0===t&&(t={}),(t.baseUrl||"")+"/print"+e}function I(e,t,n){return void 0===n&&(n={}),D(e,n)+"catalog/"+("number"==typeof t?t+"/":"")}function R(e,t,n,r){return void 0===n&&(n={}),(n.baseUrl||"")+(r?"/org/"+t+"/"+e:"?mode=search&tab="+e+"&ol=biz&oid="+t)}function x(e,t,n){return t.becomeOwnerUrl?t.becomeOwnerUrl+"?permalink="+e+(n||""):t.hosts.sprav?t.hosts.sprav+"search?permalink="+e+(n||""):void 0}function M(e,t,n){var r=function(e,t){switch(e){case"streetview":return P.includes(t)?"streetview":"panorama";case"satellite":return P.includes(t)?"satellite":"sputnik";case"traffic":return"tr"===t?"trafik":P.includes(t)?"traffic":"probki"}return e}(e,n.tld);return t?""+D(t,n)+r+"/":q(n.baseUrl,r)}var P=["com","fr","tr","il","az","fi","pl","eu"];function N(e,t){return t?e.replace(/^https?:\/\/([^\/]+).*$/,"$1"):e.replace(/^https?:\/\//,"")}function A(e,t,n){return void 0===n&&(n={}),e+Object(o.stringify)(t,Object(r.a)(Object(r.a)({},n),{},{addQueryPrefix:!0,sort:function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0}}))}function L(e,t,n){void 0===t&&(t={});var o={};return t.passLang&&(o.lang=t.passLang),A(e,Object(r.a)(Object(r.a)({},o),n),{strictNullHandling:!0})}function D(e,t){return void 0===t&&(t={}),[t.baseUrl,e.id,e.seoname].filter(Boolean).join("/")+"/"}function z(e){if("travel_personsAmount"===e.id)return"";if("boolean"===e.type)return"filter/"+e.id+"/";if("enum"===e.type){var t=a.h(e);if(1===t.length)return"filter/"+e.id+"/"+t[0]+"/"}return""}function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join("/")+"/"}function B(e,t){return e.origin.includes("crowdtest")?e.baseUrl.replace(/^((\/maps-.+?)\/)?.*/,"$2"+t):t}},216:function(e,t,n){"use strict";var r=n(335),o=Object(r.a)(Object,"create");var i=function(){this.__data__=o?o(null):{},this.size=0};var a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s="__lodash_hash_undefined__",c=Object.prototype.hasOwnProperty;var u=function(e){var t=this.__data__;if(o){var n=t[e];return n===s?void 0:n}return c.call(t,e)?t[e]:void 0},l=Object.prototype.hasOwnProperty;var d=function(e){var t=this.__data__;return o?void 0!==t[e]:l.call(t,e)},f="__lodash_hash_undefined__";var p=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?f:t,this};function v(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}v.prototype.clear=i,v.prototype.delete=a,v.prototype.get=u,v.prototype.has=d,v.prototype.set=p;var m=v,h=n(650),g=n(667);var y=function(){this.size=0,this.__data__={hash:new m,map:new(g.a||h.a),string:new m}};var b=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var _=function(e,t){var n=e.__data__;return b(t)?n["string"==typeof t?"string":"hash"]:n.map};var w=function(e){var t=_(this,e).delete(e);return this.size-=t?1:0,t};var E=function(e){return _(this,e).get(e)};var O=function(e){return _(this,e).has(e)};var S=function(e,t){var n=_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function j(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}j.prototype.clear=y,j.prototype.delete=w,j.prototype.get=E,j.prototype.has=O,j.prototype.set=S;t.a=j},217:function(e,t,n){"use strict";var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},o=n(145),i=n(44),a=n(986),s=n(122),c=n(1170),u=Object.prototype.hasOwnProperty;var l=function(e,t){var n=Object(i.a)(e),l=!n&&Object(o.a)(e),d=!n&&!l&&Object(a.a)(e),f=!n&&!l&&!d&&Object(c.a)(e),p=n||l||d||f,v=p?r(e.length,String):[],m=v.length;for(var h in e)!t&&!u.call(e,h)||p&&("length"==h||d&&("offset"==h||"parent"==h)||f&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Object(s.a)(h,m))||v.push(h);return v},d=Object.prototype;var f=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||d)};var p=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),v=Object.prototype.hasOwnProperty;var m=function(e){if(!f(e))return p(e);var t=[];for(var n in Object(e))v.call(e,n)&&"constructor"!=n&&t.push(n);return t},h=n(183);t.a=function(e){return Object(h.a)(e)?l(e):m(e)}},218:function(e,t,n){"use strict";var r=n(10),o=n(84),i=n.n(o),a=n(2793),s=n(2797),c=n(2795);function u(e){return e.split("~").reduce(function(e,t){var n=t.split(","),r=n[0],o=n[1],i=n[2],s=n.slice(3),c=Object(a.a)(r+","+o);return!o||s.length>0||!c?e:(e.push({coordinates:c,color:i}),e)},[])}var l=n(16),d=n(953),f=n(30),p=n(146),v=n(660);function m(e,t){var n=e.chain,r=t.mapLocation,o=r.center,i=r.span,s=r.zoom,c=h({searchType:"TEXT",text:n?"chain_id:("+n+")":e.text&&String(e.text),displayText:n?e.text:e["display-text"],correctMisspell:e.noreask?0:void 0,origin:e.source||"url",center:Object(a.a)(e.sll)||o,span:Object(a.a)(e.sspn)||i,zoom:parseInt(e.z,10)||s,sort:e.sort,context:e.sctx,filters:e.filter?e.filter.split(";"):void 0},t),u=c[0];if(u&&Object(v.a)(t)&&(u.request.snippets=t.search.snippets.filter(function(e){return"related_adverts/1.x"!==e}),u.request.maxadv=0),u&&e.debug.includes("bounds")&&(u.showDebugBounds=!0),u){var l=f.F(u)?u.results:void 0;if(p.l(null==l?void 0:l.filters)){var d=t.mapLocation;u.mapLocationRequest={center:d.center,zoom:d.zoom,bounds:d.bounds,forceApply:!0}}}return c}function h(e,t){var n=t.searchPreloadedResults;if(n){var r=n.branding;(null==r?void 0:r.displayText)&&(e.displayText=r.displayText);var o=f.E(e.text||"");return[{request:e,results:n,meta:"category"===t.landing.id||"search"===t.landing.id&&(!o||(null==r?void 0:r.displayText))?t.meta:void 0}]}return[{request:e}]}var g=function(e,t){var n,r;if((null===(n=t.searchPreloadedResults)||void 0===n?void 0:n.exactResult)&&"toponym"===t.searchPreloadedResults.exactResult.type)return[];if(e.where?r=function(e,t){var n=Object(a.a)(e.where);if(!n)return[];return h({searchType:"BUSINESS_LIST",where:n,origin:e.source||"url"},t)}(e,t):e.text&&(r=m(e,t)),!r||0===r.length)return[];var o=r[r.length-1];return o.request.disallowZoom=!0,t.query["show-filters-panel"]&&(o.filterPanelStack=[{type:"list"},{type:"filter",id:t.query["show-filters-panel"]}]),r},y=n(253),b=n(661),_=n(662),w=n(49),E=n(979),O=n(159),S=n(315),j=n(69),k=n(586),C=n(339),T=n(590),I=n(440),R=n(981);n(337);var x=n(32),M=n(665),P=n(982);n.d(t,"b",function(){return Q});var N={auto:"auto",mt:"masstransit",pd:"pedestrian",bc:"bicycle",avia:"masstransit",taxi:"taxi",comparison:"comparison"},A={search:q,home:function(){return[]},usermaps:function(e){if(!e.userMap)return[];return[{mode:"usermaps",usermap:e.userMap}]},traffic:function(e){var t=e.query;if(t.trfev&&L(t.l,"trf")&&t.trfev)return[{mode:"traffic",currentTrafficEvent:null}];return[]},"search-result":function(e){return[].concat(q(e),B(e))},orgpage:function(e){var t=e.query;if(e.orgpagePreloadedResults){var n,r=e.orgpagePreloadedResults,o=r.items,i=r.requestId,a=r.requestCorrectedQuery,s=o[0]||null;return[{mode:"orgpage",result:s,request:{id:s?s.id:t.orgpage.id},requestId:i,requestCorrectedQuery:a,isLoading:!1,meta:"orgpage"===e.landing.id?e.meta:void 0,error:s&&f.y(s)?void 0:"not-found",tab:Object(k.c)(t.tab),selectedPostId:null===(n=e.query.posts)||void 0===n?void 0:n.pid}]}return[]},discovery:function(e){if(!e.discovery)return[];return[Object(r.a)(Object(r.a)({mode:"discovery",isError:!1},e.discovery),{},{sessionId:"d:"+i.a.v4(),highlightedId:null,selectedId:null})]},routes:function(e){var t,n=j.p(),o=e.query,a=o.rtext,s=o.rt,c=o.via,u=o.rtn,l=o.rtt,d=o.z,f=o.ll,p=o.routes;if("string"!=typeof a&&"string"!=typeof s)return[Object(r.a)({mode:"routes"},n)];var v=e.routePoints||j.o(),m=n.routerResponse;e.routerResponse&&(m=e.routerResponse,m=j.f(m),m=j.e(m,v));var h=c&&c.split("~").map(Number).filter(Boolean)||[],g=e.routePoints&&e.routePoints.filter(function(e){var t=e.coords;return Boolean(t)}),y=e.routerResponse&&e.routerResponse.routes[0],b=y&&"taxiInfo"in y&&"error"in y.taxiInfo&&y.taxiInfo.error,_=e.routePoints&&(null==g?void 0:g.length)===e.routePoints.length&&(!y||b),w=function(e){var t,n,r=e.query,o=(null===(t=r.routes)||void 0===t?void 0:t.avoidTypes)?r.routes.avoidTypes.split(","):"string"==typeof(null===(n=r.routes)||void 0===n?void 0:n.avoidTypes)?[]:j.b,i=r.routes&&r.routes.avoid&&r.routes.avoid.split(",")||[],a="atm"===r.rtm,s=r.routes&&r.routes.timeDependent&&r.routes.timeDependent.type,c=r.routes&&r.routes.timeDependent&&r.routes.timeDependent.time&&j.m(r.routes.timeDependent.time,x.f(e)).getTime();return{auto:{ignoreTrafficJams:a,avoid:i,timeDependent:{type:"departure",time:"auto"===r.rtt&&c||void 0}},masstransit:{avoidTypes:o,timeDependent:{type:["departure","arrival"].includes(s)?s:"departure",time:"mt"===r.rtt&&c||void 0}}}}(e),E=u?parseInt(u,10):0;return[Object(r.a)(Object(r.a)({},n),{},{mode:"routes",skipApplyBounds:Boolean(d&&f)&&v.filter(function(e){return e.coords}).length>=2,travelMode:l&&N[l]||n.travelMode,activeField:v.findIndex(function(e,t){return!(e.value&&e.coords||h.includes(t))}),activeRouteIndex:(null===(t=m)||void 0===t?void 0:t.routes)&&E<m.routes.length?E:0,activeComparisonMode:p&&p.activeComparisonMode||void 0,viaIndexes:h,sessionId:e.routerResponse?"r:"+i.a.v4():void 0,settings:w,routePoints:v,routerResponse:m,error:_?b||"unable_to_plot_the_route":void 0,mobileViewState:y?"mini":"expanded"})]},panoramas:function(e){var t=V(e),n={};if(t){var o=Object(a.a)(t.point);o&&(n.currentPanorama={isAir:"true"===t.air,direction:Object(a.a)(t.direction)||void 0,point:o,span:Object(a.a)(t.span)||null})}return[Object(r.a)({mode:"panoramas"},n)]},mrc:function(e){var t=e.query.mrc;if(!t||!t.id)return[];return[{mode:"mrc",featureId:t.id,path:null,similar:null,directions:null,isLoading:!1}]},bookmarks:function(e){var t=e.query.bookmarks;if(!(e.authorization||t&&t.uri))return[];return[{mode:"bookmarks",activeFolder:null,tab:"places"}]},photos:function(e){var t=e.query.photos;if(!t)return[];var n=e.photosInformation||{skipAdvert:!1};if(t.point){var o=Object(a.a)(t.point);return o?[{mode:"photos",meta:Object(r.a)(Object(r.a)({},n),{},{point:o})}]:[]}if(t.post&&t.business)return[{mode:"photos",meta:Object(r.a)(Object(r.a)({},n),{},{businessId:t.business,postId:Number(t.post)})}];if(t.business)return[{mode:"photos",meta:Object(r.a)(Object(r.a)({},n),{},{businessId:t.business})}];return[{mode:"photos",meta:Object(r.a)(Object(r.a)({},n),{},{id:t.oid})}]},feedback:function(e){var t=e.query,n=t.feedback||t.fb;if(!n)return[];switch(n){case"add-toponym":n="object/add";break;case"edit-toponym":n="object/edit";break;case"edit-organization":case"organization/duplicate":n="organization/edit";break;case"add-organization":n="organization/add";break;case"edit-stop":n="transit/stop/edit";break;case"entrance/select":case"entrance/location/edit":case"entrance/name/edit":case"entrance/not-found":n="entrance/edit"}var o=C.a(n),i=C.g(n),a=C.f(n),s=C.b(n),c=C.e(n),u=C.j(n),l=C.i(n),d=C.h(n);if(!(o||i||s||c||u||l||a||d))return[];var f,p={source:t.source,metadata:t["feedback-metadata"],context:{formContextId:t["feedback-context"],ugcAssignmentId:t.assignment_id}},v=[];if(i||c){var m=e.searchPreloadedResults||e.whatsherePreloadedResults||e.poiPreloadedResults,h=n.startsWith("organization")?"business":"toponym";if(m){var g=m.items[0];if(g&&g.type===h){var y=t.ouri;f=Object(r.a)({type:n,result:g,uriList:Array.isArray(y)?y:y&&[y]},p),v=B(e)}}}else if(a){var b=e.masstransitStop;b&&(f=Object(r.a)({type:n,result:b},p),v=K(e))}else f=Object(r.a)({type:n},p);if(!f)return[];return v.concat(Object(r.a)({mode:"feedback",mobileViewState:C.k(f.type)?"mini":"expanded"},f))},masstransit:K,reviews:function(e){var t,n,r=e.query,o=(null===(t=r.orgpage)||void 0===t?void 0:t.id)||r.oid,i=e.orgpagePreloadedResults||e.searchPreloadedResults||e.poiPreloadedResults,a=null==i?void 0:null===(n=i.items)||void 0===n?void 0:n.find(function(e){return e.id===o});if("add-review"in r&&e.authorization&&!Object(b.a)(e)&&"business"===(null==a?void 0:a.type))return[{result:a,mode:"reviews",type:"editor"}];return[]},"mobile-app-share":function(){return[]},catalog:function(e){var t=e.catalogData;if(t){var n=[{mode:"catalog",region:t.region,isLoading:!1,type:"main",data:t.data}];if(t.selectedId){var r=t.data.groups.find(function(e){return e.id===t.selectedId});r&&n.push({mode:"catalog",region:t.region,isLoading:!1,type:"group",data:r})}return n}return[]},covid:function(e){if(e.query.covid)return[{mode:"covid",data:e.covidData||{type:"error"},isolation:"isolation"===e.query.covid,mobileViewState:"mini"}];return[]},metro:function(e){var t;if(!(null===(t=e.metro)||void 0===t?void 0:t.defaultCity))return[];return[{mode:"metro"}]},event:function(e){var t,n,r=e.query;if(!(null===(t=r.events)||void 0===t?void 0:t.id))return[];if(null===(n=e.events)||void 0===n?void 0:n.cardEvent)return[{event:e.events.cardEvent,eventId:r.events.id,success:!0,mode:"event"}];return[{error:new Error("Failed to load event"),eventId:r.events.id,success:!1,mode:"event"}]},actual:function(e){var t=e.actualData;if("rich"===(null==t?void 0:t.meta.type))return[{mode:"actual",data:t}];return[]},"stories-player":function(e){if(e.initialStory)return[{mode:"stories-player",fromMode:"actual",storySet:[],activeStory:e.initialStory}];return[]},share:function(){return[{mode:"share"}]},"user-profile":te,"post-editor":function(){return[]},stories:function(){return[]},"ugc-profile":function(e){if(!e.authorization)return[{mode:"user-profile"}];var t="ugc-profile"===e.landing.id?e.landing.type:"impressions",n={type:t,state:Object(r.a)(Object(r.a)({},P.a()),e.ugcProfileData)};return[Object(r.a)(Object(r.a)({},n),{},{mode:"ugc-profile",mobileViewState:Object(M.b)(t,n.state)?"mini":"expanded"})]}};function L(e,t){return Boolean(e&&e.split(",").includes(t))}function D(e,t){return e&&A[e]?A[e](t):[]}function z(e){var t,n=e.query,r=(n["display-text"]||n.text||"").toString(),o=e.searchPreloadedResults;o&&(r===o.requestQuery&&(r=o.requestCorrectedQuery),(null===(t=o.branding)||void 0===t?void 0:t.displayText)&&(r=o.branding.displayText));return{formType:{id:"common"},text:r}}function q(e){return g(e.query,e).map(function(t){var n=e.query.feedback?void 0:f.t(t),o=f.k(t);if(n||o)return{mode:"masstransit",stops:{loadingId:n,hasError:!1,data:void 0,tab:"overview"},line:{loadingId:o,hasError:!1,data:void 0,tab:"stops"},masstransitMode:o?"line":"stop",selectedVehicleType:void 0,mobileViewState:o?"expanded":"mini"};var i=e.landing.id,a="category"===i||"search"===i;return Object(r.a)(Object(r.a)({mode:"search"},t),{},{mobileViewState:["expanded","mini","micro"].includes(e.query["view-state"])?e.query["view-state"]:a?"expanded":"mini"})})}function B(e){var t=e.query,n=e.landing.id,o="category"===n||"search"===n,i=["expanded","mini","micro"].includes(e.query["view-state"])?e.query["view-state"]:o?"expanded":void 0;if(t.poi){var c,u,l=null!==(c=Object(a.a)(t.poi.point))&&void 0!==c?c:void 0;return l&&e.poiPreloadedResults&&e.poiPreloadedResults.items.length>0&&(e.poiPreloadedResults.items[0].displayCoordinates=l),[{mode:"search-result",request:{coordinates:l,from:"poi",uri:t.poi.uri},response:e.poiPreloadedResults,tab:Object(k.c)(t.tab),mobileViewState:t.tab?"expanded":"mini",selectedPostId:null===(u=e.query.posts)||void 0===u?void 0:u.pid}]}var p,v=d.b("whatshere",e.landing);if(t.whatshere)return[{mode:"search-result",response:e.whatsherePreloadedResults,request:{coordinates:Object(a.a)(t.whatshere.point),from:"whatshere",zoom:Number(t.whatshere.zoom)},tab:Object(k.d)(v),mobileViewState:"house"===e.landing.id||t.tab?"expanded":"mini"}];if("biz"===t.ol&&t.oid||t.text&&t.orgpage&&t.orgpage.id){var h,g,y,b,_=Object(k.c)(null!==(h=d.b("orgpage",e.landing))&&void 0!==h?h:d.c("orgpage",t.tab)?t.tab:void 0),E=t.oid||t.orgpage&&t.orgpage.id,O=null===(g=e.searchPreloadedResults)||void 0===g?void 0:g.items.find(function(e){return"business"===e.type&&e.id===E});return[{request:{from:"search",uri:O?w.g(O):void 0,id:E,origin:O?t.source||"url":"restore",serpId:O?void 0:null===(y=e.searchPreloadedResults)||void 0===y?void 0:y.requestSerpId},response:O?f.J(O,e.searchPreloadedResults):t.text?void 0:e.searchPreloadedResults,mapLocationRequest:O?{bounds:O.bounds,center:O.displayCoordinates,skipFirstApply:!0}:void 0,mobileViewState:t.orgpage||t.tab?"expanded":"mini",mode:"search-result",selectedPostId:null===(b=e.query.posts)||void 0===b?void 0:b.pid,tab:_}]}if("geo"===t.ol&&(t.ouri||t.oll||t.oid)){var S,j,C,T,I=t.oid?null===(S=e.searchPreloadedResults)||void 0===S?void 0:S.items.find(function(e){return e.id===t.oid}):void 0,R=I?I.uri:t.ouri,x=I?I.coordinates:Object(a.a)(t.oll);if(!R&&!x)return[];var M=x?null===(j=e.searchPreloadedResults)||void 0===j?void 0:j.items.sort((p=x,function(e,t){return e.coordinates?t.coordinates&&Object(s.a)(e.coordinates,p)>Object(s.a)(t.coordinates,p)?1:-1:1}))[0]:R?null===(C=e.searchPreloadedResults)||void 0===C?void 0:C.items.find(function(e){return R===w.g(e)}):void 0;return t.text||(M=void 0),[{request:{from:"search",uri:R,origin:M?t.source||"url":"restore",serpId:M?void 0:null===(T=e.searchPreloadedResults)||void 0===T?void 0:T.requestSerpId},response:M?f.J(M,e.searchPreloadedResults):t.text?void 0:e.searchPreloadedResults,mapLocationRequest:M?{bounds:M.bounds,center:M.displayCoordinates,skipFirstApply:!0}:void 0,mobileViewState:"mini",mode:"search-result",tab:Object(k.d)(t.tab)}]}if(t.text&&"showcase"!==t.pharmacy&&e.searchPreloadedResults){var P,N,A="chain"===e.landing.id,L="category"===e.landing.id,D=!A&&!L,z=e.searchPreloadedResults.exactResult,q=1===e.searchPreloadedResults.items.length?e.searchPreloadedResults.items[0]:void 0,B=m(t,e)[0].request;if(D&&q&&"business"===q.type)return[{request:Object(r.a)({from:"search"},B),response:e.searchPreloadedResults,mapLocationRequest:{bounds:q.bounds,center:q.displayCoordinates,skipFirstApply:!0},mobileViewState:i||"mini",mode:"search-result",tab:"overview",selectedPostId:null===(P=e.query.posts)||void 0===P?void 0:P.pid}];if(z&&"toponym"===z.type)return[{request:Object(r.a)({from:"search"},B),response:e.searchPreloadedResults,mapLocationRequest:{bounds:z.bounds,center:z.displayCoordinates,skipFirstApply:!0},mobileViewState:i||"mini",mode:"search-result",tab:"overview",selectedPostId:null===(N=e.query.posts)||void 0===N?void 0:N.pid}]}return[]}function F(e){var t,n=e.query,r="arc"===n.trfm?"traffic#archive":"traffic#actual",o=L(n.l,"trf"),i=!o||L(n.l,"trfe"),a=[];if("string"==typeof n.trfst&&(a=n.trfst.split("~").map(function(e){return e.split(":")})),"traffic#actual"===r)t={providerKey:"traffic#actual",state:null};else{var s=(a.find(function(e){return"time"===e[0]})||[])[1],c=(a.find(function(e){return"date"===e[0]})||[])[1],u=(s||"").split(",").slice(0,2).map(Number),l=x.g(x.f(e)),d=c?new Date(Number(c)):l,f=l.getHours(),p=l.getMinutes();t={providerKey:"traffic#archive",state:{time:2===u.length&&u.every(function(e){return"number"==typeof e&&isFinite(e)})?u:[f,p],date:isNaN(d.getTime())?l:d}}}return{isLayerEnabled:o,level:null,infoLayerShown:i,settings:t,trafficEvents:null}}function U(e){var t=e.query;return"add-review"in t?e.authorization?{isOpen:Object(b.a)(e),type:"verification"}:{isOpen:!0,type:"reviews"}:["add-organization","edit-organization","add-toponym","object/add","organization/edit","organization/add"].includes(t.feedback)?{isOpen:Object(b.a)(e),type:e.authorization?"verification":"feedback"}:"ugc-profile"!==e.landing.id||e.authorization?{isOpen:!1}:{isOpen:!0,type:"ugcProfile"}}function H(e){var t=e.query.pt;return"string"==typeof t&&t?{points:u(t)}:{}}function W(e){return{isLayerEnabled:L(e.query.l,"pht")}}function V(e){var t,n=e.query;if("stv"!==n.ol&&"sta"!==n.ol||!n.oll){if(n.panorama){var o=n.panorama;t=Object(r.a)(Object(r.a)({},o),{},{air:o.air?"true":"false"})}}else if(t={point:n.oll},"sta"===n.ol&&(t.air="true"),n.ost){var i=n.ost.split("~").reduce(function(e,t){var n=t.split(":"),r=n[0],o=n[1];return"dir"!==r&&"spn"!==r||(e[r]=o),e},{});t.direction=i.dir,t.span=i.spn}return t}function G(e){var t=e.query,n=V(e),o={isLayerEnabled:L(t.l,"stv")||L(t.l,"sta"),isStreetLayerAvailable:!0,isAirLayerAvailable:!0,loadingPanorama:null};if(n){var i=Object(a.a)(n.point);i&&(o.loadingPanorama=Object(r.a)({direction:Object(a.a)(n.direction)||void 0,isAir:"true"===n.air},n.id?{id:n.id}:{point:i}))}return o}function Y(e){var t=e.query;return{isLayerEnabled:L(t.l,"mrc")||L(t.l,"mrcpe"),isPlaying:!1,graphType:L(t.l,"mrcpe")?"pedestrian":"road"}}function Z(e){var t=e.query;return t.photos&&t.photos.addPhotos&&t.oid?{isOpen:!0,businessId:t.oid,reviewedOrganizations:[]}:{isOpen:!1,reviewedOrganizations:[]}}function X(e){var t=e.query,n=t.masstransit,r=t.l,o=Boolean(n&&n.layer)||L(r,"masstransit");return{isFilterLayerEnabled:!e.mocks&&Boolean(e.authorization),isLayerShown:o,isLayerEnabled:e.vehicleType?Boolean(e.vehicles):Boolean(e.layerRegions),layerRegions:e.layerRegions,isLayerEnabledOnAnotherZoom:!1,vehicles:e.vehicles||[],metroJams:e.metroJams}}function K(e){var t,n=e.masstransitStop,r=e.masstransitLine,o=e.query,i=o.masstransit,a=o.ol,s=o.oid,c={loadingId:!i||i.lineId||n?s&&"mtr"===a?s:void 0:i.stopId,hasError:!1,data:n,tab:"overview"},u={loadingId:i&&!r?i.lineId:void 0,hasError:!1,data:r?{color:r.color,threads:r.features,activeThread:r.activeThread,vehicles:[]}:void 0,tab:"stops"};r?t="line":n?t="stop":u.loadingId?t="line":c.loadingId?t="stop":i&&i.vehicleType&&(t="list");var l=i&&i.vehicleType||void 0;return t?[{mode:"masstransit",stops:c,line:u,selectedVehicleType:l,masstransitMode:t,mobileViewState:"stop"===t?"mini":"expanded",businessTab:Object(k.c)(e.query.tab)}]:[]}function $(e){return{isEnabled:!1,points:("string"==typeof e.query.rl?e.query.rl:"").split("~").reduce(function(e,t){var n=Object(a.a)(t);if(!n)return e;var r=e[e.length-1],o=r?[r.coordinates[0]+n[0],r.coordinates[1]+n[1]]:n;return e.push({coordinates:o,distance:r?r.distance+Object(c.a)(o,r.coordinates):0,showBalloon:!1}),e},[])}}function J(e){var t;return(null===(t=e.metro)||void 0===t?void 0:t.defaultCity)?{isSchemeReady:!1,isSchemeLoading:!0,selectedCity:e.metro.defaultCity,availableCities:e.metro.availableCities,fromStop:e.metro.fromStop,toStop:e.metro.toStop}:{isSchemeReady:!1}}function Q(e){var t,n,o,i,s,c=T.c(e.query),u=c.cart,l="localstorage"!==c.source,d={pageType:(null===(t=e.pharmacy)||void 0===t?void 0:t.pageType)||"showcase",stack:ee(e),dialog:{step:null},cart:u,isCartOpen:!1,isCartDetached:l,showcase:{isLoading:!1,sections:null===(n=e.pharmacy)||void 0===n?void 0:n.showcase},search:Object(r.a)({query:"",originalQuery:"",isLoading:!1,activeRadius:"city"},null===(o=e.pharmacy)||void 0===o?void 0:o.search),selectedDrugStore:null===(i=e.pharmacy)||void 0===i?void 0:i.selectedDrugStore,region:(null===(s=e.pharmacy)||void 0===s?void 0:s.region)||{detectViaGeolocationStatus:"ignore"},debugBounds:[],keepAliveStates:{}};if(!e.pharmacy)return d;var f=e.pharmacy,p=f.pageType,v=f.preloadedPageState;return"product"===p&&v.product&&(d.productPage=Object(R.a)(v.product,e)),"cart"===p&&v.cart&&(d.cartPage=v.cart),"cart-map"===p&&I.k(e)&&(d.mapV3=e.pharmacy.mapV3),"cart-checkout"===p&&v.cartCheckout&&(d.cartCheckoutPage=v.cartCheckout),e.pharmacy.map&&(d.map=function(e,t){var n,o,i,s=t.query;if(!t.pharmacy)throw new Error("No pharmacy node in the config");var c=t.pharmacy.mapLocation,u=c.center,l=c.span,d=c.zoom,f=e.preloadedResults.booking,p=e.preloadedResults.delivery,v=t.query[O.x],m=I.f(e.drugs,v),h={clientId:"pharmacy",origin:"pharmacy-initial-search",searchType:"TEXT",correctMisspell:0,center:Object(a.a)(s.sll)||u,span:Object(a.a)(s.sspn)||l,zoom:parseInt(s.z,10)||d,rearr:["scheme_Local/Geo/ResultsUnderSeparator/ResultsToAdd=0"],relev_ranking_formula:"common__drugCartSort"};return(null===(n=t.pharmacy)||void 0===n?void 0:n.experiments.ui.newRanking)||delete h.relev_ranking_formula,{region:e.region,cart:e.cart,cartItems:e.cartItems,cartCheckoutItems:e.cartCheckoutItems,preloadedResults:e.preloadedResults,search:{drugs:e.drugs,priceRanges:e.priceRanges,booking:{request:Object(r.a)(Object(r.a)({},h),{},(o={},o[O.e]=T.b(t.query,{convertTo:I.b}),o)),response:f},delivery:{request:Object(r.a)(Object(r.a)({},h),{},(i={},i[O.e]=T.b(t.query,{convertTo:I.c}),i)),response:p}},filters:(null==f?void 0:f.filters)||(null==p?void 0:p.filters)||[],buyMode:m.includes(e.buyMode)?e.buyMode:m[0]||"delivery",enabledBuyModes:m,isLoading:!1,showSearchList:!0}}(e.pharmacy.map,e)),e.pharmacy.order&&(d.order=e.pharmacy.order),d}function ee(e){if(!e.pharmacy)return[];var t=[{mode:"page",type:e.pharmacy.pageType||"showcase"}];return"product"!==e.pharmacy.pageType&&"cart-map"!==e.pharmacy.pageType||!e.pharmacy.map||t.push({mode:"search-list",mobileViewState:"expanded"}),"cart-map"===e.pharmacy.pageType&&e.pharmacy.selectedDrugStore&&t.push({mode:"pharmacy-card",drugStoreId:e.pharmacy.selectedDrugStore.id}),t}function te(){return[{mode:"user-profile"}]}t.a=function(e){var t,n=e.query,o=function(e){var t,n=e.query,r=[];n.photos&&r.push("photos");(n.panorama||"stv"===n.ol||"sta"===n.ol)&&r.push("panoramas");n.mrc&&r.push("mrc");(null===(t=n.events)||void 0===t?void 0:t.id)&&r.push("event");e.business.enableReview&&("add-review"in n||"reviews"===n.tab)&&r.push("reviews");e.query.widget&&r.push("share");e.initialStory&&r.push("stories-player");n.feedback&&!Object(b.a)(e)&&(C.a(n.feedback)||C.d(n.feedback)||C.b(n.feedback)||C.e(n.feedback)||C.c(n.feedback)||C.j(n.feedback)||C.i(n.feedback)||C.h(n.feedback))&&r.push("feedback");B(e).length>0&&r.push("search-result");n.mode&&l.l(n.mode)&&r.push(n.mode);e.discovery&&r.push("discovery");n.orgpage&&r.push("orgpage");n.um&&r.push("usermaps");(n.trfev||n.trfm&&"cur"!==n.trfm)&&r.push("traffic");("mtr"===n.ol||n.masstransit&&(n.masstransit.vehicleType||n.masstransit.stopId||n.masstransit.lineId))&&r.push("masstransit");(n.text||n.ol||n.where)&&r.push("search");(n.hasOwnProperty("rtext")||n.hasOwnProperty("rt"))&&"routes"!==n.mode&&r.push("routes");n.bookmarks&&r.push("bookmarks");n.covid&&r.push("covid");e.actualData&&r.push("actual");"user-profile"!==e.landing.id&&"ugc-profile"!==e.landing.id||r.push(e.landing.id);e.locationInfo&&r.push("home");e.catalogData&&r.push("catalog");return r}(e),a=o[0],s=o.slice(1),c=l.k(a)?s.find(function(e){return!l.k(e)}):s.includes("routes")?"routes":void 0,u=L(n.l,"carparks"),d=null===(t=e.notifications)||void 0===t?void 0:t.some(function(e){return e.types.some(function(e){return"emergency"===e})}),f=_.c(e)?"interstitial":_.d(e)?"mobileBanner":e.query["no-daas"]||d?null:"daas",p="covid-map"===e.query.embed||"collapsed"===e.query["view-state"],v=["expanded","mini","micro"].includes(e.query["view-state"])?e.query["view-state"]:void 0,m=[].concat(D(c,e),D(a,e)).map(function(e){return Object(r.a)(Object(r.a)({},e),{},{mobileViewState:v||e.mobileViewState||"expanded",id:i.a.v4()})}),h=x.f(e),g={config:e,stack:m,loadingErrors:[],map:void 0,homePanel:{isOpen:!0,isLoading:!1,locationInfo:e.locationInfo},search:{visitedBusinesses:[],businessesInside:{}},reviews:{businessReviews:{},ranking:"by_relevance_org"},form:z(e),whatsherePreview:null,ruler:$(e),panoramas:G(e),photos:W(e),mrc:Y(e),addPhotos:Z(e),feedback:{isCommonFeedbackOpened:""===n.feedback||""===n.fb,allowObjectSelectionOnMap:n.feedback&&C.i(n.feedback)},loginDialog:U(e),placemarks:H(e),geolocation:{isStarted:!1,currentPosition:"isUserCoordinates"in e.mapLocation?e.mapLocation.center:null,isAuto:!1,lastTimeUpdate:x.g(h).getTime()},bodyIndents:e.query.webview?{top:Number(n.safearea_inset_top)||0,bottom:Number(n.safearea_inset_bottom)||0}:null,mapRegion:e.mapRegion,traffic:F(e),masstransit:X(e),masstransitBookmarks:{hasInitError:!1,highlightedStopId:null,actions:{},stops:null,lines:null},bookmarks:{highlighted:null,rootFolder:null,hasInitError:!1,hasPlacesInitError:!1,hasActionError:!1,currentAction:null,actions:{},searchResults:{},isLayerEnabled:!1},parking:{isLayerShown:u,isLayerEnabled:!0,center:null},clearHistoryDialogOpened:!1,clearHistorySuccessPopupShown:!1,collapsedSidebar:p,defaultMobileViewState:"expanded",isHeaderFocused:!1,shouldForceOpenSuggest:!1,isHeaderShown:!e.query["no-header"]&&!l.m(e),booking:{personsAmount:2},posts:{byBusinessId:{},byId:{}},isFollowingPin:!1,routes:{isMrcPlayerHidden:!1,isRoutePointDragging:!1,temporaryStackData:{travelMode:void 0,cargo:void 0}},promoType:f,stackActionsCount:0,metro:J(e),actual:{isLoading:!1},notifications:e.notifications,pharmacy:Q(e),closedNotifications:[],indoor:{levelId:null,plans:null},stories:{storyCache:{},businessCache:{}},share:{isExpanded:!1},timeContext:h,mapControlsState:{isMobileControlsHidden:!1}};return g.map=function(e){var t,n,r,o,i,a=e.config,s=function(e){var t,n,r=function(e){var t=Object(E.a)(e);if(!t)return{width:1920,height:1080};return t.display.viewport}(e.config),o=S.c(e),i=o[0],a=o[1],s=o[2],c=o[3];if((null===(t=e.config.pharmacy)||void 0===t?void 0:t.map)&&"undefined"!=typeof window){return{offset:{top:0,left:0},size:"map"===e.config.pharmacy.pageType?{width:window.innerWidth,height:window.innerHeight}:{width:O.p.width,height:O.p.height}}}if(null===(n=e.config.pharmacy)||void 0===n?void 0:n.mapV3)return{size:{width:r.width-O.A,height:r.height-O.z},offset:{left:0,top:0}};return{size:{width:r.width-c-a,height:r.height-i-s},offset:{left:c,top:i}}}(e),c=null!==(t=function(){if("undefined"==typeof window)return;var e=document.querySelector(".map-container");if(!e)return;var t=e.getBoundingClientRect();return{size:{width:e.offsetWidth,height:e.offsetHeight},offset:{top:t.top,left:t.left}}}())&&void 0!==t?t:s,u=S.b(e),l=a.mapLocation;(null===(n=a.pharmacy)||void 0===n?void 0:n.map)&&(l=a.pharmacy.mapLocation);((null===(r=a.pharmacy)||void 0===r?void 0:r.map)||"map"===(null===(o=a.pharmacy)||void 0===o?void 0:o.pageType))&&(i=.01);return{isEditing:!1,isInAction:!1,isHoverForceEnabled:!1,isBlackout:!1,isSnapToRoundZoom:!a.uatraits.isMobile,ready:!1,fullReady:!1,type:a.mapType,mode:"raster",camera:{azimuth:0,tilt:0},size:s.size,offset:s.offset,location:y.c(l,u,c.size,!0,i)}}(g),g}},219:function(e,t,n){"use strict";var r=9007199254740991;t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},22:function(e,t,n){"use strict";var r=n(10),o=n(71),i=n(6),a=(n(1279),n(1281),n(4)),s=n(7),c=n(28),u=n(413),l=n(117),d=n(80),f=n(85),p=n(52),v=n(53),m=n(2800),h=n(11),g=n(1283),y=n.n(g),b=Object(s.a)("popup"),_=3,w={bottom:{vertical:!0,bottom:!0,center:!0},"bottom-right":{vertical:!0,bottom:!0,right:!0},"bottom-left":{vertical:!0,bottom:!0,left:!0},"right-bottom":{horizontal:!0,right:!0,bottom:!0},right:{horizontal:!0,right:!0,middle:!0},"right-top":{horizontal:!0,right:!0,top:!0},top:{vertical:!0,top:!0,center:!0},"top-right":{vertical:!0,top:!0,right:!0},"top-left":{vertical:!0,top:!0,left:!0},left:{horizontal:!0,left:!0,middle:!0},"left-bottom":{horizontal:!0,left:!0,bottom:!0},"left-top":{horizontal:!0,left:!0,top:!0}},E=[],O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._popup=a.createRef(),n._getArrowDimensions=function(){if("tooltip"===n.props.type)return{diagonal:24,height:12};var e=n._arrow?10:0,t=Math.round(e*Math.sqrt(2));return{diagonal:t,height:t/2}},n._getPopupSize=function(){var e=n._popup.current.getBoundingClientRect(),t=n.props.getTarget(),r=n.props.isDropdown&&t?t.getBoundingClientRect().width:e.width;return{width:Math.round(r),height:Math.round(e.height)}},n._getTargetSize=function(){var e=n.props.getTarget();if(e instanceof HTMLElement)return{width:e.offsetWidth,height:e.offsetHeight};if(e&&"getBBox"in e){var t=e.getBBox();return{width:t.width,height:t.height}}return{width:0,height:0}},n._getTargetRect=function(){var e=n.props.getTarget();if(!e)return{top:0,right:0,bottom:0,left:0};var t=n._getTargetSize(),r=e.getBoundingClientRect(),o={top:r.top+S(),left:r.left+j()};return{top:o.top,right:o.left+t.width,bottom:o.top+t.height,left:o.left}},n._isTargetVisible=function(e,t){var r=t.top,o=t.right,i=t.bottom,a=t.left;if(!n.props.checkTargetVisibility)return!0;var s=a+(o-a)/2,c=r+(i-r)/2,u=window.document.elementFromPoint(s,c);return e.contains(u)},n._reposition=function(){var e=n.props,t=e.getTarget();if(e.isShown&&n._popup.current&&t){var r=n._getTargetRect();if(n._isTargetVisible(t,r)){var o=(e.offset?e.offset.main:0)+_,i=e.offset?e.offset.side:0,a=function(){var e=window.document.documentElement,t=j(),n=S(),r=e.clientWidth,o=e.clientHeight,i=Math.max(e.scrollHeight,o)-o;n>i&&(n=i);return{top:n,right:t+r,bottom:n+o,left:t}}(),s=n._getPopupSize(),c=n._getArrowDimensions(),u=!n._popupSize||n._popupSize.width!==s.width||n._popupSize.height!==s.height;n.props.onSizeChange&&u&&n.props.onSizeChange(s),n._popupSize=s;var l,d,f,p=-c.height,v=c.height/2,m=s.width*s.height,h=null,g=[];g=g.concat(n.props.position||"bottom"),e.restrictPosition||(g=g.concat(Object.keys(w)));for(var y=0;y<g.length;y++){var b=w[g[y]],E={top:0,right:0,bottom:0,left:0},O={top:"auto",right:"auto",bottom:"auto",left:"auto"},k=void 0,C=e.arrowOffset||0;if(b.horizontal){b.left?(E.left=r.left-s.width-c.height-o,O.right=p,k="left"):b.right&&(E.left=r.right+c.height+o,O.left=p,k="right"),b.middle?E.top=(r.top+r.bottom-s.height)/2+i:b.top?E.top=Math.max(r.bottom,(r.top+r.bottom+c.height)/2)+v-s.height-i:b.bottom&&(E.top=Math.min(r.top,(r.top+r.bottom-c.height)/2)-v+i);var T=(r.top+r.bottom-c.diagonal)/2-E.top+i+C;O.top=Math.min(Math.max(0,T),s.height-c.diagonal)}else if(b.vertical){b.top?(E.top=r.top-s.height-c.height-o,O.bottom=p,k="top"):b.bottom&&(E.top=r.bottom+c.height+o,O.top=p,k="bottom"),b.center?E.left=(r.left+r.right-s.width)/2+i:b.left?E.left=Math.max(r.right-s.width,(r.left+r.right+c.height)/2)+v-s.width-i:b.right&&(E.left=Math.min(r.left,(r.left+r.right-c.height)/2)-v+i);var I=(r.left+r.right-c.diagonal)/2-E.left+i+C;O.left=Math.min(Math.max(0,I),s.width-c.diagonal)}E.bottom=E.top+s.height,E.right=E.left+s.width;var R=(l=E,d=a,f=void 0,f=Math.max(0,Math.min(l.right,d.right)-Math.max(l.left,d.left))*Math.max(0,Math.min(l.bottom,d.bottom)-Math.max(l.top,d.top)),Math.round(f));if(e.isMinLeftZero&&E.left<0&&b.vertical&&("number"==typeof O.left&&(O.left+=E.left),E.left=0),(!h||R>h.square)&&(h={popupPos:{left:E.left,top:E.top},arrowPos:O,square:R,mainPos:k}),R===m)break}var x=h.popupPos,M={left:x.left,top:x.top};n.props.isDropdown&&(M.width=n._getTargetSize().width);var P=x.top>0?a.bottom-x.top:void 0;n.setState({style:M,arrowStyle:h.arrowPos,position:h.mainPos,maxContentHeight:P,isShown:!0,isTargetVisible:!0})}else n.setState({isTargetVisible:!1})}},n._onClose=function(e,t){n.props.onClose&&n.props.onClose({reason:t,event:e})},n._onClickOutside=function(e){n.props.isShown&&n._onClose(e,"click-outside")},n._onWindowScroll=function(e){n.props.isShown&&(n.props.onScroll&&"reposition"!==n.props.onScroll?n._onClose(e,"scroll"):n._repositionThrottled())},n._onEsc=function(e){n.props.isShown&&n._onClose(e,"esc")},n._onShow=function(){E.includes(Object(o.a)(n))||n.props.ninjaMode||E.push(Object(o.a)(n));var e=n._getPopupSize();n.state.isShown&&n._popupSize.width===e.width&&n._popupSize.height===e.height||n._reposition()},n._onHide=function(){E=E.filter(function(e){return e!==Object(o.a)(n)}),n.setState({style:{top:0,left:0},isShown:!1})},n._onHideEnd=function(){n._onHide(),n.props.onHideEnd&&n.props.onHideEnd()},n._getExcludedNodes=function(){var e=n.props,t=e.getExcludedNodes,r=e.hideOnTargetClick,o=e.getTarget,i=[],a=t&&t();a&&(i=i.concat(a));var s=r?null:o();return s&&(i=i.concat(s)),i},n._renderPopup=function(){var e=n.props,t=n.state,o=t.isTargetVisible?"visible":"hidden",i=e.noPointerEvents?"none":"auto",s=Object(r.a)({zIndex:e.zIndex,visibility:o,pointerEvents:i},t.style),c=e.type||"normal",u=b({type:c,position:t.position,dropdown:e.isDropdown,"full-height":e.fullHeight})+(e.className?" "+e.className:""),l=t.maxContentHeight?{maxHeight:t.maxContentHeight}:{};return a.createElement("div",{className:u,style:s,ref:n._popup,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},void 0===e.showArrow||e.showArrow?a.createElement("div",{className:b("arrow",{"arrow-type":e.arrowType}),style:t.arrowStyle,ref:function(e){return n._arrow=e||void 0}},"tooltip"!==c||e.arrowType?null:a.createElement(h.a,{url:y.a})):null,a.createElement("div",{className:b("content",{"full-height":e.fullHeight}),style:l},e.children),e.repositionOnContentResize?a.createElement(f.a,{onResize:n._repositionThrottled}):null,a.createElement(d.a,{handlers:{key:v.a.ESC,callback:n._onEsc,allowInEditable:!0}}))},n._repositionThrottled=Object(m.a)(n._reposition,50),n.state={style:{top:0,left:0},arrowStyle:{top:"auto",right:"auto",bottom:"auto",left:"auto"},position:"bottom",isShown:!1,isTargetVisible:!t.checkTargetVisibility},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._observer="IntersectionObserver"in window?new IntersectionObserver(function(){e._repositionThrottled()}):void 0,this.props.checkTargetVisibility&&this._repositionThrottled();var t=this.props.getTarget();t&&this._observer&&this._observer.observe(t)},n.componentDidUpdate=function(e){this.props!==e&&this.props.isShown&&this._repositionThrottled()},n.componentWillUnmount=function(){var e=this;E=E.filter(function(t){return t!==e}),this._repositionThrottled.cancel(),this._observer&&this._observer.disconnect()},n.render=function(){return a.createElement(c.a,null,a.createElement(p.a,{onShow:this._onShow,onHideEnd:this._onHideEnd},this.props.isShown?a.createElement(u.a,{callback:this._onClickOutside,getExcludedNodes:this._getExcludedNodes},this._renderPopup()):null),a.createElement(l.a,{type:"resize",listener:this._onWindowScroll,options:!0}),a.createElement(l.a,{type:"scroll",listener:this._onWindowScroll,options:!0}),a.createElement(l.a,{type:"orientationchange",listener:this._onWindowScroll,options:!0}),a.createElement(l.a,{type:"layout-change",listener:this._onWindowScroll}))},t}(a.Component);function S(){return window.document.documentElement.scrollTop||window.document.body.scrollTop}function j(){return window.document.documentElement.scrollLeft||window.document.body.scrollLeft}O.isShown=function(){return E.length>0},t.a=O},220:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("panoramas").then(n.bind(null,2507))},{setLoadingPanorama:!0,setCurrentPanorama:!0,updateLayers:!0,enableLayer:!0,disableLayer:!0,toggleLayer:!0})},229:function(e,t,n){"use strict";var r=n(230).a.Symbol;t.a=r},23:function(e,t,n){"use strict";var r,o,i=n(10),a=n(2796),s=n(25),c={fetch:function(e,t){return Object(s.a)("location-info/get",{query:Object(i.a)(Object(i.a)({},e),{},{center:Object(a.a)(e.center),discoveryBranch:t.query.discoveryBranch})},t)}},u={fetchAuthorizedBusinesses:function(e){return Object(s.a)("/tycoon/fetchAuthorizedBusinesses",{},e)}},l=n(18),d=n(37),f=n(16),p=n(661),v=n(0),m=n(32),h={assignFormTextInStack:function(e){return function(t,n){var r=n().stack,o=r[r.length-1];o&&t(d.a.update(o,{formText:e}))}},updateSearchText:function(e){return function(t,n){var r=n().form;t({type:"EXTEND",payload:{form:Object(i.a)(Object(i.a)({},r),{},{text:e})}})}},setSearchFormType:function(e){return function(t,n){var r=n().form,o="nearby"===e.id;t({type:"EXTEND",payload:{form:Object(i.a)(Object(i.a)({},r),{},{formType:e,text:o?"":r.text})}}),o&&t(h.setMobileViewState("mini"))}},resetStackAndSidebar:function(){return function(e,t){0!==t().stack.length&&e(d.a.reset([],{form:{text:"",formType:{id:"common"}}}))}},reduceStackByLastMode:function(e){return function(t,n){var r=n();if(0!==r.stack.length){var o=["search","search-result"],i=f.d(r),a=o.includes(i)?o:[i],s=f.a(r,a);t(d.a.reset(s,e))}}},hideLayers:function(){return function(e){e(h.resetStackAndSidebar()),e({type:"DEEP_EXTEND",payload:{masstransit:{isLayerShown:!1},traffic:{isLayerEnabled:!1}}})}},openHomePanel:function(e){return function(t,n,o){var i=o.config;l.a.cancel(r);var a=n().map.location;e&&t(h.setMapLocation(e)),t(h.resetStackAndSidebar()),t({type:"DEEP_EXTEND",payload:{homePanel:{isOpen:!0,isLoading:!0}}}),r=l.a.create(c.fetch({center:(null==e?void 0:e.center)||a.center,zoom:(null==e?void 0:e.zoom)||a.zoom,lang:i.lang,locale:i.locale},i),{success:function(e){t({type:"EXTEND",payload:{homePanel:{isOpen:!0,isLoading:!1,locationInfo:e}}})},fail:function(){t({type:"DEEP_EXTEND",payload:{homePanel:{isLoading:!1}}})}})}},closeHomePanel:function(){return{type:"DEEP_EXTEND",payload:{homePanel:{isOpen:!1}}}},openLoginDialog:function(e){return{type:"EXTEND",payload:{loginDialog:{isOpen:!0,type:e}}}},closeLoginDialog:function(){return{type:"DEEP_EXTEND",payload:{loginDialog:{isOpen:!1}}}},checkAuthorization:function(e,t){return function(n,r,o){var i=o.config;i.authorization?["reviews","feedback","commentator"].includes(e)&&Object(p.a)(i)?n(h.openLoginDialog("verification")):t():n(h.openLoginDialog(e))}},switchRuler:function(){return function(e,t){return e({type:"DEEP_EXTEND",payload:{ruler:{isEnabled:!t().ruler.isEnabled}}})}},updateRuler:function(e){return function(t,n){return t({type:"DEEP_EXTEND",payload:{ruler:{isEnabled:n().ruler.isEnabled,points:e}}})}},startGeolocation:function(e){return void 0===e&&(e={isAuto:!1}),{type:"DEEP_EXTEND",payload:{geolocation:{isStarted:!0,isAuto:e.isAuto}}}},stopGeolocation:function(){return{type:"DEEP_EXTEND",payload:{geolocation:{isStarted:!1}}}},setCurrentPosition:function(e,t){return function(n,r){n({type:"DEEP_EXTEND",payload:{geolocation:{currentPosition:e,lastTimeUpdate:m.g(r().timeContext).getTime(),accuracy:t}}})}},setBodyIndents:function(e){return{type:"EXTEND",payload:{bodyIndents:e}}},setRegion:function(e){return{type:"EXTEND",payload:{mapRegion:e}}},setEmergencyNotifications:function(e){return{type:"EXTEND",payload:{notifications:e}}},closeNotification:function(e){return function(t,n){var r=n().closedNotifications;if(!r.some(function(t){return t.id===e.id})){var o=[].concat(r,[e]);t({type:"EXTEND",payload:{closedNotifications:o}}),v.a.set("closed_emergency_notifications",o)}}},changeTravelMode:function(e){return function(t){t({type:"DEEP_EXTEND",payload:{routes:{temporaryStackData:{travelMode:e}}}}),v.a.set("routes_travel_mode",e)}},setCollapsedSidebar:function(e){return function(t){t({type:"EXTEND",payload:{collapsedSidebar:e}})}},toggleSidebar:function(){return function(e,t,n){n.config;var r=t(),o=!f.n(r);e(h.setCollapsedSidebar(o))}},setMobileViewState:function(e){return function(t,n){var r=n(),o=f.d(r),i=f.h(r,o);t(i?d.a.update(i,{mobileViewState:e}):{type:"EXTEND",payload:{defaultMobileViewState:e}})}},openClearHistoryDialog:function(){return{type:"EXTEND",payload:{clearHistoryDialogOpened:!0}}},closeClearHistoryDialog:function(){return{type:"EXTEND",payload:{clearHistoryDialogOpened:!1}}},showClearHistorySuccessPopup:function(){return{type:"EXTEND",payload:{clearHistorySuccessPopupShown:!0}}},hideClearHistorySuccessPopup:function(){return{type:"EXTEND",payload:{clearHistorySuccessPopupShown:!1}}},updateMap:function(e){return{type:"DEEP_EXTEND",payload:{map:e}}},updateMapControls:function(e){return{type:"DEEP_EXTEND",payload:{mapControlsState:e}}},setMapLocation:function(e){return function(t,n){var r=n().map;t({type:"EXTEND",payload:{map:Object(i.a)(Object(i.a)({},r),{},{locationRequest:e})}})}},setHeaderFocus:function(e){return{type:"EXTEND",payload:{isHeaderFocused:e}}},setForceOpenSuggest:function(e){return{type:"EXTEND",payload:{shouldForceOpenSuggest:e}}},toggleHeader:function(e){return{type:"EXTEND",payload:{isHeaderShown:e}}},setFollowingPin:function(e){return{type:"EXTEND",payload:{isFollowingPin:e}}},setPromoType:function(e){return{type:"EXTEND",payload:{promoType:e}}},openShare:function(){return function(e,t){var n=t();f.h(n,"share")||e(d.a.push({mode:"share"}))}},fetchAuthorizedBusinesses:function(){return function(e,t,n){var r=n.config;function i(t){e({type:"EXTEND",payload:{authorizedBusinesses:t}})}l.a.cancel(o),i({status:"loading",data:[]}),o=l.a.create(u.fetchAuthorizedBusinesses(r),{success:function(e){i({status:"success",data:e})},fail:function(){i({status:"fail",data:[]})}})}},showBlackoutMap:function(){return{type:"DEEP_EXTEND",payload:{map:{isBlackout:!0}}}},hideBlackoutMap:function(){return{type:"DEEP_EXTEND",payload:{map:{isBlackout:!1}}}}};t.a=h},230:function(e,t,n){"use strict";var r=n(971),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},231:function(e,t,n){"use strict";t.a=function(e){return function(t){return null==t?void 0:t[e]}}},232:function(e,t,n){"use strict";function r(e){return 180/Math.PI*e}n.d(t,"a",function(){return r})},233:function(e,t){},234:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(2800),a=n(97),s=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e;this._listener=Object(i.a)(this.props.eventHandler,null!==(e=this.props.throttleWait)&&void 0!==e?e:512),this._unsubscribe=this.props.addListener(this._listener)},n.componentWillUnmount=function(){this._unsubscribe(),this._listener.cancel()},n.render=function(){return null},t}(o.PureComponent);t.a=Object(a.b)(s)},24:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(70),o=n(316),i=36e5,a=6e4,s=2,c={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function u(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},u=null==n.additionalDigits?s:Object(r.a)(n.additionalDigits);if(2!==u&&1!==u&&0!==u)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var d=function(e){var t,n={},r=e.split(c.dateTimeDelimeter);c.plainTime.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],c.timeZoneDelimeter.test(n.date)&&(n.date=e.split(c.timeZoneDelimeter)[0],t=e.substr(n.date.length,e.length)));if(t){var o=c.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e),f=function(e,t){var n,r=c.YYY[t],o=c.YYYYY[t];if(n=c.YYYY.exec(e)||o.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=c.YY.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(d.date,u),y=f.year,b=function(e,t){if(null===t)return null;var n,r,o,i;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=c.MM.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,v(t,o)?(r.setUTCFullYear(t,o),r):new Date(NaN);if(n=c.DDD.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return function(e,t){if(t<1)return!1;var n=p(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,a)?(r.setUTCFullYear(t,0,a),r):new Date(NaN)}if(n=c.MMDD.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return v(t,o,s)?(r.setUTCFullYear(t,o,s),r):new Date(NaN)}if(n=c.Www.exec(e))return i=parseInt(n[1],10)-1,m(t,i)?l(t,i):new Date(NaN);if(n=c.WwwD.exec(e)){i=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return m(t,i,u)?l(t,i,u):new Date(NaN)}return null}(f.restDateString,y);if(isNaN(b))return new Date(NaN);if(b){var _,w=b.getTime(),E=0;if(d.time&&(E=function(e){var t,n,r;if(t=c.HH.exec(e))return h(n=parseFloat(t[1].replace(",",".")))?n%24*i:NaN;if(t=c.HHMM.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),h(n,r)?n%24*i+r*a:NaN;if(t=c.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return h(n,r,o)?n%24*i+r*a+1e3*o:NaN}return null}(d.time),isNaN(E)))return new Date(NaN);if(d.timezone){if(_=function(e){var t,n,r;if(t=c.timezoneZ.exec(e))return 0;if(t=c.timezoneHH.exec(e))return g(r=parseInt(t[2],10))?(n=r*i,"+"===t[1]?-n:n):NaN;if(t=c.timezoneHHMM.exec(e)){r=parseInt(t[2],10);var o=parseInt(t[3],10);return g(r,o)?(n=r*i+o*a,"+"===t[1]?-n:n):NaN}return 0}(d.timezone),isNaN(_))return new Date(NaN)}else _=Object(o.a)(new Date(w+E)),_=Object(o.a)(new Date(w+E+_));return new Date(w+E+_)}return new Date(NaN)}function l(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}var d=[31,28,31,30,31,30,31,31,30,31,30,31],f=[31,29,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400==0||e%4==0&&e%100!=0}function v(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=p(e);if(r&&n>f[t])return!1;if(!r&&n>d[t])return!1}return!0}function m(e,t,n){return!(t<0||t>52)&&(null==n||!(n<0||n>6))}function h(e,t,n){return(null==e||!(e<0||e>=25))&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}function g(e,t){return null==t||!(t<0||t>59)}},25:function(e,t,n){"use strict";var r=n(10),o=n(128),i=n(987),a=n(108);var s,c=function(e){var t=a.stringify(e,{sort:function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0}});return t?String(function(e){for(var t=e.length,n=5381,r=0;r<t;r++)n=33*n^e.charCodeAt(r);return n>>>0}(t)):""};t.a=function e(t,n,a,u){var l={csrfToken:s||a.csrfToken,sessionId:a.counters.analytics.sessionId,host_config:a.hostConfig,ajax:"1"};a.query["no-mail"]&&(l["no-mail"]=!0),a.query["no-cache"]&&(l["no-cache"]=!0),a.query.debug&&(l.debug=a.query.debug),a.mocks&&(l.mocks=0!==Object.keys(a.mocks).length?a.mocks:"1"),a.query.pron&&(l.pron=a.query.pron);var d={url:(n.baseUrl||a.baseUrl)+"/api/"+t,method:n.body?"POST":"GET",headers:{"X-Retpath-Y":window.location.href}};if(n.body)d.body=JSON.stringify(Object(r.a)(Object(r.a)({},l),n.body)),d.headers=Object(r.a)(Object(r.a)(Object(r.a)({},d.headers),n.headers),{},{"Content-Type":"application/json; charset=utf-8"});else{var f=Object(r.a)(Object(r.a)({},l),n.query),p=c(f);d.query=Object(r.a)(Object(r.a)({},f),{},{s:p})}return Object(o.a)(d).then(function(r){if(function(e){return"type"in e&&"captcha"===e.type}(r))throw window.location.href=r.captcha["captcha-page"],new Error("Response is captcha");if("csrfToken"in r){if(!1!==u)return s=r.csrfToken,e(t,n,a,!1);throw new Error("Invalid csrf token")}if(r.debugData&&Object(i.a)(r.debugData),"error"in r)throw r.error;return r.data})}},251:function(e,t,n){"use strict";var r=n(650);var o=function(){this.__data__=new r.a,this.size=0};var i=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var a=function(e){return this.__data__.get(e)};var s=function(e){return this.__data__.has(e)},c=n(667),u=n(216),l=200;var d=function(e,t){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!c.a||o.length<l-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new u.a(o)}return n.set(e,t),this.size=n.size,this};function f(e){var t=this.__data__=new r.a(e);this.size=t.size}f.prototype.clear=o,f.prototype.delete=i,f.prototype.get=a,f.prototype.has=s,f.prototype.set=d;t.a=f},252:function(e,t,n){"use strict";var r=n(966),o=n(657);var i=n(193);function a(e,t,n){void 0===n&&(n=!1);var a=(e=function(e){var t=e[0],n=e[1];return[Object(r.a)(t),Object(o.a)(n)]}(e))[1]*Math.PI/180,s=Math.tan(.25*Math.PI+.5*a),c=Math.pow(2,t+8),u=n?1:Math.pow(Math.tan(.25*Math.PI+.5*Math.asin(i.h*Math.sin(a))),i.h);return[(e[0]/360+.5)*c,(.5-Math.log(s/u)/(2*Math.PI))*c]}n.d(t,"a",function(){return a})},253:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return y});var r=n(2794),o=n(252),i=n(450),a=n(447),s=n(342),c=n(976),u=(n(2795),23);function l(e,t,n,o,i){void 0===o&&(o=!0);var a=e.center,s=e.zoom,c=e.span,u=e.bounds,l=y(n,t);if(!s){var d=u||Object(r.a)({center:a,span:c});s=p(d,l,o,i),a=v(d)}return{center:a,zoom:s,span:c=m(u=f(a,s,l)),bounds:u}}function d(e){var t=[e.center[0],e.center[1]],n=e.size,r=y({width:n.x,height:n.y},e.margin),o=f(t,e.zoom,r),i=m(o);return{center:t,zoom:e.zoom,span:i,bounds:o}}function f(e,t,n){var r=Object(o.a)(e,t),a=r[0],s=r[1],c=[[a-n.width/2,s+n.height/2],[a+n.width/2,s-n.height/2]];return[Object(i.a)(c[0],t),Object(i.a)(c[1],t,!1)]}function p(e,t,n,r){void 0===r&&(r=0);var o=Object(a.a)(e,0),i=Math.max(Math.abs(o[1][0]-o[0][0]),1e-10),s=Math.max(Math.abs(o[1][1]-o[0][1]),1e-10),c=Math.min(Math.max(0,Math.min(g(t.width/i),g(t.height/s))),u);return n?Math.floor(c+r+1e-10):Math.round(100*c)/100}function v(e){return function(e,t,n){var r=Object(a.a)(e,t),o=r[0],s=o[0],c=o[1],u=r[1],l=u[0],d=u[1];return Object(i.a)([(s+l-(n[1]-n[3]))/2,(c+d-(n[0]-n[2]))/2],t)}(e,u,[0,0,0,0])}function m(e){var t=e[0],n=t[0],r=t[1],o=e[1],i=o[0],a=o[1];return[Math.abs(i-n),Object(s.a)(a,r,r+360)-r]}function h(e,t){var n=Object(a.a)(e,u),r=Object(a.a)(t,u);return Object(c.a)([[Math.min(n[0][0],r[0][0]),Math.min(n[0][1],r[0][1])],[Math.max(n[1][0],r[1][0]),Math.max(n[1][1],r[1][1])]],u)}function g(e){return Math.log(e)*Math.LOG2E}function y(e,t){return{width:Math.max(e.width-(t?t[1]+t[3]:0),1),height:Math.max(e.height-(t?t[0]+t[2]:0),1)}}},254:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("covid").then(n.bind(null,1409))},{open:!0,openIsolation:!0})},2544:function(e,t,n){},2546:function(e,t,n){},2548:function(e,t,n){},255:function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(4),a=200,s=function(e){function t(t){var n;return(n=e.call(this,t)||this)._popupTimer=0,n._updatePopup=function(e,t){window.clearTimeout(n._popupTimer),t?n.setState({popup:e}):n._popupTimer=window.setTimeout(function(){n.setState({popup:e})},a)},n.state={popup:null},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){e.onPopupUpdate&&this.state.popup!==t.popup&&e.onPopupUpdate(t.popup)},n.componentWillUnmount=function(){window.clearTimeout(this._popupTimer)},n.render=function(){var e=this,t=this.props;return t.children(function(n){var o=t.isMobile?null:{onMouseEnter:function(){return e._updatePopup(n)},onMouseLeave:function(){return e._updatePopup(null)}};return{buttonProps:Object(r.a)({onClick:function(){return e._updatePopup(n,!0)}},o),popupProps:Object(r.a)({isShown:e.state.popup===n,onOpen:function(){return e._updatePopup(n,!0)},onClose:function(){return e._updatePopup(null,!0)}},o)}})},t}(i.Component);t.a=s},2550:function(e,t,n){},2552:function(e,t){},256:function(e,t,n){"use strict";var r=n(6),o=(n(1377),n(4)),i=n(7),a=n(101),s=n(22),c=n(18),u=n(164),l=n(117),d=n(53),f=Object(i.a)("suggest"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._pressed=!1,n._justCleared=!1,n._blurTimer=0,n._skipNextInputFocusEvent=!1,n._input=null,n._ref=o.createRef(),n._setInitialFocus=function(){var e,t=n.props,r=n._input;n._skipNextInputFocusEvent=!0,r.focus(),null===(e=r.setSelectionRange)||void 0===e||e.call(r,t.value.length,t.value.length),t.initialSuggest&&n._loadDrop(t.value)},n._removePressedState=function(){n._pressed=!1},n._onWindowFocus=function(){n._skipNextInputFocusEvent=!0},n._onItemClick=function(e,t){var r=n.state;if(r.isDropShown){var o=r.data.groups[e];if(o){var i=o.items[t];if(i){var a=n.props,s=a.onItemClick,c=a.onSelect,u=a.mapItemToString;s&&s(),c(u(i),{value:i,groupIndex:e,itemIndex:t,type:"click",data:r.data}),n._cancelDataLoad(),n.setState({isDropShown:!1,selectedItemInfo:void 0})}}}},n._onItemButtonClick=function(e,t){var r=n._selectResult({group:e,item:t});n.setState({selectedItemInfo:r.selectedItemInfo}),n._onInputChange(r.text+" ",{reason:"button"}),n._input.focus(),window.clearTimeout(n._blurTimer)},n._onItemMouseEnter=function(e,t){n.setState({selectedItemInfo:{group:e,item:t,isHover:!0}})},n._onItemMouseLeave=function(){n.setState({selectedItemInfo:void 0})},n._onVisibilityChange=function(){window.document.activeElement===n._input&&"visible"===document.visibilityState&&n._onInputFocus()},n._onInputClick=function(e){var t;n.state.isDropShown||window.document.activeElement!==n._input||(n._onInputFocus(),(null===(t=n.props.analyticsRef)||void 0===t?void 0:t.current)&&n.props.analyticsRef.current.logEvent("click"));n.props.onClick&&n.props.onClick(e)},n._onInputChange=function(e,t){var r=n.props,o=n._shouldShowDrop(),i=Boolean(t&&"clear"===t.reason);n._justCleared=i,n.setState({selectedItemInfo:void 0,isClearChange:i},function(){n._shouldShowDrop()?n._loadDrop(e):o&&n._hideDrop(),n._justCleared=!1}),r.onChange(e,t)},n._onInputFocus=function(e){var t=n.props;if(!n._skipNextInputFocusEvent||t.isPhone){var r=!e||Boolean(e.relatedTarget)||t.showSuggestOnFocus;!t.onFocus||!r&&t.isPhone||t.onFocus(),n.setState({isFocused:!0,isClearChange:n._justCleared},function(){r&&n._shouldShowDrop()&&n._loadDrop(n.props.value)})}else n._skipNextInputFocusEvent=!1},n._shouldShowDrop=function(){var e=n.props,t=e.value,r=e.requestOnEmpty,o=e.showSuggestOnClear,i=n.state,a=i.isFocused,s=i.isClearChange;return(Boolean(t||r)||n._pressed||a)&&!s||!t&&s&&Boolean(o)},n._onInputBlur=function(e){n._cancelDataLoad(),n._setHideTimeout(),n.setState({isFocused:!1}),n.props.onBlur&&e&&n.props.onBlur(e)},n._setHideTimeout=function(){window.clearTimeout(n._blurTimer),n._blurTimer=window.setTimeout(function(){n._pressed?n._setHideTimeout():n.props.showDropAlways||n._hideDrop()},300)},n._onDataLoad=function(e){var t=n.props,r=t.onResponseSuccess,o=t.renderExtra,i=t.showOnEmpty,a="groups"in e?e.groups:Array.isArray(e)?e:[e],s={groups:a,rawResponse:"rawResponse"in e?e.rawResponse:void 0},c=a.reduce(function(e,t){return e+t.items.length},0);n.setState({isDropShown:c>0||Boolean(o)||Boolean(i),data:s}),r&&r(s)},n._cancelDataLoad=function(){c.a.cancel(n._onDataLoadAction)},n._loadDrop=function(e){var t=n.props,r=t.loader,o=t.onResponseFail;n._cancelDataLoad(),n._blurTimer&&window.clearTimeout(n._blurTimer);var i=n._input.selectionStart||0;n._onDataLoadAction=c.a.create(r(e,i),{success:n._onDataLoad,fail:o})},n._hideDrop=function(){n._cancelDataLoad(),n.setState({isDropShown:!1,data:{groups:[]},selectedItemInfo:void 0},function(){n.props.onHide&&n.props.onHide()})},n._onInputKeyDown=function(e){var t,r=n.props,o=n.props,i=o.onSelect,a=o.mapItemToString,s=o.value,c=n.state,u=c.data,l=c.selectedItemInfo,f=c.isDropShown,p=l||{},v=p.group,m=void 0===v?-1:v,h=p.item,g=void 0===h?-1:h;switch(u.groups[m]&&(t=u.groups[m].items[g]),e.keyCode){case d.a.ENTER:e.preventDefault(),t&&l&&!l.isHover?i(a(t),{value:t,groupIndex:m,itemIndex:g,type:"enter",data:u}):i(s,{type:"enter",data:u}),n._cancelDataLoad(),n.setState({isDropShown:!1,selectedItemInfo:t?void 0:l});break;case d.a.TAB:r.onTab&&r.onTab();break;case d.a.ESC:n._hideDrop();break;case d.a.UP:e.preventDefault(),n._onArrowDown(s,n._selectPreviousResult);break;case d.a.DOWN:e.preventDefault(),n._onArrowDown(s,n._selectNextResult),f||n._loadDrop(s)}},n._onArrowDown=function(e,t){var r=n.props,o=n.state;if(n._saveUsersText(e),o.isDropShown){var i=t(),a=i.selectedItemInfo;n.setState({selectedItemInfo:a}),r.onChange(i.text,{reason:"arrow"})}},n._getGroupWithItemIndex=function(e,t){var n=e.map(function(e,t){return 0===e.items.length?null:t});t&&n.reverse();var r=n.find(function(e){return null!==e});return"number"==typeof r?r:null},n._selectPreviousResult=function(){var e,t=n.state,r=t.data,o=t.selectedItemInfo;if(o){var i=o.group,a=o.item;if(0!==a)e={group:i,item:a-1};else if(0!==i){var s=n._getGroupWithItemIndex(r.groups.filter(function(e,t){return t<i}),!0);null!==s&&(e={group:s,item:r.groups[s].items.length-1})}}else{var c=n._getGroupWithItemIndex(r.groups,!0);null!==c&&(e={group:c,item:r.groups[c].items.length-1})}return n._selectResult(e)},n._selectNextResult=function(){var e,t=n.state,r=t.data,o=t.selectedItemInfo;if(o){var i=o.group,a=o.item;if(a!==r.groups[i].items.length-1)e={group:i,item:a+1};else if(i!==r.groups.length-1){var s=n._getGroupWithItemIndex(r.groups.map(function(e,t){return t>i?e:{items:[]}}));null!==s&&(e={group:s,item:0})}}else{var c=n._getGroupWithItemIndex(r.groups);null!==c&&(e={group:c,item:0})}return n._selectResult(e)},n._selectResult=function(e){var t=n.props,r=t.onSelectedItemChange,o=t.mapItemToString,i=t.value,a=n.state.data,s=e?a.groups[e.group].items[e.item]:void 0;return r&&r(s),s?{selectedItemInfo:e,text:o(s)}:{selectedItemInfo:void 0,text:n._usersText||i}},n._saveUsersText=function(e){void 0===n.state.selectedItemInfo&&(n._usersText=e)},n._fieldRef=function(e){n._input=e,n.props.fieldRef&&n.props.fieldRef(e)},n._onSuggestMouseDown=function(e){n._pressed=!0,n._onInputBlur(),n.props.onMouseDown&&n.props.onMouseDown(e)},n._getTarget=function(){return n.props.getTarget?n.props.getTarget():n._ref.current},n._renderDropItem=function(e,t,r){var o=n.state.selectedItemInfo;return n.props.renderDropItem({content:e,key:t+":"+r,selected:Boolean(o&&t===o.group&&r===o.item),onClick:function(){return n._onItemClick(t,r)},onButtonClick:function(){return n._onItemButtonClick(t,r)},onMouseEnter:function(){return n._onItemMouseEnter(t,r)},onMouseLeave:n._onItemMouseLeave})},n._renderDropGroup=function(e,t){return 0===e.items.length?null:o.createElement("ul",{className:f("group",{titled:Boolean(e.title)}),key:t},e.title?o.createElement("div",{className:f("group-title")},e.title):null,e.items.map(function(e,r){return n._renderDropItem(e,t,r)}))},n._renderDrop=function(){var e=n.props,t=e.contentMargin,r=e.renderExtra,i=e.renderExtraFirst,a=e.renderDropInPopup,s=e.fullHeight,c=e.disabled,l=n.state,d=l.data,p=l.isDropShown,v=r?r():null;if(0===d.groups.reduce(function(e,t){return e+t.items.length},0)&&!v||!p&&a||c)return null;var m={"in-popup":a,"full-height":s,"max-half-window":n.props.maxHalfWindow},h=o.createElement("div",{className:f("content",m),style:t?{margin:t}:void 0,onMouseDown:n._onSuggestMouseDown},o.createElement(u.a,{width:"dynamic"},i?v:null,d.groups.map(n._renderDropGroup),i?null:v));return n.props.renderDropWrapper?n.props.renderDropWrapper(h,d):h},n.state={data:{groups:[]},isDropShown:!1,isFocused:Boolean(t.initialFocus),isClearChange:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;e.initialFocus&&this._setInitialFocus(),e.innerRef&&e.innerRef(this._ref.current),e.shouldForceOpenSuggest&&e.setForceOpenSuggest&&(this._loadDrop(e.value),e.setForceOpenSuggest(!1))},n.componentDidUpdate=function(e,t){var n=this.props,r=this.state;r.isDropShown!==t.isDropShown&&n.onSuggest&&n.onSuggest(r.isDropShown),r.isDropShown&&e.loader!==n.loader&&this._loadDrop(n.value),!e.shouldForceOpenSuggest&&n.shouldForceOpenSuggest&&n.setForceOpenSuggest&&(this._setInitialFocus(),this._loadDrop(n.value),n.setForceOpenSuggest(!1))},n.componentWillUnmount=function(){this._cancelDataLoad(),window.clearTimeout(this._blurTimer);var e=this.props.innerRef;e&&e(null)},n.render=function(){var e=this.props,t=this.state.isDropShown,n=Boolean(t&&this._shouldShowDrop());return this._input&&"search"===e.view&&(this._input.scrollLeft=this._input.scrollWidth),o.createElement("div",{className:f(),ref:this._ref},o.createElement(a.a,{type:"search",tabIndex:e.tabIndex,value:e.value,view:e.view,maxLength:e.maxLength,placeholder:e.placeholder,disabled:e.disabled,showClear:e.showClear,autoFocus:e.autoFocus,leftIcons:e.leftIcons,rightIcons:e.rightIcons,selectOnFocus:e.selectOnFocus,onChange:this._onInputChange,onFocus:this._onInputFocus,onBlur:this._onInputBlur,onKeyDown:this._onInputKeyDown,onPaste:e.onPaste,fieldRef:this._fieldRef,onClick:this._onInputClick,collapsed:e.collapsed}),e.renderDropInPopup?o.createElement(s.a,{isShown:n,fullHeight:e.fullHeight,type:"transparent",position:"bottom",restrictPosition:!0,offset:{main:-4,side:0},getTarget:this._getTarget,onClose:v,showArrow:!1,isDropdown:!0},this._renderDrop()):o.createElement("div",{className:f("drop")},this._renderDrop()),o.createElement(l.a,{type:"mouseup",listener:this._removePressedState}),o.createElement(l.a,{type:"focus",listener:this._onWindowFocus}),e.showSuggestOnFocus?o.createElement(l.a,{type:"visibilitychange",listener:this._onVisibilityChange}):null)},t}(o.Component);function v(){}t.a=p},26:function(e,t,n){"use strict";var r={},o=function(e){return function(t,n){t({type:"EXTEND",payload:{loadingErrors:[].concat(n().loadingErrors,[e])}})}};t.a=function(e,t){var n=e.toString();return r[n]||Object.keys(t).reduce(function(t,i){return t[i]=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return function(t){var s=function(e){return t(e[i].apply(e,a))};return r[n]?s(r[n]):e().then(function(e){var t=e.default;return s(r[n]=t)},function(e){return t(o(e.message))})}},t},{})}},2721:function(e,t,n){},2723:function(e,t,n){},2725:function(e,t,n){"use strict";var r=n(6),o=(n(2726),n(4)),i=n(7),a=n(54),s=n(9),c=n(8),u=n(87),l=(n(1069),n(92)),d=n(36),f=Object(i.a)("geolocation-pin"),p=(u.a.minimum,function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=Object(d.f)(e.config)?"map-placemark-dot-ru":"map-placemark-dot";return o.createElement(o.Fragment,null,o.createElement(c.a,{name:"geolocation_pin"},o.createElement(a.a,{coordinates:e.currentPosition,zIndex:u.a.minimum,nonInteractive:!0},o.createElement("div",{className:f("placemark")},o.createElement(l.a,{name:t,size:32})))),null)},t}(o.Component));t.a=Object(s.b)(p)},2726:function(e,t,n){},2728:function(e,t,n){"use strict";var r=n(1136),o=n.n(r);n.d(t,"a",function(){return o.a})},2729:function(e,t){},273:function(e,t,n){"use strict";var r=n(0),o=n(108),i=["common"];if("undefined"!=typeof window){var a=o.parse(window.location.search.slice(1));a.loggers&&(i=i.concat(a.loggers.split(",")));var s="undefined"==typeof jest?r.a.get("loggers"):[];s&&Array.isArray(s)&&(i=i.concat(s))}var c={getLogger:function(e,t){return i.includes(e)&&"undefined"!=typeof window?t||function(t){if(window.console&&window.console.debug){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=window.console).debug.apply(n,["["+e+"] "+t].concat(o))}}:function(){}}};t.a=c},274:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return d});var r=n(342),o=n(32),i=n(998),a=7,s=4,c={closed:"Перекрытие движения",drawbridge:"Развод моста",reconstruction:"Дорожные работы",accident:"ДТП",police:"Камера",other:"Прочее",chat:"Прочее",danger:"Опасный участок"},u=86400,l={gray:"#d7d6d6",green:"#71b732",red:"#ff3333",yellow:"#ffcc00"};function d(e,t){var n=f(e);return i.a({color:l[n],opacity:t})}function f(e){return e||0===e?e>=a?"red":e>=s?"yellow":"green":"gray"}function p(e){return e&&c[e]||c.other}function v(e,t,n){void 0===t&&(t={});var i=e.time,a=i[0],s=i[1],c=e.date.getDay()-1,l=t.offset;if(void 0===l){var d=o.g(n),f=d.getUTCDay();c=f>0?f-1:6,a=d.getUTCHours(),s=d.getUTCMinutes(),l=0}a+="dst"===t.dst?1:0,s=15*Math.floor(s/15);var p=c*u+3600*a+60*s-l;return String(Object(r.a)(p,0,7*u))}},2755:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(12),a=n(7),s=n(17),c=n(9),u=n(314),l=n(8),d=n(15),f=n(43),p=(n(1353),n(274)),v=n(999),m=n.n(v),h=(n(1355),Object(a.a)("traffic-raw-icon")),g=Object(c.b)(function(e){var t=e.checked?p.b(e.level):"none";return o.createElement("div",{className:h({color:t})},o.createElement("div",{className:h("icon"),dangerouslySetInnerHTML:{__html:m.a}}),o.createElement("div",{className:h("text")},e.checked?e.level:null))}),y=n(123),b=n(16),_=n(21),w={toggleLayer:u.a.toggle},E=Object(s.a)(i.b(function(e){return{level:e.traffic.level,isLayerEnabled:e.traffic.isLayerEnabled,mode:b.d(e),mapRegion:e.mapRegion}},w),c.b),O=Object(a.a)("traffic-control"),S=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onTrafficClick=function(e){e.preventDefault(),t.props.toggleLayer()},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.config,n="Дорожная ситуация",r=_.i("traffic",e.mapRegion,t),i=e.mapRegion?(function(params){return "Пробки "+params.preposition+" "+params.prepositional;})(e.mapRegion.names):void 0;return o.createElement("div",{className:O({checked:e.isLayerEnabled})},o.createElement(f.a,{text:n,position:"bottom",isAir:!0},o.createElement(l.a,{name:"traffic_control",nodeState:{checked:e.isLayerEnabled,mode:e.mode},logClick:!0},o.createElement(d.a,{view:"air",size:"medium",icon:o.createElement(g,{checked:e.isLayerEnabled,level:e.level}),onClick:this._onTrafficClick,checked:e.isLayerEnabled,pinRight:!0,pinBottom:!1,url:r,title:i}),o.createElement(y.a,{chunk:"traffic"}))))},t}(o.Component);t.a=E(S)},2764:function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(4),a=n(12),s=n(17),c=n(319),u=n(350),l=n(16),d={getCurrentRequestId:function(e){var t=l.h(e,"search");return t&&"results"in t&&t.results&&t.results.requestId||void 0},getDiscoverySubtreeState:function(e){var t=l.g(e,"discovery")[0];return t?{discoveryAlias:t.alias,discoverySession:t.sessionId}:{}},getRoutesSubtreeState:function(e){var t=l.g(e,"routes")[0];return t?{routeSessionId:t.sessionId}:{}}},f=n(69),p=n(8),v=Object(s.a)(a.b(function(e){return{requestId:d.getCurrentRequestId(e),activeSearchResult:u.b(e),routesMapClickEnabled:-1!==f.u(e),stackActionsCount:e.stackActionsCount,discoverySubtreeState:d.getDiscoverySubtreeState(e),routesSubtreeState:d.getRoutesSubtreeState(e)}}),c.b),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._changeState=function(){var e,n=t.props;n.activeSearchResult?e={gml_id:n.activeSearchResult.analyticsId,logId:n.activeSearchResult.logId,reqid:n.activeSearchResult.requestId}:n.requestId&&(e={reqid:n.requestId}),n.routesMapClickEnabled&&(e=Object(r.a)(Object(r.a)({},e),{},{routesMapClickEnabled:n.routesMapClickEnabled})),t.props.rootNode.changeActionSubtreeState(e),t.props.rootNode.changeSubtreeState(Object(r.a)(Object(r.a)({},n.routesSubtreeState),n.discoverySubtreeState))},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._changeState()},n.componentDidUpdate=function(){this._changeState()},n.render=function(){var e=this.props.stackActionsCount;return 0===e?null:i.createElement(p.a,{key:e,name:"stack_actions_count",nodeState:{count:e}})},t}(i.Component);m.displayName="AnalyticsStateComponent";t.a=v(m)},2765:function(e,t,n){"use strict";var r=n(100),o=n(230),i=function(){return o.a.Date.now()},a=n(658),s="Expected a function",c=Math.max,u=Math.min;t.a=function(e,t,n){var o,l,d,f,p,v,m=0,h=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(s);function b(t){var n=o,r=l;return o=l=void 0,m=t,f=e.apply(r,n)}function _(e){var n=e-v;return void 0===v||n>=t||n<0||g&&e-m>=d}function w(){var e=i();if(_(e))return E(e);p=setTimeout(w,function(e){var n=t-(e-v);return g?u(n,d-(e-m)):n}(e))}function E(e){return p=void 0,y&&o?b(e):(o=l=void 0,f)}function O(){var e=i(),n=_(e);if(o=arguments,l=this,v=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(w,t),h?b(e):f}(v);if(g)return clearTimeout(p),p=setTimeout(w,t),b(v)}return void 0===p&&(p=setTimeout(w,t)),f}return t=Object(a.a)(t)||0,Object(r.a)(n)&&(h=!!n.leading,d=(g="maxWait"in n)?c(Object(a.a)(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==p&&clearTimeout(p),m=0,o=v=l=p=void 0},O.flush=function(){return void 0===p?f:E(i())},O}},2774:function(e,t,n){"use strict";var r,o=n(442),i=n(10),a=n(6),s=n(4),c=n(12);var u=n(116),l=n(117),d=c.b(function(e){return{indents:e.bodyIndents,config:e.config}}),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._applyIndent=function(){var e=(r||(r=window.document.getElementsByClassName("body")[0]),r);if(e){var t=n.props.indents;e.style.top=(null==t?void 0:t.top)?t.top+"px":"",e.style.bottom=(null==t?void 0:t.bottom)?t.bottom+"px":"";try{var o=window.document.createEvent("HTMLEvents");o.initEvent("resize",!1,!0),window.dispatchEvent(o)}catch(a){var i=a&&a.message;if(i&&i.includes("Illegal invocation")&&n.props.config.uatraits.isMobile)return;throw a}}},n._addListener=function(e){n._listeners.push(e),e(Object(i.a)({},n._viewport))},n._removeListener=function(e){var t=n._listeners.indexOf(e);-1!==t&&n._listeners.splice(t,1)},n._registerStickyElement=function(e,t,r,o){n._stickyElementGroups[e]||(n._stickyElementGroups[e]={listeners:[],heights:[],refs:[]});var i=n._stickyElementGroups[e];i.listeners[t]=o,i.heights[t]=0,i.refs[t]=r,n._calcStickyPositions(e,Math.max(t-1,0))},n._unregisterStickyElement=function(e,t){var r=n._stickyElementGroups[e];r&&(delete r.listeners[t],delete r.heights[t],delete r.refs[t])},n._isNodeWithinStickyElement=function(e){return Object.values(n._stickyElementGroups).some(function(t){return t.refs.some(function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e)})})},n._updateStickyElement=function(e,t,r){n._stickyElementGroups[e]&&(n._stickyElementGroups[e].heights[t]=r,n._calcStickyPositions(e,t))},n._calcStickyPositions=function(e,t){for(var r=n._stickyElementGroups[e],o=0,i=0;i<=t;i++)"number"==typeof r.heights[i]&&(o+=r.heights[i]);for(var a=t+1;a<r.heights.length;a++){var s,c;null===(s=(c=r.listeners)[a])||void 0===s||s.call(c,o),"number"==typeof r.heights[a]&&(o+=r.heights[a])}},n._updateMapViewport=function(e,t){var r=n._viewport[e];n._viewport[e]=t,r!==t&&n._relayout()},n._relayout=function(){for(var e,t=Object(o.a)(n._listeners);!(e=t()).done;){(0,e.value)(Object(i.a)({},n._viewport))}},n._getBodyHeight=function(e){var t,r,o=n.props.indents;return e-(null!==(t=null==o?void 0:o.bottom)&&void 0!==t?t:0)-(null!==(r=null==o?void 0:o.top)&&void 0!==r?r:0)},n._onWindowResize=function(){n.setState(function(e){return{layout:Object(i.a)(Object(i.a)({},e.layout),{},{bodyHeight:n._getBodyHeight(window.innerHeight)})}})},n._listeners=[],n._viewport={top:0,bottom:0},n._stickyElementGroups={},n.state={layout:{bodyHeight:null,updateMapViewport:n._updateMapViewport,addLayoutListener:n._addListener,removeLayoutListener:n._removeListener,registerStickyElement:n._registerStickyElement,isNodeWithinStickyElement:n._isNodeWithinStickyElement,unregisterStickyElement:n._unregisterStickyElement,updateStickyElement:n._updateStickyElement}},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.indents&&this._applyIndent(),this._onWindowResize()},n.componentDidUpdate=function(e){e.indents!==this.props.indents&&(this._applyIndent(),this._onWindowResize())},n.render=function(){return s.createElement(u.a,{value:this.state.layout},this.props.children,s.createElement(l.a,{type:"resize",listener:this._onWindowResize}))},t}(s.PureComponent);f.displayName="BodyComponent";t.a=d(f)},2779:function(e,t,n){"use strict";var r=n(973),o=n(587),i=n(1160),a=n(181);var s=function(e){return function(t){t=Object(a.a)(t);var n=Object(o.a)(t)?Object(i.a)(t):void 0,s=n?n[0]:t.charAt(0),c=n?Object(r.a)(n,1).join(""):t.slice(1);return s[e]()+c}}("toUpperCase");t.a=s},2783:function(e,t,n){"use strict";var r=n(13),o=n(6),i=(n(1365),n(4)),a=n(7),s=n(17),c=n(9),u=n(8),l=n(15),d=n(43),f=n(39),p=n(955),v=(n(1390),n(12)),m=n(115),h=n(123),g=n(21),y=Object(a.a)("route-control"),b={openPanel:m.a.open},_=v.b(function(e){return{config:e.config,mapRegion:e.mapRegion}},b)(function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){e.preventDefault(),t.props.openPanel()},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=g.i("routes",e.mapRegion,e.config);return i.createElement("div",{className:y()},i.createElement("div",{className:y("inner")},i.createElement(d.a,{text:"Маршруты",position:"bottom",isAir:!0,delay:e.delay},i.createElement(u.a,{name:"routes_control",logClick:!0},i.createElement(l.a,{view:"search",size:"medium",icon:e.icon||i.createElement("div",{className:y("icon")}),url:t,title:"Построить маршрут",onClick:this._onClick})))),i.createElement(h.a,{chunk:"routes"}))},t}(i.Component)),w=(n(1392),n(16)),E=n(1393),O=n.n(E),S=Object(a.a)("small-search-form-view"),j=1e3,k=Object(s.a)(c.b),C=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClose=function(){var e,n;null===(e=(n=t.props).onCloseClick)||void 0===e||e.call(n),t.props.onInputChange("")},t._renderRouteControl=function(){return i.createElement("div",{className:S("button")},i.createElement(_,{icon:i.createElement("div",{className:S("icon",{type:"route"})}),delay:j}))},t._renderClose=function(){return i.createElement("div",{className:S("button")},i.createElement(d.a,{text:"Закрыть",position:"bottom",isAir:!0,delay:j},i.createElement(u.a,{name:"close",logClick:!0},i.createElement(l.a,{view:"search",size:"medium",onClick:t._onClose,icon:i.createElement("div",{className:S("icon",{type:"close"})})}))))},t._renderSearchButton=function(){var e=t.props;return i.createElement("div",{className:S("button")},e.isLoading?i.createElement("div",{className:S("spinner")},i.createElement(f.a,{view:"small"})):i.createElement(d.a,{text:"Найти",position:"bottom",isAir:!0,delay:j},i.createElement(l.a,{view:"search",size:"medium",type:"submit",tabIndex:2,icon:i.createElement("div",{key:"icon",className:S("icon",{type:"search"})})})))},t._renderRightIcons=function(){var e=t.props;return i.createElement(i.Fragment,null,Object(w.m)(e.config)?null:t._renderSearchButton(),e.onCloseClick||!e.hideRouteButton?i.createElement("div",{className:S("delimiter")}):null,e.onCloseClick?t._renderClose():e.hideRouteButton?null:t._renderRouteControl())},t._renderLeftIcons=function(){var e=t.props;return Object(w.m)(e.config)&&e.onCloseClick?null:e.onBackClick?i.createElement(u.a,{key:"back",name:"back",logClick:!0},i.createElement(l.a,{view:"search",size:"medium",onClick:e.onBackClick,icon:i.createElement("div",{className:S("icon",{type:"back"})})})):i.createElement(u.a,{key:"pin",name:"pin",logClick:!0},i.createElement("div",{className:S("pin"),onClick:e.onPinClick,dangerouslySetInnerHTML:{__html:O.a}}))},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement(p.a,Object(r.a)({},e,{className:S(),renderLeftIcons:this._renderLeftIcons,renderRightIcons:this._renderRightIcons}))},t}(i.PureComponent);t.a=k(C)},2786:function(e,t,n){"use strict";var r=n(6),o=(n(1341),n(1343),n(4)),i=n(7),a=n(9),s=n(252),c=n(450),u=n(2795),l=n(317);var d=Object(i.a)("map-scale-line"),f=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=function(e){var t=Object(s.a)(e.center,e.zoom),n=t[0],r=t[1],o="width"===e.dimension?1:0,i="height"===e.dimension?1:0,a=Object(c.a)([n-o*e.maxSize/2,r-i*e.maxSize/2],e.zoom),d=Object(c.a)([n+o*e.maxSize/2,r+i*e.maxSize/2],e.zoom),f=Object(u.a)(a,d),p=l.f(f,1);return{size:Math.abs(f)>1e-7?Math.round(p*e.maxSize/f):e.maxSize,distance:p}}({center:e.center,zoom:e.zoom,dimension:"width",maxSize:75}),n=t.size,r=t.distance,i={};return i.width=n+"px",o.createElement("div",{className:d(),style:i},o.createElement("div",{className:d("label")},l.c(r)),o.createElement("div",{className:d("line")}))},t}(o.PureComponent);t.a=Object(a.b)(f)},2792:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(193);function o(e,t,n){return void 0===n&&(n=r.a),Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n}},2793:function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t={}),"string"!=typeof e)return null;var n=e.trim().split(/\s*\,\s*|\s+/);if(2!==n.length)return null;var r=parseFloat(n[0]);if(isNaN(r))return null;var o=parseFloat(n[1]);return isNaN(o)?null:t.reverse?[o,r]:[r,o]}n.d(t,"a",function(){return r})},2794:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(966),o=n(193);function i(e){var t=e.center,n=e.span,i=Math.min(Math.max(t[1]*Math.PI/180,-Math.PI/2+o.i),Math.PI/2-o.i),a=Math.max(Math.min(n[1],180),0),s=a*Math.PI/180,c=o.j*Math.log(Math.tan(i/2+Math.PI/4)),u=Math.exp(2*c/o.j),l=(u+1)*Math.tan(Math.min(Math.max(s/2,-Math.PI/2+o.i),Math.PI/2-o.i)),d=-u,f=Math.max(l*l-4*d,0),p=(-l+Math.sqrt(f))/2*1,v=2*(Math.atan(p)-Math.PI/4)*180/Math.PI,m=n[0]/2;return[[Object(r.a)(t[0]-m),v],[Object(r.a)(t[0]+m),v+a]]}},2795:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(977);function o(e,t){return Object(r.a)(e,t).distance}},2796:function(e,t,n){"use strict";function r(e,t){var n,r;void 0===t&&(t={}),t.reverse?(n=e[1],r=e[0]):(n=e[0],r=e[1]);var o=void 0===t.fractionDigits?6:t.fractionDigits;return n.toFixed(o)+","+r.toFixed(o)}n.d(t,"a",function(){return r})},2797:function(e,t,n){"use strict";function r(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}n.d(t,"a",function(){return r})},2798:function(e,t,n){"use strict";var r=n(126);t.a=function(e,t){return Object(r.a)(e,t)}},2799:function(e,t,n){"use strict";var r=n(181),o=n(2779);t.a=function(e){return Object(o.a)(Object(r.a)(e).toLowerCase())}},28:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(5),a=n(2798),s=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getContainer=function(){var e=n.props;return e.containerRef?e.containerRef.current||void 0:e.selector?window.document.querySelector(e.selector)||void 0:window.document.body},n._updateContainer=function(){var e=n._getContainer();e!==n.state.container&&n.setState({container:e})},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateContainer()},n.componentDidUpdate=function(e){Object(a.a)(e,this.props)||this._updateContainer()},n.render=function(){var e=this.state;return e.container?i.createPortal(this.props.children,e.container):null},t}(o.Component);t.a=s},2800:function(e,t,n){"use strict";var r=n(2765),o=n(100),i="Expected a function";t.a=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return Object(o.a)(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),Object(r.a)(e,t,{leading:a,maxWait:t,trailing:s})}},2806:function(e,t,n){"use strict";n.r(t);n(1190),n(1192),n(1194),n(1195),n(1196),n(1197),n(1198),n(1199),n(1200);var r=n(4),o=n(5),i="undefined"==typeof window||"complete"===window.document.readyState||"interactive"===window.document.readyState,a=[];function s(){i||(i=!0,a.forEach(function(e){return e()}))}i||(requestAnimationFrame(function e(){document.querySelector("#end-of-page")?s():i||requestAnimationFrame(e)}),window.addEventListener("DOMContentLoaded",s));var c,u=function(e){i?e():"undefined"!=typeof window&&a.push(e)},l=n(6),d=n(12),f=n(983),p=n(32),v=n(48),m=d.b(function(e){return{timeContext:e.timeContext}})(function(e){return r.createElement(v.a,{value:{getToday:function(){return p.g(e.timeContext)},timeContext:e.timeContext}},e.children)}),h=n(1147),g=n(9),y=n(1155),b=n(319),_=n(347),w=function(e){function t(t){var n;n=e.call(this,t)||this;var r="undefined"==typeof window?y.c:y.a;return n.state=r(t.config,t.rootSubtreeState),n}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props;return r.createElement(g.a,{value:e.config},r.createElement(b.a,{value:this.state},r.createElement(_.a,{type:"rootNode"},e.children)))},t}(r.PureComponent),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={store:Object(h.a)(t.config)},n}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props;return r.createElement(w,{config:e.config},r.createElement(d.a,{store:this.state.store},r.createElement(f.PrerenderedControler,null,r.createElement(m,null,e.children))))},t}(r.PureComponent),O=n(1242),S=(n(1398),n(7)),j=n(165),k=n(1002),C=n(141),T=n(28),I=n(160),R=Object(S.a)("counters-view"),x=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onMetrikaReady=function(e){var t=n.props.config,r=t.experiments.boxes,o=r?r.split(";").map(function(e){return e.split(",")[0]}):void 0,i={url:t.originalUrl,params:{"test-ids":o}};j.a.hitByCounter(e,i),n.setState({readyTimestamp:C.a.getTimeToNow()})},n.state={},n}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.config.staticHost+"/static/v11/iframe-counters-v2.html";return e.config.query["no-counters"]?null:r.createElement(T.a,null,r.createElement(k.a,{counter:e.config.counters.metrika.maps.id,experiments:e.config.experiments.cryptedBoxes,onReady:this._onMetrikaReady}),e.config.iframeCounter?r.createElement("iframe",{className:R("iframe"),src:t}):null,r.createElement(I.a,{type:"metrika",ready:this.state.readyTimestamp}))},t}(r.PureComponent),M=Object(g.b)(x),P=n(1146),N=n(582),A=n(337);function L(e){return new Promise(function(t,n){JSON.parse(window.document.getElementById("__LOADABLE_REQUIRED_CHUNKS__").textContent).forEach(function(t){var r=window.document.getElementById(t);null==r||r.addEventListener("error",function(){n(),Object(A.b)(new Error("Failed to load required chunk before ReactDom.hydrate"),{additional:{chunk:t},config:e})})})})}u(function e(){"hidden"===(c=c||window.getComputedStyle(window.document.body)).overflow?function(){var e=N.a();N.b(e);var t=window.document.getElementsByClassName("app")[0],n=function(){return r.createElement(E,{config:e},r.createElement(O.a,{initTimestamp:C.a.getTimeToNow()}),r.createElement(M,null))};e.bunker.disableSsr||e.bunker.disableHydration||e.query["no-hydration"]?o.render(n(),t):e.experiments.ui.partialHydration?o.hydrate(n(),t):Promise.race([Object(P.b)(),L(e)]).then(function(){return o.hydrate(n(),t)}).catch(function(){return o.render(n(),t)})}():setTimeout(e,50)})},2807:function(e,t,n){"use strict";var r=n(972),o=n(973),i=n(587),a=n(100),s=n(444),c=n(410),u="[object RegExp]";var l=function(e){return Object(c.a)(e)&&Object(s.a)(e)==u},d=n(589),f=n(974),p=f.a&&f.a.isRegExp,v=p?Object(d.a)(p):l,m=n(231),h=Object(m.a)("length"),g="[\\ud800-\\udfff]",y="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",b="\\ud83c[\\udffb-\\udfff]",_="[^\\ud800-\\udfff]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",E="[\\ud800-\\udbff][\\udc00-\\udfff]",O="(?:"+y+"|"+b+")"+"?",S="[\\ufe0e\\ufe0f]?"+O+("(?:\\u200d(?:"+[_,w,E].join("|")+")[\\ufe0e\\ufe0f]?"+O+")*"),j="(?:"+[_+y+"?",y,w,E,g].join("|")+")",k=RegExp(b+"(?="+b+")|"+j+S,"g");var C=function(e){for(var t=k.lastIndex=0;k.test(e);)++t;return t};var T=function(e){return Object(i.a)(e)?C(e):h(e)},I=n(1160),R=n(448),x=n(181),M=30,P="...",N=/\w*$/;t.a=function(e,t){var n=M,s=P;if(Object(a.a)(t)){var c="separator"in t?t.separator:c;n="length"in t?Object(R.a)(t.length):n,s="omission"in t?Object(r.a)(t.omission):s}var u=(e=Object(x.a)(e)).length;if(Object(i.a)(e)){var l=Object(I.a)(e);u=l.length}if(n>=u)return e;var d=n-T(s);if(d<1)return s;var f=l?Object(o.a)(l,0,d).join(""):e.slice(0,d);if(void 0===c)return f+s;if(l&&(d+=f.length-d),v(c)){if(e.slice(d).search(c)){var p,m=f;for(c.global||(c=RegExp(c.source,Object(x.a)(N.exec(c))+"g")),c.lastIndex=0;p=c.exec(m);)var h=p.index;f=f.slice(0,void 0===h?d:h)}}else if(e.indexOf(Object(r.a)(c),d)!=d){var g=f.lastIndexOf(c);g>-1&&(f=f.slice(0,g))}return f+s}},2809:function(e,t,n){"use strict";var r=n(341),o=n(252),i=n(1188),a=n(447);var s=n(193);function c(e,t,n){e=n?[[Math.min(e[0][0],e[1][0])-n,Math.min(e[0][1],e[1][1])-n],[Math.max(e[0][0],e[1][0])+n,Math.max(e[0][1],e[1][1])+n]]:e;var c=Object(r.a)(s.g),u=Object(o.a)(t,s.g);return Object(i.a)(Object(a.a)(e,s.g),c).some(function(e){return function(e,t){return t[0]>=e[0][0]&&t[0]<=e[1][0]&&t[1]>=e[0][1]&&t[1]<=e[1][1]}(e,u)})}n.d(t,"a",function(){return c})},2811:function(e,t,n){"use strict";var r=n(341),o=n(1188),i=n(967);function a(e){return e[0][0]=Math.round(e[0][0]),e[0][1]=Math.round(e[0][1]),e[1][0]=Math.round(e[1][0]),e[1][1]=Math.round(e[1][1]),e}var s=n(447),c=n(193);function u(e,t){var n=Object(r.a)(c.g),u=Object(o.a)(Object(s.a)(e,c.g),n),l=Object(o.a)(Object(s.a)(t,c.g),n);return u.some(function(e){return l.some(function(t){return Object(i.a)(a(e),a(t))})})}n.d(t,"a",function(){return u})},30:function(e,t,n){"use strict";var r=n(2807),o=n(16),i=n(49),a=n(36),s=n(252),c=n(449);n.d(t,"E",function(){return m}),n.d(t,"s",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"F",function(){return _}),n.d(t,"u",function(){return w}),n.d(t,"L",function(){return O}),n.d(t,"H",function(){return S}),n.d(t,"w",function(){return j}),n.d(t,"x",function(){return k}),n.d(t,"g",function(){return C}),n.d(t,"p",function(){return T}),n.d(t,"n",function(){return I}),n.d(t,"j",function(){return R}),n.d(t,"h",function(){return M}),n.d(t,"K",function(){return D}),n.d(t,"f",function(){return Z}),n.d(t,"t",function(){return P}),n.d(t,"k",function(){return N}),n.d(t,"q",function(){return A}),n.d(t,"B",function(){return L}),n.d(t,"l",function(){return z}),n.d(t,"r",function(){return q}),n.d(t,"v",function(){return B}),n.d(t,"o",function(){return F}),n.d(t,"G",function(){return U}),n.d(t,"y",function(){return H}),n.d(t,"C",function(){return W}),n.d(t,"z",function(){return V}),n.d(t,"m",function(){return G}),n.d(t,"c",function(){return Y}),n.d(t,"a",function(){return x}),n.d(t,"i",function(){return E}),n.d(t,"D",function(){return X}),n.d(t,"J",function(){return K}),n.d(t,"I",function(){return $}),n.d(t,"A",function(){return J});var u=["one","two","three","four","five"],l=36,d=150,f=3,p=10,v=["bus stop","pier","cableway"];function m(e){try{JSON.parse(e)}catch(t){return e.startsWith("provider:")}return!0}function h(e){return u.indexOf(e)+1||0}function g(e){return{reqid:e.requestId,query:e.requestCorrectedQuery,initial_query:e.requestQuery!==e.requestCorrectedQuery?e.requestQuery:void 0}}function y(e,t){return"direct"===e.type&&"direct"===t.type?e.direct.title===t.direct.title&&e.direct.text===t.direct.text:i.g(e)===i.g(t)}function b(e){return"business"===e.type?e.direct?"geodirect":e.advert?"yabs":"bizfinder":"toponym"===e.type?"geocoder":"direct"===e.type?"geodirect":"collection"===e.type?"collection":void 0}function _(e){return Boolean(e&&"results"in e&&e.results)}function w(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if("search"===n.mode){var r=n.request;if("TEXT"===r.searchType){if(_(n))return r.displayText?r.displayText:n.results.requestCorrectedQuery||""}else if(r.text)return r.text}if("search-result"===n.mode){var o,i=n.request;if("search"===i.from)return i.displayText||(null===(o=n.response)||void 0===o?void 0:o.requestCorrectedQuery)||i.text||""}}return""}function E(e){for(var t=e.length-1;t>=0;t--)if(e[t].formText)return e[t].formText;return""}function O(e,t){var n=T(e)||"",r=a.d({type:"rubrics",name:n,size:"small"},t)||void 0;return{category:e.categories&&e.categories[0].name,iconUrl:r,isAdvert:j(e),id:e.id,photoUrlTemplate:e.photos&&e.photos.urlTemplate,rating:e.ratingData.ratingValue,title:e.shortTitle||e.title,type:"similar",seoname:e.seoname,uri:e.uri}}function S(e){if("similar"===e.type)return!1;var t=e.businessProperties;return Boolean(t&&t.has_verified_owner)}function j(e){return"similar"===e.type?e.isAdvert:Boolean("business"===e.type&&e.advert&&e.advert.highlighted)}function k(e){return"similar"!==e.type&&Boolean(e.advert&&e.advert.promo)}function C(e,t){var n;if(!J(e,t)&&!t.hideAdverts)return e.mastercardData&&!k(e)?{type:"mastercard",advert:e.mastercardData}:e.direct?{type:"direct",advert:e.direct}:(null===(n=e.advert)||void 0===n?void 0:n.promo)?{type:"promo",advert:e.advert.promo}:void 0}function T(e){var t;if(e)return"categories"in e&&e.categories?null===(t=e.categories[0])||void 0===t?void 0:t.class:"toponym"===e.type?e.kind:void 0}function I(e){var t,n,r,o,i;return"relatedAdverts"in e&&(null===(t=e.relatedAdverts)||void 0===t?void 0:t.nearbyOnMap)?(r=null===(n=e.relatedAdverts)||void 0===n?void 0:n.nearbyOnMap,o=e.requestId,i=e.type,r.map(function(e,t){return{type:"business",lowRelevance:!0,relatedAdvertType:i,id:e.id,uri:e.uri,requestId:o,title:e.title,coordinates:e.coordinates,displayCoordinates:e.coordinates,status:"open",categories:e.categories&&e.categories.length>0?e.categories:[{name:e.category||"",class:e.icon}],ratingData:{ratingCount:0,ratingValue:0,reviewCount:0},advert:{title:"",text:"",url:"",highlighted:!0},analyticsId:String(t+1),geoId:-1,fullAddress:"",businessLinks:[],businessProperties:{geoproduct_poi_color:e.poiColor||"#999",geoproduct_poi_label_color:e.poiLabelColor||"#999",has_verified_owner:!1},description:"",address:"",sources:[]}})):[]}function R(e){return e.advert&&e.advert.products&&0!==e.advert.products.length?e.advert.products:void 0}function x(e){return"MultiLineString"===(null==e?void 0:e.type)?{type:"MultiLineString",coordinates:e.coordinates}:"GeometryCollection"===(null==e?void 0:e.type)?{type:"Polygon",coordinates:e.geometries.reduce(function(e,t){return[].concat(e,t.coordinates)},[])}:void 0}function M(e,t){return t?JSON.stringify({text:e.seoname,what:[{attr_name:"rubric",attr_values:[e.seoname]}],where:"sg:"+t}):e.id?"category_id:("+e.id+")":e.seoname?"rubric:("+e.seoname+")":e.name}function P(e){if(_(e)){var t=1===e.results.items.length?e.results.items[0].uri:void 0;return i.f(t)}}function N(e){if(_(e)){var t=e.results.items[0];return"transit-route"===(null==t?void 0:t.type)?t.transitRouteInfo.routeId:void 0}}function A(e){e.config;var t,n,i=e.form.formType,a=o.g(e,"routes"),s=a[a.length-1],c=Boolean(s&&s.isLoading),u=null==s?void 0:null===(t=s.routerResponse)||void 0===t?void 0:null===(n=t.routes[s.activeRouteIndex])||void 0===n?void 0:n.coordinates;if("nearby"===i.id){var d,f=null===(d=i.data)||void 0===d?void 0:d.place.title;return f?Object(r.a)((function(params){return "Искать рядом с «"+params.title+"»";})({title:f}),{length:l}):"Искать рядом"}return u||c||"along-route"===i.id?"Искать вдоль маршрута":"Поиск мест и адресов"}function L(e){var t=o.h(e,"orgpage"),n=o.h(e,"panoramas"),r=o.h(e,"photos"),i=o.h(e,"mrc"),a=o.h(e,"stories-player");return!e.form.text&&!t&&!n&&!r&&!i&&!(null==a?void 0:a.activeStory)&&!e.panoramas.isLayerEnabled&&!e.photos.isLayerEnabled&&!e.mrc.isLayerEnabled&&!e.traffic.isLayerEnabled&&!o.o(e)&&e.homePanel.isOpen&&!e.config.query["no-header"]}function D(e,t){return e.length>d?function(e,t){var n=t.eps,r=t.zoom,o=void 0===r?0:r,i=t.minLength,a=e.length;if(i&&a<=i)return e;for(var u=e.map(function(e){return Object(s.a)(e,o)}),l=u.map(function(){return!1}),d=[{dist:0,indexes:[0,u.length-1]}],f=!0;d.length>0&&f;){var p=d.pop();if(!p)break;for(var v=p.indexes[0],m=p.indexes[1],h=0,g=v,y=v+1;y<m;y++)if(!l[y]){var b=Object(c.a)(u[y],u[v],u[m]);b>h&&(g=y,h=b)}h>=n?(d.push({dist:h,indexes:[v,g]}),d.push({dist:h,indexes:[g,m]}),d=d.sort(function(e,t){return t.dist-e.dist})):(l[v]=l[m]=!0,a-=m-v-1,t.minLength&&(f=a>t.minLength))}return e.filter(function(e,t){return l[t]})}(e,{eps:2,zoom:t}).slice(0,d):e}function z(e){var t="toponym"===e.type&&"house"!==e.kind?e.bounds:void 0;return{coordinates:e.displayCoordinates,bounds:t,title:"shortTitle"in e&&e.shortTitle||e.title,rubric:T(e)}}function q(e){var t,n=o.g(e,"search"),r=n[n.length-1],i=o.h(e,"search-result");if(!i||"search"===i.request.from)return t=r,Boolean(t&&"TEXT"===t.request.searchType&&_(t)&&t.results.filters&&t.results.filters.length>0)?r:void 0}function B(e){var t={},n=e.items;return n.length<=p||!function(e){return Boolean(e.categories&&e.categories.length>0&&e.items.length>1&&!e.chain)}(e)?n:(n.forEach(function(e){if("chain"in e&&e.chain){if(t[e.chain.id])return void t[e.chain.id].push(e);t[e.chain.id]=[e]}},[]),n.reduce(function(e,n){if(!("chain"in n&&n.chain))return e.concat(n);if(t[n.chain.id].length>=f){var r=t[n.chain.id][0];return r.sameCompaniesCounter=t[n.chain.id].length-1,t[n.chain.id]=[],e.concat(r)}return t[n.chain.id].length>0?e.concat(n):e},[]))}function F(e){return e.find(function(e){var t;return"relatedAdverts"in e&&Boolean(null===(t=e.relatedAdverts)||void 0===t?void 0:t.nearbyOnMap)})}function U(e){var t=(e.categories||[]).reduce(function(e,t){return t.class?e.concat(t.class):e},[]);return!e.masstransitStop&&(e.uri&&i.m(e.uri)||t.some(function(e){return v.includes(e)}))}function H(e){return"business"===e.type}function W(e){return Boolean(e.onlineProperties)}function V(e){var t;return Boolean(null===(t=e.onlineProperties)||void 0===t?void 0:t.hideAddress)}function G(e){var t,n,r=e.advert,o=e.businessImages,i=e.modularSnippet,a=e.photos,s=null==i?void 0:i.snippet_show_photo,c=null==o?void 0:null===(t=o.logo)||void 0===t?void 0:t.urlTemplate;return"logo"===s&&c?{urlTemplate:c,contain:!0}:(null==r?void 0:r.logo)?{urlTemplate:r.logo}:(null==r?void 0:r.photo)?{urlTemplate:r.photo,count:(null!==(n=null==a?void 0:a.count)&&void 0!==n?n:0)+1}:(null==a?void 0:a.urlTemplate)?a:void 0}function Y(e,t){var n=t?e.fullAddress:e.address;return n&&t&&e.postalCode&&(n+=", "+e.postalCode),n&&e.additionalAddress&&(n+=" • "+e.additionalAddress),n}function Z(e,t){if(t.business.enableBooking&&!j(e)&&t.uatraits.isMobile)return e.businessLinks.find(function(e){return"#hotel_traits"===e.aref&&e.href})}function X(e){return Boolean(e&&["located_nearby","related","related-adverts-business"].includes(e))}function K(e,t){return{items:[e],requestCorrectedQuery:null==t?void 0:t.requestCorrectedQuery,requestId:e.requestId,requestQuery:null==t?void 0:t.requestQuery,requestResults:1,totalResultCount:1}}function $(e,t,n){var r,o=t.items[0],i=null!==(r=t.bounds)&&void 0!==r?r:o.bounds;if(o&&i)return{bounds:i,center:o.displayCoordinates,forceFirstApply:n,includeCurrentBounds:"origin"in e?X(e.origin):void 0}}function J(e,t){var n=Number(e.id)+Number(e.id.split("").reduce(function(e,t){return e+Number(t)},0));return Boolean(n%4==0&&t.experiments.ui.hideRichContent)}},31:function(e,t,n){"use strict";n(1351);var r=n(4),o=n(7),i=n(92),a=n(28),s=Object(o.a)("close-button");t.a=function(e){var t=e.color,n=void 0===t?"black":t,o=e.offset,c=void 0===o?"small":o,u=e.onClick,l=e.circle,d=e.relative,f=e.usePortal,p=r.createElement("div",{className:s({color:n,circle:l,relative:d,offset:"string"==typeof c?c:void 0}),onClick:u,style:"string"==typeof c?{}:c},r.createElement(i.a,{inline:!0,name:l?"close":"cross",size:l?24:16}));return f?r.createElement(a.a,{selector:".body"},p):p}},314:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("traffic").then(n.bind(null,1407))},{updateTimezone:!0,enable:!0,disable:!0,toggle:!0,setSettingsData:!0,setInfoLayerShown:!0,setLevel:!0,loadTrafficEvents:!0,loadTrafficEvent:!0,setEmergencyNotifications:!0})},315:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return a});var r=n(16),o=n(663),i=n(159),a={narrow:384,wide:800},s={common:[70,50,50,50],collapsed:[70,50,50,a.narrow+50]},c=(o.a.common,o.a.portal,{default:[0,0,0,0],narrow:[0,0,0,a.narrow],wide:[0,0,0,a.wide]});function u(e){var t=e.config,n=e.pharmacy.stack,o=n[n.length-1],a="pharmacy-card"===(null==o?void 0:o.mode),c=r.n(e),u=r.o(e);if(t.pharmacy){if(t.pharmacy.map)return i.o;var l;if(t.pharmacy.mapV3)return(null===(l=t.pharmacy)||void 0===l?void 0:l.isCallCenter)?i.l:a?i.n:i.m}return c&&!u?s.collapsed:s.common}function l(e){return r.n(e)?c.default:r.o(e)?c.wide:c.narrow}var d=["top","right","bottom","left"];function f(e){return e.reduce(function(e,t,n){return e[d[n]]=t+"px",e},{})}},316:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=6e4;function o(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var o=t.getTime()%r;return n*r+o}},317:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s});var r=n(2795),o=n(664);function i(e){return e>900?(function(params){return params.distance+" км";})({distance:c(e/1e3,2)}):(function(params){return params.distance+" м";})({distance:c(e,2)})}function a(e){return e>900?(function(params){return params.distance+" км";})({distance:d(e/1e3)}):(function(params){return params.distance+" м";})({distance:d(e)})}function s(e){return e<1e3?(function(params){return params.distance+" м";})({distance:Math.round(e)}):e<1e5?(function(params){return params.distance+" км";})({distance:Math.round(e/100)/10}):(function(params){return params.distance+" км";})({distance:Math.round(e/1e3)})}function c(e,t){if(void 0===t&&(t=1/0),t<1)throw new Error("Can't round to significance of "+t+".");var n=Math.round(e).toString(),r=Math.max(0,n.length-t),o=Math.round(e/Math.pow(10,r));return Number(o+new Array(r).fill("0").join(""))}function u(e,t){var n=e.geolocation.currentPosition;return n?Object(r.a)(n,t):void 0}function l(e,t){return"toponym"===t.type&&o.b.includes(t.kind)?u(e,t.displayCoordinates):u(e,t.coordinates)}function d(e){if(e>100)return Math.round(e);var t=Math.pow(10,e>10?1:2);return Math.round(e*t)/t}function f(e){return e.reduce(function(e,t){var n=e[0],o=e[1];return[o?n+Object(r.a)(o,t):n,t]},[0,null])[0]}},318:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"h",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return f});var r=n(339);function o(e){return Object(r.a)(e.type)}function i(e){return Object(r.g)(e.type)}function a(e){return Object(r.f)(e.type)}function s(e){return Object(r.d)(e.type)}function c(e){return Object(r.e)(e.type)}function u(e){return function(e){return Object(r.b)(e.type)}(e)||c(e)}function l(e){return Object(r.j)(e.type)}function d(e){return Object(r.i)(e.type)}function f(e){return Object(r.h)(e.type)}},319:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),o=(n(346),Object(r.a)("analyticsNodes",null)),i=o.connect,a=o.Provider;t.b=i},32:function(e,t,n){"use strict";function r(e,t){return 60*e.hours+e.minutes-(60*t.hours+t.minutes)}function o(e){var t=e.match(/^(\d{1,2}):(\d{2})(?::\d{2})?$/);if(!t)return null;var n=Number(t[1]);if(n<0||n>24)return null;var r=Number(t[2]);return r<0||r>59?null:r>0&&n>=24?null:{hours:n,minutes:r}}function i(e){return e.replace(/[^(\d+|:)]/g,"").replace(/^\D+/,"")}function a(e){return d(e.hours)+":"+d(e.minutes)}function s(e){var t=o(e);return t?60*t.hours+t.minutes:null}function c(e){return(e=i(e).replace(/(\d*:?[^:]*).*/,"$1").replace(/(\d{2}(?!:))/,"$1:")).split(":").slice(0,2).map(function(e){return e.slice(0,2)}).join(":")}function u(e){var t=e.split(":").map(function(e){return Number(e.trim())});return d(t[0]||0)+":"+d(t[1]||0)}function l(e,t){if(void 0===t)return e;var n=1e3*t+60*e.getTimezoneOffset()*1e3;return new Date(e.getTime()+n)}function d(e){return String(e).padStart(2,"0")}function f(e){return e.mocks&&e.mocks.today?new Date(e.mocks.today):e.hydrationPhaseTime?new Date(e.hydrationPhaseTime):new Date}function p(e){return{mocks:e.mocks,hydrationPhaseTime:new Date(e.serverTime)}}function v(e){return new Date(e+"Z")}n.d(t,"i",function(){return d}),n.d(t,"a",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"k",function(){return s}),n.d(t,"l",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"j",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return v})},320:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},321:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},33:function(e,t,n){"use strict";n.r(t);var r=n(41),o=n(4),i=n(12),a=n(16),s=n(10),c=n(6),u=(n(2544),n(2546),n(7)),l=n(17),d=n(9),f=n(23),p=n(1176),v=(n(2548),n(2550),n(8)),m=n(11),h=(n(31),n(1050)),g=n.n(h),y=Object(u.a)("sidebar-panel-view"),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderClose=function(){var e=t.props;return e.onClose?o.createElement(v.a,{name:"close",logClick:!0},o.createElement("div",{className:y("close",{small:e.isSmall}),title:"Закрыть",onClick:e.onClose},o.createElement(m.a,{url:g.a}))):null},t}return Object(c.a)(t,e),t.prototype.render=function(){var e=this.props;return e.children?o.createElement(v.a,{name:e.analyticsName,nodeState:e.analyticsState},this._renderClose(),e.children):null},t}(o.Component),_=Object(d.b)(b),w=n(39);var E=n(164),O=n(1058),S=n(663),j={toggleSidebar:f.a.toggleSidebar},k=Object(l.a)(i.b(function(e){var t=a.d(e),n=a.h(e,t);return{mode:t,defaultScrollCacheKey:null==n?void 0:n.id,isCollapsed:a.n(e),noPadding:!S.c(e)}},j),d.b),C=Object(u.a)("sidebar-view"),T=k(function(e){function t(t){var n;return(n=e.call(this,t)||this)._isWide=function(){return"wide"===n.props.view||"wide-full"===n.props.view},n._onTransitionEnd=function(e){var t=n.props;e.currentTarget===e.target&&(t.isCollapsed&&n.setState({isPanelShown:!1}),"width"===e.propertyName&&setTimeout(function(){n.setState({wide:n._isWide()})},0))},n._panelRef=function(e){e&&window.setTimeout(function(){return n.setState({isPanelShown:!0})},0)},n._renderPanel=function(){var e,t,r=n.props;return r.isCollapsed&&!n.state.isPanelShown?null:o.createElement("div",{className:C("panel",{"no-padding":r.noPadding}),ref:n._panelRef},o.createElement(E.a,{cacheKey:null!==(e=r.scrollCacheKey)&&void 0!==e?e:r.defaultScrollCacheKey,disabled:r.scrollDisabled,width:n._isWide()?"wide":void 0,onScrollToEnd:r.onScrollToEnd,getScrollingNodeRef:r.getScrollingNodeRef},o.createElement(_,{key:r.name,analyticsName:r.analyticsName,analyticsState:Object(s.a)({isCollapsed:r.isCollapsed},r.analyticsState)},o.createElement(O.a,{value:{effectiveWidth:n.state.wide?"wide":"narrow"}},r.children))),o.createElement("div",{className:C("panel-spacer")}),(null===(t=r.renderBottomContent)||void 0===t?void 0:t.call(r))||null,r.isLoading?o.createElement("div",{className:C("loading-indicator")},o.createElement("div",{className:C("spinner")},o.createElement(w.a,{view:n.state.wide?"xlarge":"medium"}))):null)},n._renderToggleButton=function(){var e=n.props;return"covid-map"===e.config.query.embed||a.m(e.config)||e.hideToggleButton?null:o.createElement(p.a,{isCollapsed:e.isCollapsed,wide:n._isWide(),name:e.name,shouldShowSearch:!0,onClick:e.toggleSidebar})},n.state={isPanelShown:!t.isCollapsed,wide:n._isWide()},n}Object(c.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t,n,r,o,i=this.props;i.name===i.mode&&i.isCollapsed!==e.isCollapsed&&(t=window,n="layout-change",void 0===r&&(r={bubbles:!0,cancelable:!0}),"function"==typeof Event?o=new Event(n,r):(o=document.createEvent("Event")).initEvent(n,r.bubbles,r.cancelable),t.dispatchEvent(o))},n.render=function(){var e=this.props;return e.name!==e.mode?null:o.createElement("div",{className:"sidebar-container"},o.createElement("div",{className:C({name:e.name,shown:!e.isCollapsed&&this.state.isPanelShown,view:e.view||"full"}),onTransitionEnd:this._onTransitionEnd},this._renderPanel(),o.createElement("div",{className:"sidebar-dropdown-container"})),this._renderToggleButton())},t}(o.Component)),I=(n(2552),i.b(function(e,t){return{config:e.config,isActive:a.d(e)===t.name}}));t.default=I(function(e){e.config;var t=e.isActive,n=Object(r.a)(e,["config","isActive"]);if(!t)return null;var i=T;return o.createElement(i,n)})},335:function(e,t,n){"use strict";var r,o=n(985),i=n(230).a["__core-js_shared__"],a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";var s=function(e){return!!a&&a in e},c=n(100),u=n(984),l=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,v=f.hasOwnProperty,m=RegExp("^"+p.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var h=function(e){return!(!Object(c.a)(e)||s(e))&&(Object(o.a)(e)?m:l).test(Object(u.a)(e))};var g=function(e,t){return null==e?void 0:e[t]};t.a=function(e,t){var n=g(e,t);return h(n)?n:void 0}},336:function(e,t,n){"use strict";var r=n(13),o=n(6),i=n(4),a=n(2798),s=n(9),c=n(60),u=n(669),l=n(184),d=(n(592),n(55)),f={color:{r:1,g:68/255,b:.2,a:1}},p={lightness:-.1,saturation:1};var v=function(e){function t(t){var n;return(n=e.call(this,t)||this)._handlers={},n._updateLayer=function(e,t){var r=n.props.map;if(!r.destroyed){var o=t&&r.getDataSource(t.layer);t&&t.dataSource&&(o?e&&r.updateTileDataSource(t.layer,t.dataSource):r.addDataSource(t.layer,t.dataSource));var i=r.getLayers(),a=i.topRasterLayers,s=i.mainLayers,c=[].concat(s,a);if(e){var u=Object(l.j)(e.layer);c=c.filter(function(e){return!u.includes(e)})}if(t){var d,f=Object(l.j)(t.layer);(d=c).push.apply(d,f)}r.setLayers(Object(l.l)(c,n.props.ymaps3.EventBlockerLayer)),!e||!e.dataSource||t&&t.dataSource||r.removeDataSource(e.layer)}},n._getHandler=function(e){return function(t,r){var o=n.props,i=t.feature,a=!o.config.uatraits.isTouch;(o.shouldHover?o.shouldHover(i):Boolean(o.onClick))&&("onMouseEnter"===e&&(a&&o.map.setObjectHighlight(function(e){var t;return{object:e,color:(null===(t=e.properties.tags)||void 0===t?void 0:t.includes("building"))?p:f}}(i)),n.setState({isHover:!0})),"onMouseLeave"===e&&(a&&o.map.setObjectHighlight(void 0),n.setState({isHover:!1})));var s=o[e];s&&s(i,r)}},n.state={isHover:!1},Object.keys(d.a).forEach(function(e){return n._handlers[e]=n._getHandler(e)}),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateLayer(void 0,this.props)},n.componentDidUpdate=function(e){this.props.layer===e.layer&&Object(a.a)(e.dataSource,this.props.dataSource)||this._updateLayer(e,this.props)},n.componentWillUnmount=function(){this._updateLayer(this.props)},n.render=function(){var e=this,t=Object(l.j)(this.props.layer);return i.createElement(i.Fragment,null,this.state.isHover?i.createElement(u.a,{cursor:"pointer"}):null,t.map(function(t){return i.createElement(d.b,Object(r.a)({key:t,layer:t},e._handlers))}))},t}(i.Component);t.a=Object(s.b)(Object(c.b)({shouldWait:!0})(v))},337:function(e,t,n){"use strict";var r={mobile:"touch",desktop:"desktop",tablet:"pad",turbo:"turbo-app"};function o(e){return e.uatraits.isTurboApp?r.turbo:e.uatraits.isMobile?r.mobile:e.uatraits.isTablet?r.tablet:r.desktop}function i(e){return""+(e.pharmacy?"pharmacy":e.metro?"metro":e.serviceName)+(e.rumSuffix||"")}function a(e){var t,n,r;if(e.clientErrors){var a=function(e){var t;return e.pharmacy?(null===(t=e.pharmacy)||void 0===t?void 0:t.experiments)||{}:e.experiments}(e).ui;null===(t=window.Ya)||void 0===t||null===(n=t.Rum)||void 0===n||null===(r=n.initErrors)||void 0===r||r.call(n,{platform:o(e),project:i(e),page:e.pageMode,experiments:Object.keys(a).filter(function(e){return a[e]}),region:e.userRegion.id,version:e.appVersion,unhandledRejection:!0,silent:{client:10,uncaught:10,script:10,external:10},filters:{message:{100:/Failed to load https:\/\/an.yandex.ru\/system\/context\.js/,101:/Failed to fetch/,102:/Network request failed/,103:/NetworkError when attempting to fetch resource/,104:/Loading( CSS)? chunk (.+) failed/,105:/err\.kn\(\d+\)/},stack:{100:/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/}}})}}function s(e,t){var n,r,o;if(t.config.clientErrors){var i=c(e,t.additional);null===(n=window.Ya)||void 0===n||null===(r=n.Rum)||void 0===r||null===(o=r.logError)||void 0===o||o.call(r,{message:t.prefix,additional:i},e)}}function c(e,t){var n;if(e instanceof Error&&"additionalInfo"in e)n=e.additionalInfo;else if("error"in e){var r;n=null===(r=e.error)||void 0===r?void 0:r.additionalInfo}return n?{additional:t,errorObject:n}:t}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s})},339:function(e,t,n){"use strict";var r=["object/add","entrance/add","address/add","road/add","other/add","transit/stop/add","parking/add","barrier/add","fence/add","crosswalk/add","gate/add"],o=["object/other","address/edit","entrance/edit","object/edit","object/location/edit","object/name/edit","object/not-found"],i=["transit/stop/edit","transit/stop/not-found","transit/stop/name/edit","transit/stop/location/edit","transit/stop/route/incorrect","transit/stop/other"],a=["organization/add"],s=["organization/edit","organization/edit-status","organization/edit-info","organization/other","organization/closed/permanently","organization/closed/temporary","organization/closed/unknown","organization/opened","organization/moved","organization/closed","organization/location/edit"],c=["route/edit","route/edit/better","route/incorrect","route/incorrect/road-closed","route/incorrect/poor-condition","route/incorrect/prohibiting-sign","route/incorrect/obstruction","route/other"],u=["object/select"],l=["map/edit"];function d(e){return r.includes(e)}function f(e){return o.includes(e)}function p(e){return i.includes(e)}function v(e){return f(e)||p(e)}function m(e){return a.includes(e)}function h(e){return s.includes(e)}function g(e){return c.includes(e)}function y(e){return u.includes(e)}function b(e){return l.includes(e)}function _(e){return["edit-toponym","edit-stop","edit-organization","add-organization","add-toponym","organization/duplicate","entrance/select","entrance/location/edit","entrance/name/edit","entrance/not-found"].includes(e)}function w(e){return d(e)&&"object/add"!==e||g(e)&&"route/edit"!==e&&"route/incorrect"!==e||["transit/stop/location/edit","object/location/edit","entrance/edit"].includes(e)}n.d(t,"a",function(){return d}),n.d(t,"d",function(){return v}),n.d(t,"g",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"k",function(){return w}),n.d(t,"i",function(){return y}),n.d(t,"h",function(){return b})},34:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}},341:function(e,t,n){"use strict";function r(e){return Math.pow(2,e+8)}n.d(t,"a",function(){return r})},342:function(e,t,n){"use strict";function r(e,t,n){return e===Number.POSITIVE_INFINITY?n:e===Number.NEGATIVE_INFINITY?t:e===t&&e===n?e:e-Math.floor((e-t)/(n-t))*(n-t)}n.d(t,"a",function(){return r})},343:function(e,t,n){"use strict";var r=n(658),o=1/0,i=17976931348623157e292;t.a=function(e){return e?(e=Object(r.a)(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},344:function(e,t,n){"use strict";var r={};t.a=function(e){if(r[e])return r[e];var t=window.document.createElement("script");return t.type="text/javascript",t.charset="utf-8",e.includes("//")&&(t.crossOrigin="anonymous"),t.src=("file:"===window.location.protocol&&e.startsWith("//")?"http:":"")+e,t.async=!0,r[e]=new Promise(function(e,n){t.onload=function(){t.onload=function(){return null},t.onerror=t.onload,e()},t.onerror=function(){t.onload=function(){return null},t.onerror=t.onload,n(new Error("Failed to load "+t.src))};var r=window.document.getElementsByTagName("head")[0];r.insertBefore(t,r.lastChild)}),r[e]}},345:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("mrc").then(n.bind(null,1408))},{openPlayer:!0,closePlayer:!0,replaceId:!0,fetchSimilarNearby:!0,fetchSimilar:!0,fetchDirections:!0,enableLayer:!0,disableLayer:!0,play:!0,pause:!0,setGraphType:!0})},346:function(e,t,n){},347:function(e,t,n){"use strict";var r=n(4),o=n(412),i=n(319);t.a=Object(i.b)(function(e){return r.createElement(o.a,{value:e[e.type]},e.children)})},348:function(e,t,n){"use strict";var r=n(335),o=n(230),i=Object(r.a)(o.a,"Set");t.a=i},349:function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},350:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(69),o=n(58),i=n(16);function a(e){var t;switch(i.d(e)){case"search-result":var n=i.h(e,"search-result");return n?null===(t=n.response)||void 0===t?void 0:t.items[0]:void 0;case"orgpage":var r=i.h(e,"orgpage");return r&&r.result||void 0;case"discovery":var o=i.h(e,"discovery");return o?o.linkedSearchResult:void 0}}function s(e){var t,n=r.r();switch(i.d(e)){case"search":return(t=a(e))?{coords:t.displayCoordinates,value:t&&t.title||"",input:t&&t.title||void 0}:n;case"search-result":var s,c,u,l=i.h(e,"search-result");return l?(t=null!==(s=null===(c=l.response)||void 0===c?void 0:c.items[0])&&void 0!==s?s:null,{coords:("poi"===l.request.from||"whatshere"===l.request.from)&&null!==(u=l.request.coordinates)&&void 0!==u?u:null,value:t?t.title:"",input:t?t.title:void 0}):{coords:null,value:""};case"masstransit":var d=i.h(e,"masstransit"),f=d&&d.stops.data;return{coords:(null==f?void 0:f.coordinates)||null,value:f?o.c[f.type]+" "+f.name:"",input:f?o.c[f.type]+" "+f.name:void 0};default:return n}}function c(e){return Boolean(a(e)||null!==s(e).coords)}},36:function(e,t,n){"use strict";var r=n(10),o=Object(r.a)(Object(r.a)({},{airport:"airports",area:"district",country:"fallback-toponym",house:"building",metro_station:"fallback-toponym",railway_station:"railway-station",other:"fallback-toponym",region:"fallback-toponym",station:"bus-station",vegetation:"park",unknown:"fallback-toponym"}),{barbershop:"hairdressers",gasoline:"gas-station",hotel:"hotels","phone-shop":"mobile-phones",restaurant:"restaurants",shop:"supermarket","shopping-mall":"malls",pharmacy:"medicine"}),i={medicine:"medicine-tr",drugstores:"drugstores-tr","emergency-point":"emergency-point-tr","currency-exchange":"currency-exchange-tr"},a={banks:"banks-ru","currency-exchange":"currency-exchange-ru"},s=n(1213),c=n.n(s),u=n(1214),l=n.n(u),d=n(1215),f=n.n(d),p=n(1216),v=n.n(p),m=n(1217),h=n.n(m),g=n(1218),y=n.n(g),b=n(1219),_=n.n(b),w=n(1220),E=n.n(w),O=n(1221),S=n.n(O),j=n(1222),k=n.n(j),C=n(1223),T=n.n(C),I=n(1224),R=n.n(I),x=n(1225),M=n.n(x),P=n(1226),N=n.n(P),A=n(1227),L=n.n(A),D=n(1228),z=n.n(D),q=n(1229),B=n.n(q),F=n(1230),U=n.n(F),H=n(1231),W=n.n(H),V=n(1232),G=n.n(V),Y=n(1233),Z=n.n(Y),X=n(1234),K=n.n(X),$=n(1235),J=n.n($);n.d(t,"b",function(){return se}),n.d(t,"a",function(){return oe}),n.d(t,"c",function(){return ce}),n.d(t,"e",function(){return ae}),n.d(t,"d",function(){return ie}),n.d(t,"f",function(){return ue});var Q={"apteki-favicon":["favicon.svg"],favicon:["favicon.svg"],masstransit:["aero-24.svg","aeroexpress-24.svg","aeroexpress-stop-14.svg","aeroexpress-stop-24.svg","aeroexpress-stop-38.svg","bus-24.svg","bus-frame-14.svg","bus-frame-24.svg","bus-frame-38.svg","bus-placemark-24.svg","bus-placemark-38.svg","bus-stop-14.svg","bus-stop-24.svg","bus-stop-38.svg","cable-24.svg","cable-stop-14.svg","cable-stop-24.svg","cable-stop-38.svg","funicular-24.svg","funicular-stop-14.svg","funicular-stop-24.svg","funicular-stop-38.svg","minibus-24.svg","minibus-frame-14.svg","minibus-frame-24.svg","minibus-frame-38.svg","minibus-placemark-24.svg","minibus-placemark-38.svg","minibus-stop-14.svg","minibus-stop-24.svg","minibus-stop-38.svg","railway-24.svg","railway-frame-14.svg","railway-frame-24.svg","railway-frame-38.svg","railway-placemark-24.svg","railway-placemark-38.svg","railway-station-24.svg","railway-stop-14.svg","railway-stop-24.svg","railway-stop-38.svg","suburban-24.svg","suburban-stop-14.svg","suburban-stop-24.svg","suburban-stop-38.svg","train-24.svg","tramway-24.svg","tramway-frame-14.svg","tramway-frame-24.svg","tramway-frame-38.svg","tramway-placemark-24.svg","tramway-placemark-38.svg","tramway-stop-14.svg","tramway-stop-24.svg","tramway-stop-38.svg","trolleybus-24.svg","trolleybus-frame-14.svg","trolleybus-frame-24.svg","trolleybus-frame-38.svg","trolleybus-placemark-24.svg","trolleybus-placemark-38.svg","trolleybus-stop-14.svg","trolleybus-stop-24.svg","trolleybus-stop-38.svg","underground-24.svg","underground-adana-24.svg","underground-almaty-24.svg","underground-ankara-24.svg","underground-athens-24.svg","underground-baku-24.svg","underground-barcelona-24.svg","underground-berlin-24.svg","underground-bucharest-24.svg","underground-budapest-24.svg","underground-bursa-24.svg","underground-dnipro-24.svg","underground-dubai-24.svg","underground-ekaterinburg-24.svg","underground-helsinki-24.svg","underground-istanbul-24.svg","underground-izmir-24.svg","underground-kazan-24.svg","underground-kharkiv-24.svg","underground-kiev-24.svg","underground-kyiv-24.svg","underground-lisbon-24.svg","underground-london-24.svg","underground-madrid-24.svg","underground-milan-24.svg","underground-minsk-24.svg","underground-moscow-24.svg","underground-moscow-mcd-24.svg","underground-nizhny-novgorod-24.svg","underground-novosibirsk-24.svg","underground-omsk-24.svg","underground-oslo-24.svg","underground-paris-24.svg","underground-praga-24.svg","underground-rome-24.svg","underground-saint-petersburg-24.svg","underground-samara-24.svg","underground-san-francisco-24.svg","underground-santiago-24.svg","underground-sofia-24.svg","underground-stockholm-24.svg","underground-tashkent-24.svg","underground-tbilisi-24.svg","underground-tokyo-24.svg","underground-vienna-24.svg","underground-volgograd-24.svg","underground-warsaw-24.svg","underground-yekaterinburg-24.svg","underground-yerevan-24.svg","underground.svg","walk-24.svg","water-24.svg","water-stop-14.svg","water-stop-24.svg","water-stop-38.svg"],"metro-favicon":["favicon.svg"],rubrics:["administration-14.svg","administration-24.svg","aeroexpress-14.svg","aeroexpress-24.svg","airfield-14.svg","airfield-24.svg","airports-14.svg","airports-24.svg","animation-14.svg","animation-24.svg","aquarium-14.svg","aquarium-24.svg","architect-bureau-14.svg","architect-bureau-24.svg","art-14.svg","art-24.svg","atm-14.svg","atm-24.svg","attraction-14.svg","attraction-24.svg","auto-14.svg","auto-24.svg","auto-parts-14.svg","auto-parts-24.svg","auto-repair-14.svg","auto-repair-24.svg","baby-shop-14.svg","baby-shop-24.svg","banks-14.svg","banks-24.svg","banks-ru-14.svg","banks-ru-24.svg","bars-14.svg","bars-24.svg","baths-14.svg","baths-24.svg","beach-14.svg","beach-24.svg","beauty-14.svg","beauty-24.svg","beauty-shops-14.svg","beauty-shops-24.svg","beer-market-14.svg","beer-market-24.svg","bike-14.svg","bike-24.svg","bike-rent-14.svg","bike-rent-24.svg","boat-station-14.svg","boat-station-24.svg","bookstore-14.svg","bookstore-24.svg","bowling-14.svg","bowling-24.svg","buddhism-14.svg","buddhism-24.svg","building-14.svg","building-24.svg","bus-medium-14.svg","bus-medium-24.svg","bus-station-14.svg","bus-station-24.svg","bus-stop-14.svg","bus-stop-24.svg","butcher-shop-14.svg","butcher-shop-24.svg","cableway-14.svg","cableway-24.svg","cafe-14.svg","cafe-24.svg","canteen-14.svg","canteen-24.svg","car-14.svg","car-24.svg","car-park-14.svg","car-park-24.svg","car-wash-14.svg","car-wash-24.svg","catholic-church-14.svg","catholic-church-24.svg","cemetery-14.svg","cemetery-24.svg","checkpoint-14.svg","checkpoint-24.svg","childrens-camp-14.svg","childrens-camp-24.svg","childrens-playground-14.svg","childrens-playground-24.svg","cinemas-14.svg","cinemas-24.svg","circus-14.svg","circus-24.svg","clothes-shop-14.svg","clothes-shop-24.svg","college-14.svg","college-24.svg","concert-hall-14.svg","concert-hall-24.svg","confectionary-14.svg","confectionary-24.svg","construction-hypermarket-14.svg","construction-hypermarket-24.svg","construction-tool-14.svg","construction-tool-24.svg","country-14.svg","country-24.svg","currency-exchange-14.svg","currency-exchange-24.svg","currency-exchange-ru-14.svg","currency-exchange-ru-24.svg","currency-exchange-tr-14.svg","currency-exchange-tr-24.svg","dairy-14.svg","dairy-24.svg","dancehall-14.svg","dancehall-24.svg","dental-14.svg","dental-24.svg","district-14.svg","district-24.svg","dolmus-14.svg","dolmus-24.svg","driving-school-14.svg","driving-school-24.svg","drugstores-14.svg","drugstores-24.svg","drugstores-tr-14.svg","drugstores-tr-24.svg","dry-cleaning-14.svg","dry-cleaning-24.svg","electronics-14.svg","electronics-24.svg","emergency-14.svg","emergency-24.svg","emergency-point-tr-14.svg","emergency-point-tr-24.svg","entertainments-14.svg","entertainments-24.svg","entrance-14.svg","entrance-24.svg","equestrian-14.svg","equestrian-24.svg","exhibition-center-14.svg","exhibition-center-24.svg","factory-14.svg","factory-24.svg","fallback-14.svg","fallback-24.svg","fallback-beauty-14.svg","fallback-beauty-24.svg","fallback-civil-services-14.svg","fallback-civil-services-24.svg","fallback-common-14.svg","fallback-common-24.svg","fallback-drugstores-14.svg","fallback-drugstores-24.svg","fallback-entertainment-14.svg","fallback-entertainment-24.svg","fallback-food-drink-14.svg","fallback-food-drink-24.svg","fallback-fun-14.svg","fallback-fun-24.svg","fallback-health-14.svg","fallback-health-24.svg","fallback-hydro-14.svg","fallback-hydro-24.svg","fallback-medicine-14.svg","fallback-medicine-24.svg","fallback-outdoor-14.svg","fallback-outdoor-24.svg","fallback-services-14.svg","fallback-services-24.svg","fallback-shopping-14.svg","fallback-shopping-24.svg","fallback-toponym-14.svg","fallback-toponym-24.svg","fallback-transport-14.svg","fallback-transport-24.svg","fast-food-14.svg","fast-food-24.svg","festival-14.svg","festival-24.svg","film-studio-14.svg","film-studio-24.svg","fire-station-14.svg","fire-station-24.svg","fish-store-14.svg","fish-store-24.svg","fitness-14.svg","fitness-24.svg","flower-shop-14.svg","flower-shop-24.svg","food-market-14.svg","food-market-24.svg","forest-14.svg","forest-24.svg","fountain-14.svg","fountain-24.svg","funicular-14.svg","funicular-24.svg","furniture-store-14.svg","furniture-store-24.svg","gallery-14.svg","gallery-24.svg","garage-cooperative-14.svg","garage-cooperative-24.svg","garden-14.svg","garden-24.svg","gasstation-14.svg","gasstation-24.svg","gastro-market-14.svg","gastro-market-24.svg","geyser-14.svg","geyser-24.svg","giftshop-14.svg","giftshop-24.svg","golf-14.svg","golf-24.svg","government-14.svg","government-24.svg","grass-14.svg","grass-24.svg","greengrocery-14.svg","greengrocery-24.svg","hairdressers-14.svg","hairdressers-24.svg","haulier-14.svg","haulier-24.svg","heart-14.svg","heart-24.svg","highspeed-tram-stop-14.svg","highspeed-tram-stop-24.svg","home-14.svg","home-24.svg","home-appliances-14.svg","home-appliances-24.svg","hospital-14.svg","hospital-24.svg","hostels-14.svg","hostels-24.svg","hotels-14.svg","hotels-24.svg","household-supplies-14.svg","household-supplies-24.svg","hydro-14.svg","hydro-24.svg","hypermarket-14.svg","hypermarket-24.svg","industrial-enterprise-14.svg","industrial-enterprise-24.svg","information-14.svg","information-24.svg","it-14.svg","it-24.svg","jewelry-store-14.svg","jewelry-store-24.svg","justice-14.svg","justice-24.svg","kindergarten-14.svg","kindergarten-24.svg","landmark-14.svg","landmark-24.svg","laundry-14.svg","laundry-24.svg","library-14.svg","library-24.svg","liquor-store-14.svg","liquor-store-24.svg","locality-14.svg","locality-24.svg","locker-14.svg","locker-24.svg","malls-14.svg","malls-24.svg","market-14.svg","market-24.svg","marketplace-14.svg","marketplace-24.svg","medical-14.svg","medical-24.svg","medicine-14.svg","medicine-24.svg","medicine-il-14.svg","medicine-il-24.svg","medicine-tr-14.svg","medicine-tr-24.svg","memorable-event-14.svg","memorable-event-24.svg","mobile-phones-14.svg","mobile-phones-24.svg","monument-14.svg","monument-24.svg","mosque-14.svg","mosque-24.svg","mountain-14.svg","mountain-24.svg","museum-14.svg","museum-24.svg","music-store-14.svg","music-store-24.svg","musicclub-14.svg","musicclub-24.svg","nail-studio-14.svg","nail-studio-24.svg","news-14.svg","news-24.svg","night-club-14.svg","night-club-24.svg","office-14.svg","office-24.svg","office-service-14.svg","office-service-24.svg","offline-14.svg","offline-24.svg","online-store-14.svg","online-store-24.svg","opticial-store-14.svg","opticial-store-24.svg","orthodox-church-14.svg","orthodox-church-24.svg","park-14.svg","park-24.svg","pawnshop-14.svg","pawnshop-24.svg","pedestrian-14.svg","pedestrian-24.svg","perfume-shop-14.svg","perfume-shop-24.svg","pet-playground-14.svg","pet-playground-24.svg","petshop-14.svg","petshop-24.svg","photo-14.svg","photo-24.svg","pier-14.svg","pier-24.svg","pizzeria-14.svg","pizzeria-24.svg","planetarium-14.svg","planetarium-24.svg","playground-14.svg","playground-24.svg","police-14.svg","police-24.svg","police-post-14.svg","police-post-24.svg","pool-hall-14.svg","pool-hall-24.svg","port-14.svg","port-24.svg","post-office-14.svg","post-office-24.svg","printing-services-14.svg","printing-services-24.svg","protestant-church-14.svg","protestant-church-24.svg","province-14.svg","province-24.svg","pub-14.svg","pub-24.svg","racing-14.svg","racing-24.svg","railway-station-14.svg","railway-station-24.svg","railway-terminal-14.svg","railway-terminal-24.svg","restaurants-14.svg","restaurants-24.svg","rezervation-14.svg","rezervation-24.svg","route-14.svg","route-24.svg","sanatorium-14.svg","sanatorium-24.svg","school-14.svg","school-24.svg","science-14.svg","science-24.svg","shoe-store-14.svg","shoe-store-24.svg","shooting-14.svg","shooting-24.svg","skating-rink-14.svg","skating-rink-24.svg","ski-resort-14.svg","ski-resort-24.svg","software-14.svg","software-24.svg","spa-14.svg","spa-24.svg","sport-14.svg","sport-24.svg","sport-school-14.svg","sport-school-24.svg","sportcenter-14.svg","sportcenter-24.svg","sports-bar-14.svg","sports-bar-24.svg","spring-14.svg","spring-24.svg","stadium-14.svg","stadium-24.svg","stage-14.svg","stage-24.svg","standpipe-14.svg","standpipe-24.svg","stationery-store-14.svg","stationery-store-24.svg","stenograffia-14.svg","stenograffia-24.svg","street-14.svg","street-24.svg","subway-fallback-14.svg","subway-fallback-24.svg","supermarket-14.svg","supermarket-24.svg","sushi-14.svg","sushi-24.svg","swimming-pool-14.svg","swimming-pool-24.svg","synagogue-14.svg","synagogue-24.svg","tableware-14.svg","tableware-24.svg","tailor-14.svg","tailor-24.svg","taxi-14.svg","taxi-24.svg","tennis-14.svg","tennis-24.svg","theatre-14.svg","theatre-24.svg","ticket-office-14.svg","ticket-office-24.svg","tire-fitting-14.svg","tire-fitting-24.svg","tram-stop-14.svg","tram-stop-24.svg","trash-14.svg","trash-24.svg","travel-agency-14.svg","travel-agency-24.svg","university-14.svg","university-24.svg","urban-leisure-house-of-culture-14.svg","urban-leisure-house-of-culture-24.svg","vet-clinic-14.svg","vet-clinic-24.svg","veterinary-14.svg","veterinary-24.svg","viewpoint-14.svg","viewpoint-24.svg","waterfall-14.svg","waterfall-24.svg","waterpark-14.svg","waterpark-24.svg","wc-14.svg","wc-24.svg","wedding-14.svg","wedding-24.svg","well-14.svg","well-24.svg","wine-14.svg","wine-24.svg","work-14.svg","work-24.svg","ya-gas-station-14.svg","ya-gas-station-24.svg","yoga-14.svg","yoga-24.svg","zoo-14.svg","zoo-24.svg"],service:["bookmark-14.svg","bookmark-list-14.svg","geolocation-14.svg","home-14.svg","home-24.svg","like-14.svg","like-24.svg","lock-24.svg","message-24.svg","my-location-14.svg","personal-14.svg","poll-24.svg","search-14.svg","search-24.svg","show-map-14.svg","web-24.svg","work-14.svg","work-24.svg"]},ee={small:14,normal:24,large:38},te={facebook:L.a,instagram:z.a,ok:B.a,lj:U.a,moimir:W.a,telegram:G.a,twitter:Z.a,vkontakte:K.a,youtube:J.a},ne={red:{ru:_.a,uk:E.a,en:S.a,tr:k.a,uz:T.a,kk:R.a},black:{ru:c.a,uk:l.a,en:f.a,tr:v.a,uz:h.a,kk:y.a},portal:{ru:N.a,en:M.a,tr:M.a,uk:N.a,uz:M.a,kk:N.a}},re="//yastatic.net/s3/front-maps-static/constructor-icons/";function oe(e,t){var n=e.toLowerCase().replace(/\s+/g,"-");return"ru"===t.lang&&a[n]?a[n]:"tr"===t.lang&&i[n]?i[n]:o[n]||n}function ie(e,t){var n=e.type,r=e.name,o=e.size,i=oe(r,t);if(!i)return null;var a=i+"-"+ee[o]+".svg";return Q[n]&&Q[n].includes(a)?t.staticHost+"static/v11/icons/"+n+"/"+a:null}function ae(e){return""+re+e+".svg"}function se(e){var t=e.type,n=e.lang;return ne[t][n]}function ce(e){return te[e]}function ue(e){var t=e.lang;return["ru","uk","kk"].includes(t)}},37:function(e,t,n){"use strict";var r=n(10),o=n(84),i=n.n(o),a=n(2809),s=n(451),c=n(337),u=n(16),l=n(253),d=n(660),f={push:function(e,t){return function(n,o){var a=o();n(p("push",[].concat(a.stack,[Object(r.a)(Object(r.a)({},e),{},{id:i.a.v4(),mobileViewState:e.mobileViewState||("expanded"===u.c(a)?"expanded":"mini")})]),t)),n(v({isFirstApply:!0}))}},replace:function(e,t,n){return void 0===n&&(n="push"),function(o,a){var s=a();Object(d.a)(s.config)&&(n="replace");var c=[].concat(s.stack.slice(0,-1),[Object(r.a)(Object(r.a)({},e),{},{id:i.a.v4(),mobileViewState:e.mobileViewState||("expanded"===u.c(s)?"expanded":"mini")})]);o(p(n,c,t)),o(v({isFirstApply:!0}))}},update:function(e,t,n){return function(r,o,i){var a=i.config,u=o().stack,l=u.indexOf(e);if(-1!==l){r(p("replace",[].concat(u.slice(0,l),[Object(s.a)(e,t)],u.slice(l+1)),n,!0)),!t.mapLocationRequest||e.mapLocationRequest&&!t.mapLocationRequest.forceApply||r(v({isFirstApply:!0}))}else{var d=new Error('Stack item is not found in stack, mode "'+e.mode+'"');Object(c.b)(d,{config:a,additional:{currentMode:u[u.length-1]&&u[u.length-1].mode,nextMode:e.mode,changes:t}})}}},close:function(e){return function(t,n){var r=n();0!==r.stack.length?(t(p("push",r.stack.slice(0,-1),e)),t(v({prevStack:r.stack}))):e&&t({type:"EXTEND",payload:e})}},apply:function(e,t){return function(n,r){var o=r();n(p("replace",e,t)),n(v({prevStack:o.stack}))}},reset:function(e,t){return void 0===e&&(e=[]),function(n){var o=e[e.length-1],a=Boolean(o&&!("id"in o));n(p("push",e.map(function(e){return"id"in e&&e.id?e:Object(r.a)(Object(r.a)({},e),{},{id:i.a.v4()})}),t)),n(v({isFirstApply:a}))}}};function p(e,t,n,o){return function(i,a){var s=a(),c=o||u.k(u.d(s,!1))||t.length>0&&u.k(t[t.length-1].mode);i({type:"EXTEND",payload:Object(r.a)(Object(r.a)({},n),{},{stack:t,collapsedSidebar:!!c&&s.collapsedSidebar,stackActionsCount:s.stackActionsCount+(o?0:1)}),meta:{locationAction:e}})}}function v(e){return void 0===e&&(e={}),function(t,n){var o=n(),i=o.stack,s=o.map,c=i[i.length-1],d=c&&c.mapLocationRequest;if(d){var f=e.prevStack;if(!(f&&f.length>0&&u.k(f[f.length-1].mode)||e.isFirstApply&&d.skipFirstApply)){var p=e.isFirstApply&&d.forceFirstApply||d.forceApply,v="center"in d&&d.center||void 0;if(p||!v||!Object(a.a)(s.location.bounds,v)){var m=d.checkPoints;if(p||!m||!m.some(function(e){return Object(a.a)(s.location.bounds,e)})){var h="bounds"in d&&d.bounds||void 0;h&&e.isFirstApply&&d.includeCurrentBounds&&(h=Object(l.a)(h,s.location.bounds));var g=h?{bounds:h}:v?{center:v,zoom:"zoom"in d&&d.zoom||void 0}:void 0;g&&(g.duration=d.duration||300,t({type:"EXTEND",payload:{map:Object(r.a)(Object(r.a)({},s),{},{locationRequest:g})}}))}}}}}}t.a=f},38:function(e,t,n){"use strict";var r=n(6),o=(n(1303),n(4)),i=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._element=null,t._onClick=function(e){var n,r=t.props;if(0===e.button)if(e.metaKey||e.ctrlKey){if(r.allowCtrlClick){var o;null===(o=r.onLeftClick)||void 0===o||o.call(r,e)}}else e.preventDefault(),null===(n=r.onLeftClick)||void 0===n||n.call(r,e);t._logClick(e)},t._logClick=function(e){var n=t.props.onClick;null==n||n(e)},t._ref=function(e){e?e.addEventListener("auxclick",t._logClick):t._element&&t._element.removeEventListener("auxclick",t._logClick),t._element=e},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.href?"a":"div",n=e.className||"link-wrapper";return o.createElement(t,{className:n,href:e.href,ref:this._ref,onClick:this._onClick,title:e.title,style:e.style},e.children)},t}(o.Component);t.a=i},39:function(e,t,n){"use strict";n(1367);var r=n(4),o=n(7);t.a=function(e){var t=e.view,n=e.withoutMargin,i=e.inverse,a=Object(o.a)("spinner-view_"+t);return r.createElement("div",{className:a({"without-margin":n,inverse:i})},r.createElement("div",{className:a("circle")}))}},406:function(e,t,n){"use strict";var r=n(216),o="__lodash_hash_undefined__";var i=function(e){return this.__data__.set(e,o),this};var a=function(e){return this.__data__.has(e)};function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.a;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=a;t.a=s},41:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",function(){return r})},410:function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},411:function(e,t,n){"use strict";var r,o;r=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},o=function(e){var t,n,o=document.createTextNode(""),i=0;return new e(function(){var e;if(t)n&&(t=n.concat(t));else{if(!n)return;t=n}if(n=t,t=null,"function"==typeof n)return e=n,n=null,void e();for(o.data=i=++i%2;n;)e=n.shift(),n.length||(n=null),e()}).observe(o,{characterData:!0}),function(e){r(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,o.data=i=++i%2)}},e.exports=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return o(MutationObserver);if("function"==typeof WebKitMutationObserver)return o(WebKitMutationObserver)}return"function"==typeof setImmediate?function(e){setImmediate(r(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(r(e),0)}:null}()},412:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),o=Object(r.a)("analytics",null,function(e){return{parentAnalyticsNode:e}}),i=o.connect,a=o.Provider;t.b=i},413:function(e,t,n){"use strict";var r=n(6),o=n(10),i=n(4),a=n(5),s=[],c=function(e,t){var n=e.target,r=t.node,o=t.callback,i=t.stopPropagation,a=t.getExcludedNodes;if(f(r,n))return!i;var s=a&&a();if(s&&(s=Array.isArray(s)?s:[s]).some(function(e){return f(e,n)}))return!i;return o(e),!i},u=function(e){for(var t=s.length-1;t>=0;t--){if(!c(e,s[t]))break}},l=function(e,t){0===s.length&&(window.document.addEventListener("mousedown",u,!0),window.document.addEventListener("touchstart",u,!0));var n=Object(o.a)({node:e},t);return s.push(n),function(){return e=n,void(0===(s=s.filter(function(t){return e!==t})).length&&(window.document.removeEventListener("mousedown",u,!0),window.document.removeEventListener("touchstart",u,!0)));var e}},d=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.callback,n=e.stopPropagation,r=e.getExcludedNodes,o=a.findDOMNode(this);o instanceof Element&&(this._unsubscribe=l(o,{callback:t,stopPropagation:n,getExcludedNodes:r}))},n.componentWillUnmount=function(){this._unsubscribe()},n.render=function(){return i.Children.only(this.props.children)},t}(i.Component);function f(e,t){return e===t||e.contains(t)}t.a=d},414:function(e,t,n){"use strict";var r=n(10),o=n(140),i=n(128),a=n(32),s={outformat:"json"},c={fetch:function(e,t){return Object(i.a)({url:t.hosts.suggestApi+"suggest-geo",credentials:"include",query:Object(r.a)(Object(r.a)({v:9,fullpath:1,lang:t.locale,yu:o.a.get("yandexuid",t)},s),e)},t).then(function(t){return e.client_reqid&&(t.client_reqid=e.client_reqid),t})},addPersonal:function(e,t,n){Object(i.a)({url:t.hosts.suggestApi+"suggest-personal-add",mode:"no-cors",credentials:"include",query:Object(r.a)(Object(r.a)(Object(r.a)({yu:o.a.get("yandexuid",t)},s),e),{},{client:t.serviceName,timestamp:u(n)})},t).catch(function(){})},clearPersonalData:function(e,t){return Object(i.a)({url:e.hosts.suggestApi+"suggest-personal-delete-all",mode:"no-cors",credentials:"include",query:Object(r.a)(Object(r.a)({yu:o.a.get("yandexuid",e)},s),{},{client:e.serviceName,timestamp:u(t)})},e).catch(function(){})}};function u(e){return Math.round(a.g(e).getTime()/1e3)}t.a=c},43:function(e,t,n){"use strict";var r=n(6),o=(n(1297),n(4)),i=n(5),a=n(7),s=n(993),c=n(22),u=n(9),l=Object(a.a)("hover-hint"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._target=null,n._showTimerId=0,n._hide=function(){window.clearTimeout(n._showTimerId),n._showTimerId=0,n.setState({isShown:!1})},n._onMouseEnter=function(){n._showTimerId||n.props.isDisabled||(n._showTimerId=window.setTimeout(function(){return n.setState({isShown:!0})},n.props.delay||200))},n._onMouseLeave=function(){n._hide()},n._onClick=function(){(void 0===n.props.hideOnClick||n.props.hideOnClick)&&n._hide()},n._renderPopup=function(){var e=n.props,t=e.isAir?"air":"help",r=Boolean(!e.isDisabled&&(n.state.isShown||e.force));return o.createElement(c.a,{isShown:r,position:e.position,offset:e.offset,type:t,onScroll:"reposition",getTarget:function(){return n._target||null},onClose:function(){return n._hide()},className:e.className,showArrow:e.showArrow},o.createElement("div",{className:l({type:t,size:e.size||"m"})},e.text))},n.state={isShown:Boolean(t.isInitialShown)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._target&&(this._target.addEventListener("mouseenter",this._onMouseEnter),this._target.addEventListener("mouseleave",this._onMouseLeave),this._target.addEventListener("click",this._onClick))},n.componentWillUnmount=function(){this._target&&(this._target.removeEventListener("mouseenter",this._onMouseEnter),this._target.removeEventListener("mouseleave",this._onMouseLeave),this._target.removeEventListener("click",this._onClick)),window.clearTimeout(this._showTimerId),this._showTimerId=0},n.componentDidUpdate=function(e){!e.isDisabled&&this.props.isDisabled&&this.state.isShown&&(window.clearTimeout(this._showTimerId),this._showTimerId=0,this.setState({isShown:!1}))},n.render=function(){var e=this,t=this.props;return o.createElement(o.Fragment,null,o.createElement(s.a,{ref:function(t){return e._target=t?i.findDOMNode(t):null}},t.children),this._renderPopup())},t}(o.Component);t.a=Object(u.b)(d)},44:function(e,t,n){"use strict";var r=Array.isArray;t.a=r},440:function(e,t,n){"use strict";n(442);var r,o=n(10),i=n(59);n(317),n(2795),n(337),n(21);!function(e){e.YANDEX="yandex",e.ZDRAVCITY="zdravcity"}(r||(r={}));var a=n(159);n(590);n.d(t,"a",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return u}),n.d(t,"j",function(){return O}),n.d(t,"k",function(){return S}),n.d(t,"i",function(){return y}),n.d(t,"l",function(){return d}),n.d(t,"m",function(){return b}),n.d(t,"h",function(){return _});var s="drug-zdravcity-",c="drug-yandex-";function u(e){var t,n;return(null===(t=e.matchedObjects)||void 0===t?void 0:null===(n=t.categories)||void 0===n?void 0:n[0].categoryItems)||[]}function l(e,t){return e.reduce(function(e,n){var r=Math.max.apply(Math,n.statistics.filter(t||Boolean).map(function(e){var t=e.orgsCount;return void 0===t?0:t}));return Math.max(e,r)},0)}function d(e){return Math.round(parseFloat(e)*a.h)/a.h}function f(e,t,n){var r=(void 0===n?{}:n).ignoreFractions;return e&&e===t?"от "+p(e,{ignoreFractions:r}):e&&!t?"от "+p(e,{ignoreFractions:r}):!e&&t?"до "+p(t,{ignoreFractions:r}):e&&t?p(e,{ignoreFractions:r}).slice(0,-2)+"–"+p(t,{ignoreFractions:r}):""}function p(e,t){return void 0===t&&(t={}),Object(i.a)({value:e,currency:"RUB",fractionDigits:e%1==0||t.ignoreFractions?void 0:2},"ru")}function v(e){return""+c+h(e)}function m(e){return""+s+h(e)}function h(e){return"number"==typeof e?e:Number(e.replace(/\D/g,""))}function g(e){var t,n,r,i=e.item,a=e.manufacturerDrugIds,s=(t=a,n=i.drugIds,t.filter(function(e){return n.includes(e)})),c=!1,u=1/0,l=-1/0,d=0;return a.forEach(function(e){i.drugIds.includes(e)&&(c=c||i.isAvailableByDrugId[e],r=r||i.pictureByDrugId[e],u=Math.min(u,i.minPriceByDrugId[e]||1/0),l=Math.max(l,i.maxPriceByDrugId[e]||1/0),d=Math.max(d,i.pharmaciesCountByDrugId[e]||0))}),Object(o.a)(Object(o.a)({},i),{},{drugIds:s,picture:r,isAvailable:c,minPrice:c&&isFinite(u)?u:void 0,maxPrice:c&&isFinite(l)?l:void 0,pharmaciesCount:d,isAvailableByDrugId:w(i.isAvailableByDrugId,s),minPriceByDrugId:w(i.minPriceByDrugId,s),maxPriceByDrugId:w(i.maxPriceByDrugId,s),pharmaciesCountByDrugId:w(i.pharmaciesCountByDrugId,s),pictureByDrugId:w(i.pictureByDrugId,s)})}function y(e,t){return e.some(function(e){return t.includes(e)})}function b(e){return e.reduce(function(e,t){var n=e[0],r=e[1];return"number"==typeof t.minPrice&&t.minPrice&&(n+=t.minPrice),"number"==typeof t.maxPrice&&t.maxPrice&&(r+=t.maxPrice),[n,r]},[0,0])}function _(e,t){var n="string"==typeof t?h(t):t;return e.variants.find(function(e){return e.drugIds.includes(n)})}function w(e,t){return Object.keys(e).filter(function(e){return t.map(String).includes(e)}).reduce(function(t,n){var r;return Object(o.a)(Object(o.a)({},t),{},((r={})[n]=e[n],r))},{})}function E(e,t){void 0===t&&(t=!1);var n=l(e,function(e){return"yandex"===e.provider}),r=[];return l(e,function(e){return"zdravcity"===e.provider})>0&&r.push("delivery"),n>0&&!t&&r.push("booking"),r}function O(e){return Boolean(S(e.config)&&"cart-map"===e.pharmacy.pageType)}function S(e){var t;return Boolean(null===(t=e.pharmacy)||void 0===t?void 0:t.experiments.ui.mapV3)}},442:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}n.d(t,"a",function(){return o})},444:function(e,t,n){"use strict";var r=n(229),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;var c=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o},u=Object.prototype.toString;var l=function(e){return u.call(e)},d="[object Null]",f="[object Undefined]",p=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?f:d:p&&p in Object(e)?c(e):l(e)}},447:function(e,t,n){"use strict";var r=n(252),o=n(341);function i(e){return[e[0],e[1]]}function a(e,t){var n=Object(r.a)(e[0],t),a=Object(r.a)(e[1],t),s=Object(o.a)(t),c=[i(n),i(a)];return n[0]>a[0]&&(c[0][0]=n[0],c[1][0]=a[0]+s),n[1]>a[1]&&(c[0][1]=a[1],c[1][1]=n[1]),c}n.d(t,"a",function(){return a})},448:function(e,t,n){"use strict";var r=n(343);t.a=function(e){var t=Object(r.a)(e),n=t%1;return t==t?n?t-n:t:0}},449:function(e,t,n){"use strict";function r(e,t,n){var r=t[0],o=t[1],i=n[0]-r,a=n[1]-o,s=i*i+a*a,c=0;0!==s&&(c=((e[0]-r)*i+(e[1]-o)*a)/s,c=Math.max(0,Math.min(1,c)));var u=r+c*i,l=o+c*a,d=e[0]-u,f=e[1]-l;return Math.sqrt(d*d+f*f)}n.d(t,"a",function(){return r})},450:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(193);function o(e,t,n){void 0===n&&(n=!0);var o=Math.pow(2,t+8),i=n?e[0]%o:e[0],a=2*Math.atan(Math.exp(Math.PI*(1-2*e[1]/o)))-.5*Math.PI;return[360*i/o-180,180*(a+r.c*Math.sin(2*a)+r.d*Math.sin(4*a)+r.e*Math.sin(6*a)+r.f*Math.sin(8*a))/Math.PI]}},451:function(e,t,n){"use strict";var r=n(10);t.a=function e(t,n){var o=Object(r.a)({},t);return Object.entries(n).forEach(function(t){var n=t[0],r=t[1];o.hasOwnProperty(n)?"object"!=typeof r||Array.isArray(r)||null===r?o[n]=r:o[n]=e(o[n],r):o[n]=r}),o}},452:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});n(10);function r(e){return new Promise(function(t,n){return setTimeout(n,e)})}function o(e){return new Promise(function(t){return setTimeout(t,e)})}},453:function(e,t,n){"use strict";var r=n(41),o=n(6),i=n(4),a=n(12);t.a=function(e,t,n){void 0===n&&(n={});var s=!1,c=function(t){function a(){return t.apply(this,arguments)||this}Object(o.a)(a,t);var c=a.prototype;return c.shouldComponentUpdate=function(e){return n.withSideEffect?e.shouldRender:!s&&!this.props.shouldRender&&e.shouldRender},c.componentDidUpdate=function(e){!e.shouldRender&&this.props.shouldRender&&(s=!0)},c.render=function(){var t=this.props,n=t.shouldRender,o=Object(r.a)(t,["shouldRender"]);return n?i.createElement(e,o):null},a}(i.Component);return a.b(function(e){return{shouldRender:t(e)}})(c)}},454:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return o})},455:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s});var r=n(34),o=256,i=130,a=32,s=function(e){if("tile"===e.type){var t=Object(r.a)({},e),n=e;return n.raster&&(t.raster=Object(r.a)({},e.raster)),n.vector&&(t.vector=Object(r.a)({},e.vector)),t}return Object(r.a)({},e)}},456:function(e,t,n){"use strict";var r,o=n(10),i=n(41),a=n(411),s=n.n(a),c=n(25),u={getLayers:function(e,t){var n=(r=r||{}).requests||[],o=n.push(function(e,t){return{layerIds:e.layers,center:e.center?e.center.map(function(e){return e.toFixed(8)}).join(","):void 0,zoom:e.zoom&&Math.round(e.zoom),span:e.span?e.span.map(function(e){return e.toFixed(8)}).join(","):void 0,locale:t.locale,lang:t.lang}}(e,t))-1,i=r.promise||function(e){return new Promise(function(t,n){s()(function(){var o=r.requests;r=void 0,function(e,t){return Object(c.a)("layers/info",{query:{requests:e}},t)}(o,e).then(t).catch(n)})})}(t);return r={promise:i,requests:n},i.then(function(e){return e[o]})},getLayer:function(e,t){var n=e.layer,r=Object(i.a)(e,["layer"]);return r.zoom&&!l(n,r.zoom,t)?Promise.resolve(void 0):u.getLayers(Object(o.a)({layers:[n]},r),t).then(function(e){return e[n]})},checkStaticZoomRange:l};function l(e,t,n){var r=n.layers[e];if(!r)return!0;var o="zoomRange"in r&&r.zoomRange;return!o||t>=o[0]&&t<=o[1]}t.a=u},457:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.panoramas.isLayerEnabled||e.photos.isLayerEnabled||e.mrc.isLayerEnabled||e.map.isEditing}},46:function(e,t,n){"use strict";var r=n(41),o=n(6),i=n(4),a=!0,s="Invariant failed";var c=function(e,t){if(!e)throw a?new Error(s):new Error(s+": "+(t||""))};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=new Map,p=new Map,v=new Map,m=0;function h(e,t,n){void 0===n&&(n={}),n.threshold||(n.threshold=0);var r=n,o=r.root,i=r.rootMargin,a=r.threshold;if(f.has(e)&&c(!1),e){var s=function(e){return e?v.has(e)?v.get(e):(m+=1,v.set(e,m.toString()),v.get(e)+"_"):""}(o)+(i?a.toString()+"_"+i:a.toString()),u=p.get(s);u||(u=new IntersectionObserver(y,n),s&&p.set(s,u));var l={callback:t,element:e,inView:!1,observerId:s,observer:u,thresholds:u.thresholds||(Array.isArray(a)?a:[a])};return f.set(e,l),u.observe(e),l}}function g(e){if(e){var t=f.get(e);if(t){var n=t.observerId,r=t.observer,o=r.root;r.unobserve(e);var i=!1,a=!1;n&&f.forEach(function(t,r){r!==e&&(t.observerId===n&&(i=!0,a=!0),t.observer.root===o&&(a=!0))}),!a&&o&&v.delete(o),r&&!i&&r.disconnect(),f.delete(e)}}}function y(e){e.forEach(function(e){var t=e.isIntersecting,n=e.intersectionRatio,r=e.target,o=f.get(r);if(o&&n>=0){var i=o.thresholds.some(function(e){return o.inView?n>e:n>=e});void 0!==t&&(i=i&&t),o.inView=i,o.callback(i,e)}})}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u(d(t=e.call.apply(e,[this].concat(r))||this),"state",{inView:!1,entry:void 0}),u(d(t),"node",null),u(d(t),"handleNode",function(e){t.node&&g(t.node),t.node=e||null,t.observeNode()}),u(d(t),"handleChange",function(e,n){(e!==t.state.inView||e)&&t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)}),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.node||c(!1)},o.componentDidUpdate=function(e,t){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold||(g(this.node),this.observeNode()),t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&(g(this.node),this.node=null)},o.componentWillUnmount=function(){this.node&&(g(this.node),this.node=null)},o.observeNode=function(){if(this.node){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin;h(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r})}},o.render=function(){var e=this.state,t=e.inView,n=e.entry;if(!function(e){return"function"!=typeof e.children}(this.props))return this.props.children({inView:t,entry:n,ref:this.handleNode});var r=this.props,o=r.children,a=r.as,s=r.tag,c=(r.triggerOnce,r.threshold,r.root,r.rootMargin,r.onChange,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange"]));return Object(i.createElement)(a||s||"div",l({ref:this.handleNode},c),o)},r}(i.Component);u(b,"displayName","InView"),u(b,"defaultProps",{threshold:0,triggerOnce:!1});var _="undefined"!=typeof window&&"IntersectionObserver"in window,w=function(e){function t(){return e.apply(this,arguments)||this}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t;_||(null===(e=(t=this.props).onChange)||void 0===e||e.call(t,!0))},n.render=function(){var e=this.props;if(!_){var t=e.as||e.tag||"div";return i.createElement(t,{style:e.style,className:e.className},e.children)}e.ref;var n=Object(r.a)(e,["ref"]);return i.createElement(b,n)},t}(i.PureComponent);t.a=w},47:function(e,t,n){"use strict";var r=n(32),o=n(24);n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return l});var i=["january","february","march","april","may","june","july","august","september","october","november","december"];function a(e,t){return{april:"апреля",august:"августа",december:"декабря",february:"февраля",january:"января",july:"июля",june:"июня",march:"марта",may:"мая",november:"ноября",october:"октября",september:"сентября"}[i[e]]}function s(e,t,n){void 0===n&&(n={});var o,s=r.g(r.f(t)),c={day:e.getDate(),month:n.isShortMonth?(o=e.getMonth(),{april:"апр",august:"авг",december:"дек",february:"февр",january:"янв",july:"июля",june:"июня",march:"марта",may:"мая",november:"нояб",october:"окт",september:"сент"}[i[o]]):a(e.getMonth()),year:e.getFullYear()};return(void 0!==n.isShortDate?n.isShortDate:e.getFullYear()===s.getFullYear())?(function(params){return params.day+" "+params.month;})(c):(function(params){return params.day+" "+params.month+" "+params.year;})(c)}function c(e,t){return s(e,t)+", "+u(e)}function u(e){var t=e.toTimeString().split(" ")[0],n=r.j(t);return n?""+r.l(n):""}function l(e,t,n){var r=new Date(e),i=new Date(t),s=r.getDate().toString();return function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(o.a)(e,n),i=Object(o.a)(t,n);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}(r,i)||(s+=" "+a(r.getMonth())),s+" — "+(i.getDate().toString()+" "+a(i.getMonth()))}},48:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),o=Object(r.a)("time",{getToday:function(){return new Date},timeContext:{hydrationPhaseTime:null}}),i=o.connect,a=o.Provider;t.b=i},49:function(e,t,n){"use strict";n.d(t,"g",function(){return j}),n.d(t,"e",function(){return w}),n.d(t,"d",function(){return f}),n.d(t,"o",function(){return d}),n.d(t,"p",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return S}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return k}),n.d(t,"n",function(){return b}),n.d(t,"l",function(){return y}),n.d(t,"h",function(){return _}),n.d(t,"m",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return l}),n.d(t,"k",function(){return p});var r=n(108),o=n(2793),i="ymapsbm1://pin?",a="ymapsbm1://org?",s="ymapsbm1://transit/stop?",c="ymapsbm1://geo?",u="ymapsbm1://transit/line?";function l(e){return e.startsWith(a)}function d(e){return e&&l(e)?e:void 0}function f(e){return e&&l(e)?E(e).oid:void 0}function p(e){return e.startsWith(i)}function v(e){return!!e&&e.startsWith(s)}function m(e){return e&&v(e)?e:void 0}function h(e){return e&&v(e)?E(e).id:void 0}function g(e){return e.startsWith(u)}function y(e){return l(e)||p(e)||v(e)}function b(e){return e.startsWith(c)}function _(e){return l(e)||p(e)||v(e)||b(e)}function w(e){return Object(o.a)(E(e).ll)}function E(e){return r.parse(e.split("?")[1])}function O(e){return i+r.stringify({ll:e.join(",")})}function S(e){return s+r.stringify({id:e})}function j(e){return"direct"===e.type?"direct-"+(e.direct.url||e.coordinates):"collection"===e.type?"collection-"+e.alias+"-"+e.analyticsId:e.uri}function k(e){return a+r.stringify({oid:e})}},52:function(e,t,n){"use strict";var r=n(71),o=n(6),i=n(4),a=n(5),s=n(111),c=function(e){function t(t){var n;return(n=e.call(this,t)||this)._node=null,n._getNode=function(){var e=a.findDOMNode(Object(r.a)(n));return e instanceof Element?e:null},n._addListeners=function(e){Object(s.b)().events.animationEnd&&e.addEventListener(Object(s.b)().events.animationEnd,n._onHideAnimationEnd),Object(s.b)().events.transitionEnd&&e.addEventListener(Object(s.b)().events.transitionEnd,n._onHideAnimationEnd)},n._removeListeners=function(e){Object(s.b)().events.animationEnd&&e.removeEventListener(Object(s.b)().events.animationEnd,n._onHideAnimationEnd),Object(s.b)().events.transitionEnd&&e.removeEventListener(Object(s.b)().events.transitionEnd,n._onHideAnimationEnd),e.classList.remove("_animation-hide")},n._onHideAnimationEnd=function(e){var t=e.currentTarget;n._removeListeners(t),n._node=null,n.setState({content:null},n.props.onHideEnd)},n.state={content:t.children},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.children&&this.setState({content:this.props.children},this.props.onShow)},n.componentDidUpdate=function(e){var t=this.props.children;if(t)t!==e.children&&(this._node&&(this._removeListeners(this._node),this._node=null),this.setState({content:t},this.state.content?void 0:this.props.onShow));else{var n=this._getNode();n&&(this._addListeners(n),this._node=n,n.classList.add("_animation-hide")),this.props.onHideStart&&this.props.onHideStart()}},n.componentWillUnmount=function(){this._node&&this._removeListeners(this._node)},n.render=function(){return this.state.content},t}(i.Component);t.a=c},53:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,A:65,D:68,P:80,S:83,W:87}},54:function(e,t,n){"use strict";var r=n(454),o=n(6),i=(n(1412),n(4)),a=n(5),s=n(7),c=n(60),u=n(87),l=n(184),d=300,f=Object(s.a)("map-placemark"),p=function(){},v=function(e){function t(t){var n;return(n=e.call(this,t)||this)._container=document.createElement("div"),n._isDragged=!1,n._initCursor=function(){n._updateCursor(),n._marker.group().on("dragStart",function(){n._isDragged=!0,n._container.style.cursor="grabbing",n.props.map.container.style.cursor="grabbing"}).on("dragEnd",function(){n._isDragged=!1,n._updateCursor(),n.props.map.container.style.cursor="default"})},n._updateCursor=function(){n._container.style.cursor=n.props.onClick||n.props.draggable?"pointer":"default"},n._addMapEventHandlers=function(e){var t={dragStart:e.onDragStart,dragMove:e.onDragMove,dragEnd:e.onDragEnd};Object.keys(t).forEach(function(e){t[e]&&n._mapEventHandlers.on(e,function(){t[e]({coordinates:n._marker.coordinates})})})},n._onClick=function(){var e=n.props,t=e.onClick||p,r=e.onFastClick||p,o=e.onDoubleClick||p;n._clickTimer?(o(),window.clearTimeout(n._clickTimer),n._clickTimer=void 0):(r(),n._clickTimer=window.setTimeout(function(){t(),n._clickTimer=void 0},d))},n._container.className=f(),n._marker=t.map.createMarker({coordinates:t.coordinates,element:n._container,options:{draggable:t.draggable,zIndex:t.zIndex||u.a.default,disableRoundCoordinates:t.disableRoundCoordinates,blockEvents:t.blockEvents}}),n._initCursor(),n._mapEventHandlers=n._marker.group(),n._addMapEventHandlers(t),t.map.addMarker(n._dataSourceId,n._marker),n}Object(o.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.map.destroyed||(this._mapEventHandlers.offAll(),this.props.map.removeMarker(this._dataSourceId,this._marker),this._marker.destroy(),this._isDragged&&(this.props.map.container.style.cursor="default")),window.clearTimeout(this._clickTimer)},n.componentDidUpdate=function(e){var t=e.dataSourceId?e.dataSourceId:l.d.DEFAULT_MARKERS;t!==this._dataSourceId&&(this.props.map.removeMarker(t,this._marker),this.props.map.addMarker(this._dataSourceId,this._marker));var n=this.props;n.coordinates!==e.coordinates&&this._marker.setCoordinates(n.coordinates),e.draggable!==n.draggable&&this._marker.toggleDrag(n.draggable||!1),e.zIndex!==n.zIndex&&this._marker.setZIndex(n.zIndex||u.a.default),e.disableRoundCoordinates!==n.disableRoundCoordinates&&this._marker.toggleRoundCoordinates(n.disableRoundCoordinates||!1),n.onDragStart===e.onDragStart&&n.onDragMove===e.onDragMove&&n.onDragEnd===e.onDragEnd||(this._mapEventHandlers.offAll(),this._addMapEventHandlers(n)),e.draggable===n.draggable&&e.onClick===n.onClick||this._updateCursor()},n.render=function(){var e=this.props,t=i.createElement("div",{className:f("wrapper",{"non-interactive":e.nonInteractive}),onClick:this._onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseMove:e.onMouseMove},e.children);return a.createPortal(t,this._container)},Object(r.a)(t,[{key:"_dataSourceId",get:function(){return this.props.dataSourceId||l.d.DEFAULT_MARKERS}}]),t}(i.PureComponent);t.a=Object(c.b)({shouldWait:!0})(v)},55:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(6),o=n(4),i=n(60),a={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onFastClick:"fastclick",onTouchCancel:"touchcancel",onPointerDown:"pointerdown",onPointerMove:"pointermove",onPointerUp:"pointerup",onPointerCancel:"pointercancel",onClick:"click",onDoubleClick:"dblclick",onMouseUp:"mouseup",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove"},s={onUpdate:"update",onCopyrightsChange:"copyrightsChange",onResize:"resize",onZoomRangeChange:"zoomRangeChange",onReady:"ready",onIndoorPlansChanged:"indoorPlansChanged",onVectorError:"vectorError",onVectorStart:"vectorStart",onZoomRoundingChanged:"zoomRoundingChanged",onMainEngineChanged:"mainEngineChanged"},c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._applyMapHandlers=function(e,t,n){Object.keys(s).forEach(function(r){n&&t&&n[r]===t[r]||(n&&n[r]&&e.offSingle(s[r],n[r]),t&&t[r]&&e.on(s[r],t[r]))})},t._applyDomHandlers=function(e,t,n){Object.keys(a).forEach(function(r){n&&t&&n[r]===t[r]&&n.layer===t.layer||(n&&n[r]&&e.events.off(a[r],n.layer||"none",n[r]),t&&t[r]&&e.events.on(a[r],t.layer||"none",t[r]))})},t._onInertiaStart=function(e){t.props.onInertiaStart&&t.props.onInertiaStart(t.props.map.calculateCenter(e.targetPositionWcs))},t._onDragStart=function(){t.props.onDragStart&&t.props.onDragStart()},t._onDragEnd=function(){t.props.onDragEnd&&t.props.onDragEnd()},t._onContainerTouchMove=function(e){t.props.onContainerTouchMove&&t.props.onContainerTouchMove(u(e))},t._onContainerPointerMove=function(e){t.props.onContainerPointerMove&&t.props.onContainerPointerMove(u(e))},t._onActionStart=function(){t.props.onActionStart&&t.props.onActionStart()},t._onActionEnd=function(){t.props.onActionEnd&&t.props.onActionEnd()},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.map;this._applyMapHandlers(e,this.props),this._applyDomHandlers(e,this.props),e.behaviors.on("actionStart",this._onActionStart),e.behaviors.on("actionEnd",this._onActionEnd),e.behaviors.drag&&(e.behaviors.drag.on("inertiaStart",this._onInertiaStart),e.behaviors.drag.on("dragStart",this._onDragStart),e.behaviors.drag.on("dragEnd",this._onDragEnd)),e.container.addEventListener("touchmove",this._onContainerTouchMove),e.container.addEventListener("pointermove",this._onContainerPointerMove)},n.componentDidUpdate=function(e){this._applyMapHandlers(this.props.map,this.props,e),this._applyDomHandlers(this.props.map,this.props,e)},n.componentWillUnmount=function(){var e=this.props.map;this._applyMapHandlers(e,void 0,this.props),this._applyDomHandlers(e,void 0,this.props),e.behaviors.offSingle("actionStart",this._onActionStart),e.behaviors.offSingle("actionEnd",this._onActionEnd),e.behaviors.drag&&(e.behaviors.drag.offSingle("inertiaStart",this._onInertiaStart),e.behaviors.drag.offSingle("dragStart",this._onDragStart),e.behaviors.drag.offSingle("dragEnd",this._onDragEnd)),e.container.removeEventListener("touchmove",this._onContainerTouchMove),e.container.removeEventListener("pointermove",this._onContainerPointerMove)},n.render=function(){return null},t}(o.PureComponent);function u(e){if("touches"in e){var t=e.touches[0]||e.changedTouches[0];return[t.clientX,t.clientY]}return[e.clientX,e.clientY]}t.b=Object(i.b)({shouldWait:!0})(c)},58:function(e,t,n){"use strict";n.d(t,"v",function(){return U}),n.d(t,"q",function(){return M}),n.d(t,"l",function(){return I}),n.d(t,"x",function(){return w}),n.d(t,"p",function(){return E}),n.d(t,"o",function(){return O}),n.d(t,"j",function(){return k}),n.d(t,"m",function(){return C}),n.d(t,"u",function(){return T}),n.d(t,"n",function(){return x}),n.d(t,"r",function(){return _}),n.d(t,"z",function(){return S}),n.d(t,"B",function(){return j}),n.d(t,"A",function(){return D}),n.d(t,"D",function(){return z}),n.d(t,"C",function(){return q}),n.d(t,"s",function(){return P}),n.d(t,"y",function(){return N}),n.d(t,"k",function(){return R}),n.d(t,"t",function(){return F}),n.d(t,"c",function(){return m}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return b}),n.d(t,"w",function(){return B}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"i",function(){return g});var r=n(10),o=n(2811),i=n(32),a=["aero","bus","cable","funicular","minibus","tramway","trolleybus","underground","railway","water"],s=["aeroexpress","suburban"],c={bus:"buses",trolleybus:"trolleybuses",minibus:"minibuses",tramway:"trams"},u=10,l=.7,d=.25,f={STOP:"stop",LINE:"line",LIST:"list"},p=["bus","trolleybus","minibus","tramway"],v={aero:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Самолёт" :"Самолёты");})(e)},bus:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Автобус" :"Автобусы");})(e)},cable:function(e){return (function(params){return " "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "Канатная дорога" :"Канатная дороги");})(e)},funicular:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Фуникулер" :"Фуникулеры");})(e)},minibus:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Маршрутка" :"Маршрутки");})(e)},railway:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Поезд" :"Поезда");})(e)},rapid_tram:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Трамвай" :"Трамваи");})(e)},train:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Поезд" :"Поезда");})(e)},tramway:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Трамвай" :"Трамваи");})(e)},trolleybus:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Троллейбус" :"Троллейбусы");})(e)},underground:function(e){return (function(){return "Метро";})(e)},water:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Паром" :"Паромы");})(e)},suburban:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Электричка" :"Электрички");})(e)},aeroexpress:function(e){return (function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Аэроэкспресс" :"Аэроэкспрессы");})(e)}},m={bus:"Автобус",cable:"Канатная дорога",funicular:"Фуникулёр",minibus:"Маршрутка",railway:"Ж/д станция",rapid_tram:"Скоростной трамвай",tramway:"Трамвай",trolleybus:"Троллейбус\n",urban:"Остановка",water:"Паром",suburban:(function(params){return (params.count % 10 === 1 && params.count % 100 !== 11 ? "Электричка" :"Электрички");})({count:1}),underground:"Станция метро"},h="#666",g="#7373E6",y={bus:"#3cb300",minibus:"#b43dcc",tramway:"#f43",trolleybus:"#198cff",suburban:"#666",aeroexpress:"#f43",cable:"#666",funicular:"#666",water:"#666",underground:"#c00",railway:"#666",train:"#f43",aero:"#666"},b=(Object(r.a)(Object(r.a)({},y),{},{bus:"#2F8C00",minibus:"#9031A3",tramway:"#CC3629",trolleybus:"#1470CC",aeroexpress:"#CC3629"}),{bus:"bus-stop",minibus:"bus-stop",tramway:"bus-stop",trolleybus:"bus-stop",suburban:"railway-station",funicular:"funicular",cable:"cableway",underground:"subway-fallback",water:"pier",aeroexpress:"aeroexpress"});function _(e){var t=[],n=[];e.forEach(function(e){var r=Number(e.name[0]);isNaN(r)?n=n.concat([e]):t[r]=t[r]?t[r].concat([e]):[e]});for(var r=[{key:"other",value:n}],o=0;o<=9;o++)r.push({key:String(o),value:t[o]||[]});return r}function w(e){return[].concat(s,a).find(function(t){return e.Types.includes(t)})||e.type}function E(e,t){void 0===t&&(t={});var n=v[e];return n?n({count:t.isPlural?2:1}):"Общественный транспорт"}function O(e){return m[e]}function S(e){return e>=u}function j(e,t){return Boolean(t&&t.some(function(t){return t.showOnMap&&Object(o.a)(e,t.bounds)}))}function k(e){return e&&y[e]||h}function C(e){return e.features.filter(function(e){return"id"in e&&e.id})}function T(e){return e.color||e.type&&y[e.type]||h}function I(e,t){return t?e.filter(function(e){return e.type===t}):e}function R(e,t){return i.a(new Date(1e3*Number(e.value)),t)}function x(e,t,n){if(0===e.length)return[];var r=[];return e.forEach(function(e){var o=e.Estimated||e.Scheduled;if(o){var i=R(o,n);i.getTime()-t.getTime()<0||r.push({date:i,isLive:Boolean(e.Estimated&&e.Estimated.value),vehicleId:e.vehicleId})}}),r.sort(function(e,t){return e.date.getTime()-t.date.getTime()})}function M(e){return[].concat(e).sort(function(e,t){var n=parseInt(e.name,10),r=parseInt(t.name,10);return n&&!r?-1:!n&&r?1:n&&r?n-r||e.name.length-t.name.length:e.name>t.name?1:-1})}function P(e){var t=e.features.reduce(function(e,t){return"coordinates"in t&&e.push(t),e},[]);return t[Math.floor(t.length/2)]}function N(e){return e.map(w).some(D)}var A={bus:!0,minibus:!0,tramway:!0,trolleybus:!0},L=Object(r.a)(Object(r.a)({},A),{},{aero:!0,cable:!0,funicular:!0,underground:!0,railway:!0,suburban:!0,aeroexpress:!0,water:!0,train:!0});function D(e){return"string"==typeof e&&e in A}function z(e){return"string"==typeof e&&e in L}function q(e){return["underground","suburban","railway","aeroexpress"].includes(e)}function B(e,t){var n=(e.transports||[]).filter(function(e){return!q(e.type)}),r=0!==n.length&&n.every(function(e){return e.threads.every(function(e){return e.noBoarding})});return e.name+(r?" ("+"Нет посадки".toLowerCase()+")":"")}function F(e){return e.features.filter(function(e){return"coordinates"in e})}function U(e){var t=e.reduce(function(e,t){var n=w(t);return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(function(e){return{type:e,transports:M(t[e]||[])}}).sort(function(e,t){return e.type<t.type?-1:1})}},581:function(e,t,n){"use strict";var r=n(6),o=(n(1335),n(4)),i=n(7),a=n(9),s=n(8),c=(n(1337),n(1339),n(2765)),u=n(21),l=n(111),d=n(86),f=n(22),p=n(117),v=Object(i.a)("services-view"),m=20,h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._iframe=null,n._content=null,n._onLogoTouch=function(e){n.state.isOpen||(e.preventDefault(),n.setState({isOpen:!0}),window.addEventListener("touchend",n._onTouchEnd))},n._onTouchEnd=function(e){n.props.getTarget()!==e.target&&(n.setState({isOpen:!1}),window.removeEventListener("touchend",n._onTouchEnd))},n._onLogoMouseOver=function(){var e=n.props.getTarget();e&&(e.addEventListener("mousemove",n._openServicePanelDebounced),e.addEventListener("mouseout",n._onLogoMouseOut))},n._onLogoMouseOut=function(){n._openServicePanelDebounced.cancel();var e=n.props.getTarget();e&&(e.removeEventListener("mouseout",n._onLogoMouseOut),e.removeEventListener("mousemove",n._openServicePanelDebounced))},n._openServicePanelOnDesktop=function(){n.setState({isOpen:!0}),window.addEventListener("mousemove",n._onMouseMove)},n._onMouseMove=function(e){var t=n.props.getTarget();if(t&&n._content){var r=e.clientX,o=e.clientY,i=t.getBoundingClientRect(),a=i.left,s=i.width,c=i.top,u=i.height,l=n._content.getBoundingClientRect(),d=l.left,f=l.width,p=l.top,v=l.height,h=a<d?0:d-m,g=a+s>d+f?1/0:d+f+m,y=Math.min(c,p)-m,b=Math.max(c+u,p+v)+m;(r<h||r>g||o<y||o>b)&&(n.setState({isOpen:!1}),window.removeEventListener("mousemove",n._onMouseMove))}},n._onMessageReceived=function(e){if(n._iframe&&e.source===n._iframe.contentWindow){var t=e.data.split(":"),r=t.shift(),o=t.shift();switch(r){case"tableau._close":n.setState({isOpen:!1});break;case"tableau.height":n.setState({height:parseInt(o,10)})}}},n._postMessage=function(e){n._iframe&&n._iframe.contentWindow&&n._iframe.contentWindow.postMessage(e,"*")},n._onIframeLoad=function(){n.setState({isLoaded:!0}),n._beforeLoadMessages&&n._beforeLoadMessages.forEach(n._postMessage)},n._renderPseudoAnalytics=function(){return n.state.isOpen?o.createElement(s.a,{name:"service_panel"}):null},n._renderPopup=function(e){var t=n.props,r=n.state,i=t.config,a=u.x(i.servicePanel.url,{lang:i.lang,domain:i.tld,device:e.has.touch?"touch-pad":"desktop",preset:i.tld,target:"blank","service-id":"maps"});return o.createElement(f.a,{className:v("logo"),isShown:r.isOpen,showArrow:!1,position:"top-left",type:"transparent",getTarget:t.getTarget,onClose:function(){n.setState({isOpen:!1})}},o.createElement("div",{className:v({tld:i.tld}),style:void 0!==r.height?{height:r.height}:{},ref:function(e){return n._content=e}},n._renderPseudoAnalytics(),o.createElement("iframe",{className:v("iframe"),frameBorder:0,scrolling:"no",src:a,ref:function(e){return n._iframe=e},onLoad:n._onIframeLoad})))},n.state={isOpen:!1,isLoaded:!1},n._openServicePanelDebounced=Object(c.a)(n._openServicePanelOnDesktop,130),n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.getTarget();e&&(Object(l.b)().has.touch?e.addEventListener("click",this._onLogoTouch):e.addEventListener("mouseover",this._onLogoMouseOver))},n.componentDidUpdate=function(){var e=JSON.stringify({fnName:"updateUrls",fnArgs:[{text:this.props.text,serviceId:"maps"}]});this._postMessage(e),this.state.isLoaded||(this._beforeLoadMessages=this._beforeLoadMessages||[],this._beforeLoadMessages.push(e))},n.componentWillUnmount=function(){this._openServicePanelDebounced.cancel();var e=this.props.getTarget();e&&(Object(l.b)().has.touch?e.removeEventListener("click",this._onLogoTouch):e.removeEventListener("mouseover",this._onLogoMouseOver))},n.render=function(){return o.createElement(o.Fragment,null,o.createElement(d.a,null,this._renderPopup),o.createElement(p.a,{type:"message",listener:this._onMessageReceived}))},t}(o.Component),g=Object(a.b)(h),y=n(92),b=n(36),_=Object(i.a)("logo-view"),w=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=o.createRef(),t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=Object(b.f)(t.config)?"logo-web-ru":"logo-web-en";return o.createElement(s.a,{name:"logo",logClick:!0},o.createElement("a",{className:_(),href:t.config.morda.url,target:"_parent",ref:this._ref},o.createElement(y.a,{name:n,size:{width:80,height:40},theme:t.isNegative?"dark":"light"})),t.isPopupDisabled||t.config.hideServicesView?null:o.createElement(g,{getTarget:function(){return e._ref.current},text:t.searchText}))},t}(o.Component);t.a=Object(a.b)(w)},582:function(e,t,n){"use strict";var r=n(337),o=n(128),i=n(0),a=n(1400),s=n.n(a),c=function(e,t){return function(n){return"@font-face {\n        font-family: '"+e+"';\n        font-weight: "+n.weight+";\n        src: url(data:font/"+t+";base64,"+n.base64+") format('"+t+"');\n    }"}};function u(e,t){return e.weight===t.weight&&e.url===t.url}var l=function(e){var t=c(e.family,e.format),n=Object.keys(e.urls).map(function(t){return{weight:t,url:e.urls[t],base64:""}}),r=i.a.get("fonts")||[],a=n.reduce(function(e,t){var n=r.find(function(e){return Boolean(u(e,t)&&e.base64)});return n&&e.push(n),e},[]);a.length!==n.length&&Promise.all(n.filter(function(e){return!a.some(function(t){return Boolean(u(t,e)&&t.base64)})}).map(function(e){return Promise.resolve(Object(o.a)({url:e.url,parser:"arrayBuffer"}).then(function(t){return{weight:e.weight,url:e.url,base64:s.a.encode(t)}}))})).then(function(n){n=n.concat(a),i.a.set("fonts",n);var r=window.document.querySelector("#font-faces");r&&r.parentNode&&r.parentNode.removeChild(r);var o=window.document.createElement("style");o.innerHTML=n.map(t).join(""),window.document.head.appendChild(o);var s=window.document.createElement("div");return n.forEach(function(t){var n=window.document.createElement("span");n.innerHTML="i",n.style.fontFamily=e.family,n.style.fontWeight=t.weight,s.appendChild(n)}),s.style.position="absolute",s.style.left="-10000px",window.document.body.appendChild(s),s}).then(function(e){return new Promise(function(t){setTimeout(function(){return t(e)},100)})}).then(function(e){window.document.body.classList.add("_font_loaded"),e.parentNode.removeChild(e)})},d=n(987);function f(){return JSON.parse(window.document.getElementsByClassName("config-view")[0].textContent)}function p(e){var t;(Object(r.a)(e),l(e.font),e.debugData&&(window.console.log("[CONFIG]",e),window.console.log("[DEBUG]",e.debugData),Object(d.a)(e.debugData)),e.bunker.console)&&(t=window.console).log.apply(t,e.bunker.console)}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p})},585:function(e,t,n){"use strict";e.exports=n(1205)},586:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return i});var r=n(970);function o(e){if("services"!==e)return e}function i(e){return Boolean(e&&"overview"!==e&&"related"!==e&&"inside"!==e)}function a(e){return function(e){return r.b.includes(e||"")}(e)?e:void 0}function s(e){if("overview"!==e)return e}function c(e){return e&&"panorama"!==e?e:"overview"}function u(e){if("overview"!==e)return e}function l(e){return e&&"panorama"!==e&&"gallery"!==e?e:"overview"}},587:function(e,t,n){"use strict";var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.a=function(e){return r.test(e)}},588:function(e,t,n){"use strict";t.a=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},589:function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},59:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return O});var r={max:2};function o(e){return function(t,n){return function(e,t,n){void 0===n&&(n=r),"number"==typeof n.max&&(e=Math.round(e*Math.pow(10,n.max))/Math.pow(10,n.max));var o=e.toString().split("."),i=o[0],a=o[1],s=void 0===a?"":a;return t.thousands&&(i=i.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t.thousands)),"number"==typeof n.max&&(s=s.slice(0,n.max)),"number"==typeof n.min&&s.length<n.min&&(s+="0".repeat(n.min-s.length)),[i,s].filter(Boolean).join(t.decimal)}(t,e,n)}}var i=o({decimal:",",thousands:" "}),a={ru:i,en:o({decimal:".",thousands:","}),uk:i,tr:o({decimal:",",thousands:"."}),uz:i,kk:i};function s(e,t,n){return a[t](e,n)}var c={RUB:!0,EUR:!0,USD:!0,GBP:!0,BYN:!0,UAH:!0,KZT:!0,AMD:!0,AZN:!0,GEL:!0,GHC:!0,GHS:!0,ILS:!0,XOF:!0,KGS:!0,LVL:!0,LTL:!0,MDL:!0,RON:!0,RSD:!0,UZS:!0},u={RUB:"₽",EUR:"€",USD:"$",GBP:"£",UAH:"грн.",ILS:"₪"},l={XOF:"CFA"},d={XOF:!0,RSD:!0};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.keys(c).reduce(function(e,n){var r=t.includes(n)&&u[n];return e[n]={isSymbol:Boolean(r),value:r||l[n]||n},e},{})}var p=f("RUB","EUR","USD","GBP","UAH","ILS"),v=f("UAH"),m=f("EUR","USD","GBP","ILS"),h=f("EUR","USD","GBP","ILS"),g=function(e,t){return e+" "+t.value},y=function(e,t){return t.value+(t.isSymbol?"":" ")+e};function b(e,t){return function(n,r){return e(n,t[r])}}var _=b(g,p),w=b(g,v),E={ru:_,en:b(y,h),uk:w,tr:b(y,m),uz:_,kk:_};function O(e,t){var n=d[e.currency]||!e.fractionDigits?0:e.fractionDigits,r={min:n,max:n},o=s(e.value,t,r);return E[t](o,e.currency)}},590:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return l});n(442);var r=n(10),o=n(0),i=n(159),a=n(440);function s(){return"undefined"!=typeof window?((e=o.a.get("cart","pharmacy"))?{sets:e.sets.map(function(e){var t=e.ids,n=e.count;return{ids:t.map(a.d),count:n}})}:null)||{sets:[]}:{sets:[]};var e}function c(e,t){void 0===t&&(t={});var n=t.cart||function(e,t){void 0===t&&(t={});return p(e,t).cart}(e,t);if(t.convertTo)return l(n,t.convertTo);var o=e[i.x];return{sets:n.sets.map(function(e){var t=e.ids.map(a.c),n=o?t:t.concat(e.ids.map(a.b));return Object(r.a)(Object(r.a)({},e),{},{ids:n})})}}function u(e,t){return void 0===t&&(t={}),d(c(e,t))}function l(e,t){return{sets:e.sets.map(function(e){return Object(r.a)(Object(r.a)({},e),{},{ids:e.ids.map(t)})})}}function d(e,t){var n=e.sets.map(function(e){return e.count+":"+e.ids.sort().join(",")});return(null==t?void 0:t.noSort)||n.sort(),n.join("~")}function f(e,t,n){var r;return t&&(r=Array.isArray(t)?t:a.g(t)),e.sets.map(function(e){var o,i=e.ids,s=e.count,c=null===(o=r)||void 0===o?void 0:o.find(function(e){return i.includes(a.d(e.id))}),u=null==n?void 0:n.find(function(e){var t=e.product.variants[e.selectedVariantId];return a.i(i,t.drugIds)});return{ids:i,quantity:s,item:u,searchInfo:t?(null==c?void 0:c.price)?{available:!0,id:c.id,price:a.l(c.price),quantity:c.count,isRunningOut:c.isRunningOut}:{available:!1}:{available:!0}}})}function p(e,t){var n;void 0===t&&(t={});var r,o="localstorage",c=function(e,t){if(void 0===t&&(t={}),"string"!=typeof e)return{sets:[]};var n=t.convertId||a.d;return{sets:e.split("~").map(function(e){var r=e.split(":"),o=r[0],i=r[1];return t.restrictBy&&(o=String(Math.min(Number(o),t.restrictBy))),i||(i=o,o="1"),o&&i?{count:Number(o),ids:i.split(",").filter(function(e,t,n){return n.indexOf(e)===t}).map(n)}:null}).filter(function(e){return Boolean(e)})}}(e[i.q]||e[i.g],t),u=s();return c.sets.length>0&&(r=u,d(c)!==d(r))?(n=c,o="cart_param"):n=u,{cart:n,source:o}}},591:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(9),a=n(337),s=n(8),c=n(347),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getComponentName=function(e){var t=e.componentStack.match(/in (\w+?Component)/);return t?t[1]:"Unidentified"},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidCatch=function(e,t){this.setState({error:e,info:t},this._logError)},n._logError=function(){var e=this.state,t=e.error,n=e.info;t&&n&&!t.message.includes("Loading chunk")&&!t.message.includes("Loading CSS chunk")&&Object(a.b)(t,{config:this.props.config,prefix:"[Error Boundary] "+this._getComponentName(n)+": "})},n.render=function(){var e=this.state,t=e.error,n=e.info;return t&&n?o.createElement(c.a,{type:"rootNode"},o.createElement(s.a,{name:t.message.includes("Loading")?"loading_error":"error",nodeState:{message:t.message,component:this._getComponentName(n)}})):this.props.children},t}(o.Component);t.a=Object(i.b)(u)},592:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(10),o=n(128);function i(e){var t=function(t,n,r,i){var u=e.replace("{{x}}",String(t)).replace("{{y}}",String(n)).replace("{{z}}",String(r)).replace("{{scale}}","1").replace(/\{\{d\|(\d+)\}\}/,function(e,o){return String((t+n+r)%Number(o)+1)});return Object(o.a)({url:u,signal:i}).then(function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){return[]}return!e||e.error&&404===e.error.code?[]:e.data.features.map(function(e){var t=e.properties.HotspotMetaData.RenderedGeometry;return{type:"rendered",feature:c(e),geometry:"Polygon"===t.type?a(t):s(t)}})})};return t.template=e,t}function a(e){return{type:"Polygon",coordinates:e.coordinates.map(function(e){return e.map(function(e){return{x:e[0],y:e[1]}})})}}function s(e){return{type:"MultiPolygon",coordinates:e.coordinates.map(function(e){return e.map(function(e){return e.map(function(e){return{x:e[0],y:e[1]}})})})}}function c(e){var t,n=e.properties.URIMetaData,o=null===(t=e.properties.HotspotMetaData)||void 0===t?void 0:t.id;return{type:"Feature",id:o?String(o):"",geometry:e.geometry,properties:Object(r.a)(Object(r.a)({},e.properties),{},{uri:(n&&n.URIs[0]||{}).uri})}}},593:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(10),o=n(672),i=600,a=Object(o.a)("ease-in-out"),s=40*Math.PI/180,c=7,u=13;function l(e,t,n,o){var s=e[n];if(s!==t){var c=t-s;e.animateForDuration(i,function(e,t){var o;return Object(r.a)(Object(r.a)({},e),{},((o={})[n]=s+c*a(t),o))}).complete.finally(o)}}function d(e,t){l(e,0===e.azimuth?-Math.PI/4:e.azimuth<Math.PI?0:2*Math.PI,"azimuth",t)}function f(e,t){l(e,0===e.tilt?s:0,"tilt",t)}function p(e,t){l(e,Math.max(0,Math.min(t,s)),"tilt")}},594:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(60),a=n(1174),s=n(55),c=Object(i.b)(),u=200,l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getState=function(){var e=n.props.map;if(!e)return{zoomOutIsEnabled:!1,zoomInIsEnabled:!1};var t=Math.round(100*e.zoom)/100;return{zoomOutIsEnabled:t>e.zoomRange.min,zoomInIsEnabled:t<e.zoomRange.max}},n._updateButtons=function(){n.setState(n._getState())},n._changeZoom=function(e){var t=n.props.map;if(t){var r,o=null!==(r=n._targetZoom)&&void 0!==r?r:t.zoom;n._targetZoom=o+e;var i=n._targetZoom;t.animateCenterAndZoom(t.center,n._targetZoom,u).then(function(){i===n._targetZoom&&(n._targetZoom=void 0)})}},n._onZoomIn=function(e){e.preventDefault(),n._changeZoom(1)},n._onZoomOut=function(e){e.preventDefault(),n._changeZoom(-1)},n.state=n._getState(),n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.map&&this.props.map&&this._updateButtons()},n.render=function(){return o.createElement(o.Fragment,null,o.createElement(s.b,{onUpdate:this._updateButtons,onZoomRangeChange:this._updateButtons}),o.createElement(a.a,{onZoomIn:this._onZoomIn,onZoomOut:this._onZoomOut,disabledZoomIn:!this.state.zoomInIsEnabled,disabledZoomOut:!this.state.zoomOutIsEnabled}))},t}(o.PureComponent);t.a=c(l)},595:function(e,t,n){"use strict";n(1349);var r=n(4),o=n(7),i=n(31),a=Object(o.a)("tooltip-content-view");t.a=function(e){return r.createElement("div",{className:a({view:e.text?void 0:"small"}),onClick:e.onClick},r.createElement("div",{className:a("title",{close:Boolean(e.onClose)})},e.title),e.text?r.createElement("div",{className:a("text")},e.text):null,e.controls?r.createElement("div",{className:a("controls")},e.controls):null,e.onClose?r.createElement(i.a,{color:"white",onClick:e.onClose}):null)}},596:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(10),o=(n(16),n(36)),i=n(21),a=["food","grocery-store","drugstore","beauty","gasoline","hotels","clinic","covid19","atm","auto-repair","cinemas","malls","fitness","construction-shop","government","post-office","pet-clinic","sport","bars","flower-shop","cafe","museum","entertainment","food","groceries-delivery","housewares","landmark","skating-rink"];function s(e){return{food:{color:"rgb(255, 161, 94)",icon:"restaurants",category:{name:"Где поесть"}},"grocery-store":{color:"rgb(96, 168, 240)",icon:"supermarket",category:{name:"Продукты",id:"184108031",seoname:"grocery_store"}},cinemas:{color:"rgb(211, 141, 224)",icon:"cinemas",category:{name:"Кино",id:"184105868",seoname:"cinema"}},hotels:{color:"rgb(156, 137, 250)",icon:"hotels",category:{name:"Гостиницы",id:"184106414",seoname:"hotel"}},gasoline:{color:"rgb(156, 137, 250)",icon:"gasstation",category:{name:"АЗС",id:"184105274",seoname:"gas_station"}},drugstore:{color:"rgb(141, 194, 87)",icon:"drugstores",category:{name:"Аптеки",id:"184105932",seoname:"pharmacy"}},beauty:{color:"rgb(245, 140, 182)",icon:"beauty",category:{name:"Красота",id:"184105814",seoname:"beauty_salon"}},"auto-repair":{color:"rgb(156, 137, 250)",icon:"auto-repair",category:{name:"Автосервис",id:"184105246",seoname:"auto_repair_shop"}},atm:{color:"rgb(156, 137, 250)",icon:"currency-exchange",category:{name:"Банкоматы",id:"184105402",seoname:"atm"}},fitness:{color:"rgb(156, 137, 250)",icon:"fitness",category:{name:"Фитнес",id:"184107363",seoname:"fitness_club"}},clinic:{color:"rgb(245,140,182)",icon:"medicine",category:{name:"Больницы",id:"184105956",seoname:"hospital"}},"construction-shop":{color:"rgb(96, 168, 240)",icon:"construction-tool",category:{name:"Строительные магазины",id:"184107753",seoname:"building_supplies_store"}},government:{color:"rgb(171,174,178)",icon:"government",category:{name:"Госуслуги",id:"18726253054",seoname:"centers_of_state_and_municipal_services"}},"post-office":{color:"rgb(171,174,178)",icon:"post-office",category:{name:"Почта",id:"184108341",seoname:"post_office"}},malls:{color:"rgb(96, 168, 240)",icon:"malls",category:{name:"Торговый центр",id:"184108083",seoname:"shopping_mall"}},"pet-clinic":{color:"rgb(156, 137, 250)",icon:"veterinary",category:{name:"Ветеринарные клиники",id:"184107216",seoname:"veterinary_clinic"}},bars:{color:"rgb(96, 168, 240)",icon:"bars",category:{name:"Бары",id:"184106384",seoname:"pub_bar"}},"flower-shop":{color:"rgb(96, 168, 240)",icon:"flower-shop",category:{name:"Магазин цветов",id:"184108325",seoname:"flower_shop"}},cafe:{color:"rgb(96, 168, 240)",icon:"cafe",category:{name:"Кафе",id:"184106390",seoname:"cafe"}},museum:{color:"rgb(105, 191, 170)",icon:"museum",category:{name:"Музеи",id:"184105894",seoname:"museum"}},entertainment:{color:"rgb(117, 165, 189)",icon:"entertainments",category:{name:"Развлечения",id:"184106372",seoname:"entertainment_center"}},sport:{color:"rgb(156, 137, 250)",icon:"fitness",category:{name:"Спорт"}},covid19:{color:"rgb(141, 194, 87)",icon:"drugstores",displayText:"Тест на COVID‑19",category:{name:"тест на коронавирус"}},"groceries-delivery":{color:"rgb(96, 168, 240)",icon:"malls",category:{name:"Доставка продуктов"}},housewares:{color:"rgb(96, 168, 240)",icon:"malls",category:{name:"Товары для дома",id:"184108097",seoname:"housewares"}},"skating-rink":{color:"rgb(96, 168, 240)",icon:"skating-rink",category:{name:"Катки",id:"184107311",seoname:"skating_rink"}},landmark:{color:"rgb(96, 168, 240)",icon:"landmark",displayText:"Что посетить",category:{name:"Достопримечательности"}}}}var c=[213,1];function u(e,t){void 0===e&&(e=a);var n=t.config,u=s();return[function(e){return function(e,t){var n=[].concat(e);if(!t||!t.hierarchy.some(function(e){return c.includes(e)})){var r=n.findIndex(function(e){return"covid19"===e.id});-1!==r&&n.splice(r,1)}return n}(e,t.region)},t.modifyItems].filter(function(e){return Boolean(e)}).reduce(function(e,t){return function(n){return e(t(n))}},function(e){return e})(e.reduce(function(e,t){return e.concat(Object(r.a)(Object(r.a)({},u[t]),{},{id:t}))},[])).slice(0,t.limit).map(function(e){var r=o.d({type:"rubrics",name:e.icon,size:"normal"},n),a=o.d({type:"rubrics",name:"fallback",size:"normal"},n),s=r||a,c=t.region?i.e(e.category,t.region,n):void 0;return{id:e.id,data:e,icon:{baseColor:e.color,glyphUrl:s},text:e.displayText||e.category.name,url:c,nodeState:e.nodeState}})}},597:function(e,t,n){"use strict";var r=n(10),o=n(6),i=(n(1371),n(4)),a=n(7),s=n(8),c=n(38),u=n(11),l=Object(a.a)("catalog-grid-view"),d={flexBasis:Math.floor(25)+"%"},f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderIcon=function(e,n){return i.createElement("div",{className:l("icon",{empty:n}),style:{backgroundColor:"color"===t.props.theme&&"baseColor"in e?e.baseColor:void 0,backgroundImage:"url"in e?'url("'+e.url+'")':void 0}},"glyphUrl"in e?i.createElement(u.a,{className:l("icon-inner"),url:e.glyphUrl}):"children"in e?e.children:null)},t._renderItem=function(e){var n=t.props,o=n.useH3?"h3":"div";return i.createElement(s.a,{key:e.id,name:"item",logClick:!0,nodeState:Object(r.a)({id:e.id},e.nodeState)},i.createElement(c.a,{className:l("item",{id:e.id}),href:e.url,title:e.text,onLeftClick:function(){return n.onClick(e.data)},style:d},t._renderIcon(e.icon,!e.text),i.createElement(o,{className:l("text")},e.text)))},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this,t=this.props;return i.createElement(s.a,{name:"catalog",nodeState:t.nodeState},i.createElement("div",{className:l({size:t.size,theme:t.theme})},t.items.map(function(n,r){var o=e._renderItem(n);return t.modifyItemRender?t.modifyItemRender(o,r):o})))},t}(i.PureComponent);t.a=f},598:function(e,t,n){"use strict";var r=n(6),o=(n(1373),n(4)),i=n(7),a=n(9),s=n(36),c=n(960),u=n(11),l=n(8),d=Object(i.a)("suggest-item-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getIcon=function(){var e,n=t.props,r=n.tags;if(r.includes("bookmark")&&(e=r.includes("home")?"home":r.includes("work")?"work":"bookmark"),(r.includes("ERT_ORGANIZATION_FAKE_CHAIN")||r.includes("query"))&&(e="search"),e)return p("service",e,n.config);if("personal"===n.type||"history"===n.type)return p("service","personal",n.config);var o=0!==r.length&&p("rubrics",r[0],n.config);return o&&o[0]?o:p("rubrics","fallback",n.config)},t._renderTitle=function(){var e=t.props.title;return o.createElement("div",{className:d("title")},"object"==typeof e&&e&&"text"in e?o.createElement(c.a,{text:e.text,ranges:e.hl||[]}):e)},t._renderSubtitle=function(){var e,n=t.props.subtitle;return"string"==typeof n?e=n:void 0!==n&&(e=o.createElement(c.a,{text:n.text,ranges:n.hl||[]})),e?o.createElement("div",{className:d("subtitle")},e):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this._getIcon(),n=t[0],r=t[1],i=o.createElement("li",{className:d({selected:e.selected,type:r}),onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown},n?o.createElement(u.a,{className:d("icon"),url:n}):null,o.createElement("div",{className:d("titles")},this._renderTitle(),this._renderSubtitle()));return"history"===e.type?o.createElement(l.a,{name:"history_item",logClick:!0},i):i},t}(o.Component);function p(e,t,n){return[s.d({type:e,name:t,size:"small"},n),s.a(t,n)]}t.a=Object(a.b)(f)},599:function(e,t){},6:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},60:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(13),o=n(4),i=o.createContext({});i.displayName="mapContext";var a=i.Provider;t.b=function(e){return void 0===e&&(e={}),function(t){var n=function(n){return o.createElement(i.Consumer,null,function(i){var a=i.map,s=i.ymaps3;return e.shouldWait&&!a?null:o.createElement(t,Object(r.a)({},n,{map:a,ymaps3:s}))})};return n.displayName="mapContext("+t.displayName+")",n}}},650:function(e,t,n){"use strict";var r=function(){this.__data__=[],this.size=0},o=n(195);var i=function(e,t){for(var n=e.length;n--;)if(Object(o.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;var s=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};var c=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]};var u=function(e){return i(this.__data__,e)>-1};var l=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=s,d.prototype.get=c,d.prototype.has=u,d.prototype.set=l;t.a=d},657:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(193);function o(e){return Math.min(Math.max(-90+r.m,e),90-r.m)}},658:function(e,t,n){"use strict";var r=n(100),o=n(94),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.a=function(e){if("number"==typeof e)return e;if(Object(o.a)(e))return i;if(Object(r.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(r.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?i:+e}},659:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},660:function(e,t,n){"use strict";function r(e){return!1}n.d(t,"a",function(){return r})},661:function(e,t,n){"use strict";function r(e){return"by"===e.tld&&!(e.authorization&&e.authorization.phone)}n.d(t,"a",function(){return r})},662:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return s});n(10);var r=n(140),o=(n(21),{interstitial:"maps_interstitial_hidden",mobileBanner:"maps_mobile_app_banner_hidden"}),i={iOS:{interstitial:"https://redirect.appmetrica.yandex.com/serve/528691328800788946?{params}",banner:"https://redirect.appmetrica.yandex.com/serve/240460950099021670?{params}"},Android:{interstitial:"https://redirect.appmetrica.yandex.com/serve/457043884879419538?{params}",banner:"https://redirect.appmetrica.yandex.com/serve/1033504639951065771?{params}"}};function a(e){var t,n=null===(t=e.uatraits.OSFamily)||void 0===t?void 0:t.toLowerCase();return"ios"===n||"android"===n}function s(e){return!r.a.get(o.mobileBanner,e)&&(!!e.enableMobileDistribution&&(!e.uatraits.isTurboApp&&(!(!e.uatraits.isMobile||"iOS"===e.uatraits.OSFamily||e.appSearchSession||e.userMap)&&(!!a(e)&&("1"!==e.query["no-distribution"]&&!e.query.covid)))))}function c(e){return!r.a.get(o.interstitial,e)&&(!!e.enableMobileDistribution&&(e.uatraits.isTurboApp,!1))}},663:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o});var r=n(16),o=(n(30),{common:56,portal:132,portalFocused:46,zero:0});function i(e){var t,n=r.h(e,"user-profile"),o=r.h(e,"bookmarks");return(null==n||!n.isMulti)&&"create_folder"!==(null==o?void 0:null===(t=o.view)||void 0===t?void 0:t.type)}function a(e,t){e.config;return 0}},664:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var r=["airport","district","entrance","house","hydro","route","metro_station","other","railway_station","station","street","vegetation"],o=["street","district","locality","area","province","country","route","vegetation","other"]},665:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(666);function o(e,t){return"mrc"===e?Boolean((null==t?void 0:t.mrc.data)||(null==t?void 0:t.mrc.selectedRide)):"photos"===e&&i({type:e,tab:(null==t?void 0:t.photos.data.tab)||r.a,data:null==t?void 0:t.photos.account.data})}function i(e){var t;return Boolean("mrc"===e.type&&Boolean(e.data)||"photos"===e.type&&(!e.data||"account"===e.tab)&&(null===(t=e.data)||void 0===t?void 0:t.selectedPhoto))}},666:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="account"},667:function(e,t,n){"use strict";var r=n(335),o=n(230),i=Object(r.a)(o.a,"Map");t.a=i},668:function(e,t,n){"use strict";n.d(t,"a",function(){return r});function r(e,t){return"light"}},669:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(60),a=n(9),s=n(1249),c=n.n(s),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._key="",t._applyCursor=function(){var e=t._getCursor();!t.props.src&&e&&e.startsWith("url(")||(t.props.map.container.style.cursor=function(e){if(e.src&&e.basePoint)return'url("'+e.src+'") '+e.basePoint.join(" ")+', url("'+e.src+'"), auto';if("MSIE"===e.config.uatraits.BrowserName&&"grabbing"===e.cursor)return'url("'+c.a+'"), url("'+c.a+'"), auto';return e.cursor||"default"}(t.props),t._key=t._getCursor())},t._getCursor=function(){return t.props.map.container.style.cursor||""},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._applyCursor()},n.componentDidUpdate=function(){this._applyCursor()},n.componentWillUnmount=function(){this._getCursor()===this._key&&(this.props.map.container.style.cursor="")},n.render=function(){return null},t}(o.Component);t.a=Object(i.b)({shouldWait:!0})(Object(a.b)(u))},670:function(e,t,n){"use strict";var r=n(10),o=n(6),i=n(4),a=n(9),s=n(60),c=n(55),u=n(17),l=n(456),d=n(18),f=n(2798),p=n(2765),v=n(184),m=Object(u.a)(a.b,Object(s.b)({shouldWait:!0})),h=function(e){function t(t){var n;return(n=e.call(this,t)||this)._update=function(){var e=n.props,t=e.map.getLayers(),r=t.topRasterLayers,o=t.mainLayers,i=[].concat(r,o).map(function(e){return e.split(":")[0]}),a=v.a.filter(function(e){return i.includes(e)});d.a.cancel(n._loadAction);var s=Object(f.a)(a,["map"])?Promise.resolve({map:{copyrights:["© "+"Яндекс"]}}):l.a.getLayers({layers:a,center:e.map.center,zoom:e.map.zoom},e.config);n._loadAction=d.a.create(s,{success:n._onDataLoad})},n._onDataLoad=function(e){var t=n.props.map;Object.entries(e).forEach(function(e){var n=e[0],o=e[1];if(o){var i=t.getDataSource(n),a=Object(r.a)({},i);if("zoomRange"in o&&o.zoomRange){var s=o.zoomRange,c=s[0],u=s[1];a.zoomRange={min:c,max:u}}a.copyrights="copyrights"in o?o.copyrights:void 0,Object(f.a)(i,a)||t.updateTileDataSource(n,a)}})},n._updateDebounced=Object(p.a)(n._update,500),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateDebounced()},n.componentWillUnmount=function(){this._updateDebounced.cancel(),d.a.cancel(this._loadAction)},n.render=function(){return i.createElement(c.b,{onUpdate:this._updateDebounced})},t}(i.Component);t.a=m(h)},671:function(e,t,n){"use strict";var r=n(6),o=(n(1250),n(4)),i=n(108),a=n.n(i),s=n(7),c=n(17),u=n(9),l=n(60),d=n(2796),f=n(8),p=n(55),v=Object(c.a)(u.b,Object(l.b)({shouldWait:!0})),m=12,h=Object(s.a)("map-copyrights"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this)._update=function(){n.setState({maxWidth:n.props.map.container.offsetWidth-n._rightOffset,copyrights:n._getCopyrights()})},n._getCopyrights=function(){var e=n.props.map,t=e.getLayers(),r=t.topRasterLayers,o=t.mainLayers;return[].concat(r,o).map(function(e){return e.split(":")[0]}).filter(function(e,t,n){return t===n.indexOf(e)}).map(function(t){var n,r=t?e.getDataSource(t):void 0;return"tile"===(null==r?void 0:r.type)&&(null==r?void 0:null===(n=r.copyrights)||void 0===n?void 0:n.join(" "))}).filter(Boolean).join(" ")},n._getAdvertItem=function(e){return!e.advertLandingUrl||e.query.embed?null:{type:"advert",text:"Разместить рекламу",href:e.advertLandingUrl+"?utm_source=webmaps&utm_medium=copyright&utm_campaign=webmaps_copyright",noprint:!0}},n._getNmapsItem=function(e){var t=n.props.location;return e.hosts.nmaps&&t&&!e.query.embed?{type:"nmap",text:"Редактировать карту",href:e.hosts.nmaps+"#!/?"+a.a.stringify({ll:Object(d.a)(t.center),z:t.zoom}),noprint:!0}:null},n._getTermsItem=function(e,t){return{type:t?"terms_short":"terms",text:t?"Условия":"Условия использования",href:e.agreementUrl+"?lang="+e.lang}},n._getCopyrightsItem=function(){return{type:"copyrights",text:n.state.copyrights,shrink:!0}},n._getRightHoldersItem=function(e){return{type:"right_holders",text:"Правообладатели",href:e.rightHoldersUrl+"?lang="+e.lang}},n._getSupportItem=function(e){return{type:"support",text:"Справка",href:e.feedback.helpUrl+"?lang="+e.lang}},n._getMapsApiItem=function(e){return e.apiManual.mapsApiUrl?{type:"maps_api",text:"API Карт",href:e.apiManual.mapsApiUrl+"/?utm_source=mapscopyrights&utm_medium=referral&utm_campaign=b2bpromo"}:null},n._renderBlock=function(e,t){return o.createElement("div",{className:h("block",{type:e})},t.map(function(e){var t=e.href?"a":"div";return o.createElement(f.a,{name:e.type,logClick:Boolean(e.href),key:e.type},o.createElement(t,{className:h("item",{shrink:e.shrink,noprint:e.noprint,type:e.type}),href:e.href,target:"_blank"},e.text))}))},n._renderBlocks=function(){var e=n.props,t=e.config;return e.copyrightOnly?n._renderBlock("copyrights-only",[n._getCopyrightsItem(),n._getTermsItem(t)]):o.createElement(o.Fragment,null,n._renderBlock("copyrights",[n._getCopyrightsItem(),n._getRightHoldersItem(t)]),n._renderBlock("links",[{type:"ya",text:"© "+"Яндекс"},n._getAdvertItem(t),n._getNmapsItem(t),n._getMapsApiItem(t),n._getSupportItem(t),n._getTermsItem(t),n._getTermsItem(t,!0)].filter(function(e){return Boolean(e)})))},n.state={maxWidth:0,copyrights:n._getCopyrights()},n._rightOffset=n.props.right-m,n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.copyrightOnly?"copyrights-only":"map"===e.layer?"scheme":"satellite";return o.createElement(f.a,{name:"map_copyrights"},o.createElement("div",{className:h({type:t,"show-all":"covid-map"===e.config.query.embed}),style:{maxWidth:this.state.maxWidth,right:this._rightOffset}},this._renderBlocks(),o.createElement(p.b,{onResize:this._update,onCopyrightsChange:this._update})))},t}(o.PureComponent);t.a=v(g)},672:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=5,o=.001,i={linear:{p1:{x:0,y:0},p2:{x:1,y:1}},ease:{p1:{x:.25,y:.1},p2:{x:.25,y:1}},"ease-in":{p1:{x:.42,y:0},p2:{x:1,y:1}},"ease-out":{p1:{x:0,y:0},p2:{x:.58,y:1}},"ease-in-out":{p1:{x:.42,y:0},p2:{x:.58,y:1}}};function a(e){if("string"==typeof e){if(!(e in i))throw new Error("Unexpected timing function used: "+e);return a(i[e])}var t=e,n=t.p1,s=t.p2,c={x:3*n.x,y:3*n.y},u={x:3*(s.x-2*n.x),y:3*(s.y-2*n.y)},l={x:3*(n.x-s.x)+1,y:3*(n.y-s.y)+1};function d(e){return l.x*Math.pow(e,3)+u.x*Math.pow(e,2)+c.x*e}function f(e){return c.x+e*(2*u.x+3*e*l.x)}return function(e){return function(e){return l.y*Math.pow(e,3)+u.y*Math.pow(e,2)+c.y*e}(function(e){var t,n=e,i=0;for(;i<r&&(t=d(n)-e,!(Math.abs(t)<o));)n-=t/f(n),i++;return n}(e))}}},673:function(e,t,n){"use strict";n.d(t,"a",function(){return F});var r=n(6),o=n(1259),i=n.n(o),a=n(4),s=n.n(a),c=n(12),u=n(7),l=n(20),d=n(591),f=n(28),p=n(16),v=n(30),m=n(991),h=n(1263),g=n(1285),y=n(1292),b=n(1300),_=n(1305),w=n(1311),E=n(1317),O=n(1321),S=n(1326),j=n(995),k=n(1330),C=n(2755),T=n(1356),I=n(52),R=n(22),x=n(1357),M=Object(l.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,1103))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1103}},{ssr:!1}),P=Object(u.a)("map-controls"),N=P("extension-slot"),A=600,L=690,D=620,z=299,q=c.b(function(e){var t=e.config.bunker,n=p.d(e),r=Boolean(v.r(e)),o=e.panoramas.isLayerEnabled||e.photos.isLayerEnabled,i=e.mrc.isLayerEnabled,a=e.masstransit.isLayerShown,s=x.a(e);return{showPrint:!e.config.uatraits.isTablet,promoButtons:t.promoButtons,showActualControl:!["covid","actual"].includes(n)&&"ru"===e.config.lang&&!t.disableCoronaControl&&s>=L,showPanoramaPhotoSwitcher:o,showMrcSwitcher:i,showMasstransitFilterLayerControl:a,hideAdditionalButton:r&&!(o||i||a)||!e.map.ready,additionalButtonInPopup:r||e.config.uatraits.isTouch||s<D,showPromoButton:!(!t.promoButtons||0===t.promoButtons.length||s<A),mapControlOnly:p.m(e.config),visibleControls:x.b(e)}}),B=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._additionalPopupTarget=a.createRef(),t._getAdditionalButton=function(){var e=t.props;return e.hideAdditionalButton?null:e.showPanoramaPhotoSwitcher?a.createElement(b.a,null):e.showMrcSwitcher?a.createElement(j.a,null):e.showMasstransitFilterLayerControl?a.createElement(O.a,null):e.showActualControl?a.createElement(T.a,null):t._renderPromoButton()},t._renderPromoButton=function(){var e=t.props;return t.props.showPromoButton?a.createElement(d.a,null,a.createElement(M,{data:e.promoButtons})):null},t._renderAdditionalButton=function(){var e=t._getAdditionalButton(),n=(t.props.showPanoramaPhotoSwitcher||t.props.showMrcSwitcher)&&!t.props.additionalButtonInPopup;return a.createElement("div",{className:P("group")},a.createElement(I.a,null,e?a.createElement("div",{className:P("additional-button",{"small-switcher":n})},e):null))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props;if(t.mapControlOnly)return a.createElement("div",{className:P()},a.createElement(k.a,null));var n=t.visibleControls;return a.createElement("div",{className:P()},a.createElement("div",{className:N}),t.additionalButtonInPopup&&(t.showPanoramaPhotoSwitcher||t.showMrcSwitcher||t.showMasstransitFilterLayerControl)?a.createElement(R.a,{isShown:!t.hideAdditionalButton,getTarget:function(){return e._additionalPopupTarget.current},onClose:function(){},position:["bottom-right","bottom","bottom-left"],restrictPosition:!0,zIndex:z,type:"transparent",showArrow:!1,offset:{main:8,side:0},repositionOnContentResize:!0},this._renderAdditionalButton()):this._renderAdditionalButton(),a.createElement("div",{className:P("group"),ref:this._additionalPopupTarget},a.createElement(m.a,null,a.createElement(C.a,null),n.includes("panoramas")?a.createElement(y.a,null):null,n.includes("mrc")?a.createElement(S.a,null):null,n.includes("masstransit")?a.createElement(E.a,null):null,a.createElement(g.a,null))),a.createElement("div",{className:P("group")},a.createElement(m.a,null,n.includes("ruler")?a.createElement(_.a,null):null,a.createElement(w.a,{showRuler:!n.includes("ruler")}))),a.createElement("div",{className:P("group")},a.createElement(h.a,null)),a.createElement(k.a,null))},t}(a.PureComponent),F=function(e){return a.createElement(f.a,{selector:"."+N},e.children)};t.b=q(B)},674:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("user-profile").then(n.bind(null,2499))},{open:!0,openMultiAccounts:!0})},69:function(e,t,n){"use strict";var r=n(10),o=n(2792),i=n(2796),a=(n(2793),n(2795)),s=n(16),c=n(49),u=n(0),l=1e6,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function f(e){for(var t=function(e){var t=[],n=(e=e.replace(/[^A-Za-z0-9\-\+_\=]/g,"")).length,r=0;for(;r<n;){var o=d.indexOf(e.charAt(r++)),i=d.indexOf(e.charAt(r++)),a=d.indexOf(e.charAt(r++)),s=d.indexOf(e.charAt(r++)),c=o<<2|i>>4,u=(15&i)<<4|a>>2,l=(3&a)<<6|s;t.push(String.fromCharCode(c)),64!==a&&t.push(String.fromCharCode(u)),64!==s&&t.push(String.fromCharCode(l))}return t.join("")}(e),n=t.length,r=0,o=[0,0],i=[];r<n;){for(var a=0,s=0,c=0,u=t.substr(r,8);c<4;)a|=u.charCodeAt(c)<<8*c,s|=u.charCodeAt(c+4)<<8*c,c++;var f=[a/l,s/l],p=[f[0]+o[0],f[1]+o[1]];o=p,i.push(p),r+=8}return i}var p=n(32),v=(n(47),n(182));n.d(t,"d",function(){return g}),n.d(t,"a",function(){return y}),n.d(t,"L",function(){return $}),n.d(t,"T",function(){return ue}),n.d(t,"I",function(){return k}),n.d(t,"J",function(){return I}),n.d(t,"u",function(){return x}),n.d(t,"s",function(){return M}),n.d(t,"l",function(){return P}),n.d(t,"K",function(){return N}),n.d(t,"R",function(){return A}),n.d(t,"U",function(){return L}),n.d(t,"g",function(){return z}),n.d(t,"r",function(){return q}),n.d(t,"o",function(){return B}),n.d(t,"p",function(){return F}),n.d(t,"H",function(){return U}),n.d(t,"w",function(){return H}),n.d(t,"x",function(){return W}),n.d(t,"G",function(){return V}),n.d(t,"z",function(){return G}),n.d(t,"F",function(){return Y}),n.d(t,"f",function(){return Z}),n.d(t,"e",function(){return X}),n.d(t,"y",function(){return C}),n.d(t,"t",function(){return T}),n.d(t,"v",function(){return ee}),n.d(t,"q",function(){return R}),n.d(t,"E",function(){return re}),n.d(t,"C",function(){return oe}),n.d(t,"A",function(){return Q}),n.d(t,"D",function(){return ae}),n.d(t,"N",function(){return K}),n.d(t,"k",function(){return te}),n.d(t,"j",function(){return ne}),n.d(t,"m",function(){return ce}),n.d(t,"n",function(){return se}),n.d(t,"M",function(){return J}),n.d(t,"V",function(){return he}),n.d(t,"W",function(){return we}),n.d(t,"S",function(){return ye}),n.d(t,"B",function(){return ie}),n.d(t,"Q",function(){return be}),n.d(t,"b",function(){return h}),n.d(t,"i",function(){return de}),n.d(t,"P",function(){return pe}),n.d(t,"c",function(){return j}),n.d(t,"h",function(){return le}),n.d(t,"O",function(){return D});var m,h=["bus","tramway","trolleybus","underground","minibus","railway"],g={auto:"auto",masstransit:"mt",pedestrian:"pd",bicycle:"bc",taxi:"taxi",comparison:"comparison"},y=["bus","cable","funicular","minibus","tramway","trolleybus","suburban","aeroexpress","water","aero","train"],b=5e4,_=-180,w={19:{main:8,underlay:12},18:{main:6,underlay:10},12:{main:4,underlay:8}},E={default:{underlay:8,main:4,border:void 0},colorize:{underlay:10,main:4,border:6}},O={underlay:"#fff",inactive:"#6d6d6d",main:"#6000ff"},S={CLOSED:{color:"#333",border:"#000"},UNKNOWN:{color:"#b3b3b3",border:"#8e8e8e"},FREE:{color:"#47ca0b",border:"#2f8109"},LIGHT:{color:"#faff00",border:"#999c03"},HARD:{color:"#ff0003",border:"#9c0304"},VERY_HARD:{color:"#98201f",border:"#791918"}},j=1e5;function k(e){return e.reduce(function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e},{})}function C(e){return e.find(function(e){return Boolean(e.isRecommended)})||e[0]}function T(e){var t=e.paths[0].segments.find(function(e){return"transport"===e.type});return t&&t.transports&&C(t.transports)}function I(e,t){var n=e.routePoints,a=e.viaIndexes,s=e.travelMode,u=e.activeRouteIndex,l=e.detailedIndex,d=e.settings,f=e.routerResponse,p=e.ignoreTravelModes,v=n[0],m=n.reduce(function(e,r,a){var s=r.coords,u=r.searchResult,l=u&&u.uri&&s&&("toponym"!==u.type||Object(o.a)(u.coordinates,u.displayCoordinates)||u.uri&&c.l(u.uri))&&(a<t.routes.maxCount-1||a===n.length-1)?u.uri:"";l=c.n(l)&&a>0&&a<n.length-1?"":l;var d=s&&Object(i.a)(s,{reverse:!0});return d?{pointCoords:e.pointCoords.concat([d]),pointUris:e.pointUris.concat([c.h(l)?l:""])}:e},{pointCoords:[],pointUris:[]}),y=m.pointCoords,b=m.pointUris;1!==y.length||!v||v.coords||v.value||(y.unshift(""),b.unshift(""));var _=V(s,d),w=f&&f.routes[u],E="masstransit"===s&&d.masstransit.avoidTypes.length!==h.length?d.masstransit.avoidTypes.join():void 0;return{rtext:y.join("~"),ruri:b.length>0?b.join("~"):void 0,via:a.length>0?a.join("~"):void 0,rtt:g[s],rtn:u>0?u:void 0,rtm:["auto","taxi"].includes(s)&&d.auto.ignoreTrafficJams?"atm":void 0,rtd:l>-1?l:void 0,routes:Object(r.a)(Object(r.a)({},_),{},{avoidTypes:E,cargo:void 0,activeComparisonMode:"comparison"===s&&w&&"taxi"!==w.type?w.type:void 0,timeDependent:_&&_.timeDependent&&("departure"!==_.timeDependent.type||_.timeDependent.time)?_.timeDependent:void 0,ignoreTravelModes:"comparison"===s?p:void 0})}}function R(e,t,n){var r=Math.floor(e/86400),o=Math.floor(e/3600%24),i=Math.round(e/60%60);return 60===i&&(i=0,o++),24===o&&(o=0,r++),[r>0?(function(params){return params.day+" дн.";})({day:Math.abs(r)}):"",o>0?(function(params){return params.hour+" ч";})({hour:Math.abs(o)}):"",i>0&&(!n||0===r)?(function(params){return params.minutes+" мин";})({minutes:Math.abs(i)}):""].filter(Boolean).join(" ")||(function(params){return params.minutes+" мин";})({minutes:1})}function x(e){var t=s.h(e,"routes");if(!t||!t.showMapForm&&(e.map.isEditing||e.ruler.isEnabled))return-1;var n=t||F(e),r=n.activeField,o=n.routePoints[r],i=n.viaIndexes;return!o||o.coords||i.includes(r)?n.routePoints.findIndex(function(e,t){return!e.value&&!e.input&&!i.includes(t)}):r}function M(e,t){return 0===e?"start":t&&e!==t.length-1?"middle":"finish"}function P(e){var t=x(e);if(-1!==t){var n=s.h(e,"routes")||F(e),r=n.routePoints,o=n.viaIndexes,i=M(t,r),a=o.filter(function(e){return e<t});return i+"_"+(t-=a.length)}}function N(e){return Boolean("isAuto"in e&&e.isAuto)}function A(e){return Boolean("isMasstransit"in e&&e.isMasstransit)}function L(e){return Boolean("coordinates"in e&&e.coordinates)}function D(e){return!!e&&["home","work"].includes(e)}function z(e,t){var n=e.filter(function(e,n){return!t.includes(n)}),r=n.findIndex(function(e){return!e.input});return-1!==r?r:n.findIndex(function(e){return!e.value})}function q(){return{input:"",value:"",coords:null}}function B(){return[{input:"",value:"",coords:null},{input:"",value:"",coords:null}]}function F(e){return{travelMode:(null==e?void 0:e.routes.temporaryStackData.travelMode)||"auto",activeField:0,isFocused:!0,isLoading:!1,optimizingStatus:void 0,activeRouteIndex:0,skipApplyBounds:!1,showMapForm:!1,detailedIndex:-1,moreSnippetsShown:!1,activePoint:null,routePoints:[{input:"",value:"",coords:null},{input:"",value:"",coords:null}],viaIndexes:[],routerResponse:null,mrcFeatures:null,activeMrcIndex:null,geolocationError:null,settings:{auto:{ignoreTrafficJams:!1,avoid:[],timeDependent:{type:"departure"},cargo:null==e?void 0:e.routes.temporaryStackData.cargo},masstransit:{avoidTypes:h,timeDependent:{type:"departure"}}}}}function U(e){return(e||[]).reduce(function(e,t){return t&&t.type&&t.type.includes("STAIRS")&&e++,e},0)}function H(e){var t=e.map(W);return t.filter(Boolean).length>0?t.join("~"):void 0}function W(e){var t=e.searchResult,n=e.ignorePctx;if(t&&!n)return"routePoint"in t?t.routePoint&&t.routePoint.context:void 0}function V(e,t){switch(e){case"auto":var n=t[e].timeDependent,o=t[e].cargo;return{avoid:0!==t[e].avoid.length?t[e].avoid.join():void 0,timeDependent:{time:n.time?se(new Date(n.time)):void 0},cargo:o&&0!==Object.keys(o).length?o:void 0};case"masstransit":var i=t[e].timeDependent,a=t[e].avoidTypes;return{avoidTypes:0===a.length||a.length===h.length?void 0:a.join(),timeDependent:Object(r.a)(Object(r.a)({},i),{},{time:i.time?se(new Date(i.time)):void 0})};default:return}}function G(e){return{type:"LineString",coordinates:e.coordinates||[]}}function Y(e){return[].concat(s.g(e,"routes")).pop()}function Z(e){return e.routes.forEach(function(e){e.coordinates=e.encodedCoordinates?f(e.encodedCoordinates):[]}),e}function X(e,t){return e.waypoints=e.waypoints.map(function(e){var n=t.find(function(t){return Boolean(t.coords&&e.coordinates&&Object(o.a)(t.coords,e.coordinates))});return Object(r.a)(Object(r.a)({},e),{},{name:n?n.value:""})}),e}function K(e,t){if("comparison"===t){for(var n=0,r=1;r<e.length;r++)n+=Object(a.a)(e[r],e[r-1]);return n<=b}return!0}function $(e){return e.enableRoutesB2B}function J(e,t){return"auto"===e&&$(t)&&u.a.get("routes_b2b_agreement")||!1}function Q(e,t){return e&&J(e,t)?t.routes.maxB2BCount:t.routes.maxCount}function ee(e,t){var n=t+1,r=e[n];return!r||r.coords?e.findIndex(function(e){return!e.input}):n}function te(e,t){var n=e.route,r=e.isActive,o=e.isDefaultColor;if(!r)return{stroke:[{width:E.default.main,color:O.inactive},{width:E.default.underlay,color:O.underlay}],cursor:"pointer"};var i=ne({route:n,isDefaultColor:o},t);return{zIndex:10,stroke:[i.mainStyle,i.borderStyle,i.underlayStyle],cursor:"default"}}function ne(e,t){var n=e.route,r=e.isDefaultColor,o=E,i=r?o.default:o.colorize;return{mainStyle:function(e,t,n){return n?{width:t.main,color:O.main}:{width:t.main,palette:e.map(function(e){return{count:e.count,color:S[e.type].color}})}}(n.colorizeInfo||[],i,r),borderStyle:function(e,t,n){return n?{}:{width:t.border,palette:e.map(function(e){return{count:e.count,color:S[e.type].border}})}}(n.colorizeInfo||[],i,r),underlayStyle:function(e){return{width:e.underlay,color:O.underlay}}(i)}}function re(e){return w[e<=12?12:e<=18?18:19]}function oe(e,t){var n=t.places,i=!1,a=e.routePoints.map(function(e){var t,a=e.coords;if(a&&(n&&n.home&&Object(o.a)(n.home.coords,a)?t="home":n&&n.work&&Object(o.a)(n.work.coords,a)&&(t="work"),t&&"geolocation"!==e.serviceType&&e.serviceType!==t))return i=!0,Object(r.a)(Object(r.a)({},e),{},{serviceType:t});return e});return i?a:e.routePoints}function ie(e){if(e.searchResult)return"fullAddress"in e.searchResult&&e.searchResult.fullAddress?e.searchResult.fullAddress:e.searchResult.address}function ae(e){var t=e[0].searchResult;return t&&"region"in t&&t.region||void 0}function se(e){var t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),r=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":00";return e.getFullYear()+"-"+t+"-"+n+"T"+r}function ce(e,t){var n=p.d(e).getTime()+60*p.g(t).getTimezoneOffset()*1e3;return new Date(n)}function ue(e){var t=s.h(e,"routes");return Boolean(t&&t.routePoints.some(function(e){return!e.coords}))}function le(e,t,n){return"auto"!==n.type&&"masstransit"!==n.type||!function(e){var t,n,r=null===(t=e.paths[0])||void 0===t?void 0:null===(n=t.beginTime)||void 0===n?void 0:n.tzOffset;return r&&e.paths.some(function(e){return!(!e.beginTime||!e.endTime)&&(e.beginTime.tzOffset!==r||e.endTime.tzOffset!==r)})||!1}(n)?e.text:fe(e,t)}function de(e,t,n){return"transport"===n.type&&pe(n)?fe(e,t):e.text}function fe(e,t){if(!e.tzOffset)return e.text;var n=(e.tzOffset/60+("ru"===t.tld?_:0))/60;return (function(params){return (params.time?params.time+" ":"")+(params.date?params.date+" ":"")+(params.tzOffset?(params.msk?"(МСК "+params.tzOffset+")":"(UTC "+params.tzOffset+")"):"");})({time:e.text,msk:"ru"===t.tld,tzOffset:(n<0?"":"+")+n})}function pe(e){return Boolean(e.beginTime&&e.endTime&&e.beginTime.tzOffset!==e.endTime.tzOffset)}var ve,me=function(e){return m||(m=v.a.getLib(e).then(function(e){return e.getRoutesPointsHistoryManager()})),m},he={addRecord:function(e,t){var n=e.title.trim(),r=e.description.trim();t.authorization&&n&&r&&e.coordinates&&me(t).then(function(t){t.addRecord(e)}).catch(function(){})},getRecords:function(e){return e.authorization?me(e).then(function(e){return e.getRecords()}).catch(function(){return[]}):Promise.resolve([])},deleteRecords:function(e){return e.authorization?me(e).then(function(e){return e.deleteRecords()}):Promise.reject()}},ge=100;function ye(e,t){return Object(a.a)(e,t)<ge}function be(e){return 2===e.length&&Object(a.a)(e[0],e[1])>j}var _e=function(e){return ve||(ve=v.a.getLib(e).then(function(e){return e.getRoutesRideHistoryManager()})),ve},we={addRecord:function(e,t){var n=e.from,r=e.to;t.authorization&&n.title.trim()&&n.description.trim()&&n.coordinates&&r.country&&r.title.trim()&&r.description.trim()&&r.coordinates&&r.country&&_e(t).then(function(t){t.addRecord(e)}).catch(function(){})},getRecords:function(e){return e.authorization?_e(e).then(function(e){return e.getRecords()}).catch(function(){return[]}):Promise.resolve([])},deleteRecords:function(e){return e.authorization?_e(e).then(function(e){return e.deleteRecords()}):Promise.reject()}}},7:function(e,t,n){"use strict";t.a=function(e){return function(t,n){var r=e;return t&&("string"==typeof t?r+="__"+t:"object"==typeof t&&(n=t)),n&&Object.keys(n).forEach(function(e){n&&(!0===n[e]?r+=" _"+e:n[e]&&(r+=" _"+e+"_"+n[e]))}),r}}},70:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",function(){return r})},71:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},79:function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"a",function(){return K}),n.d(t,"b",function(){return $});var r=n(10),o=n(2796),i=n(2792),a=n(16),s=n(69),c=n(146),u=n(21),l=n(49),d=n(58),f=n(586),p=n(318),v=n(159),m=n(440),h=n(590),g=n(981),y=["lang","pt",/^utm_.+/,"source","origin","clid","from","portal","appsearch_header","webview","covid_customization","theme","safearea_inset_top","safearea_inset_bottom","test-id","host_config","debug","mocks","pron","suggest_exprt","loggers","discoveryBranch","eventsBranch",/^no-.+$/,/^jsapi-.+$/,/^search_.+$/,/^mock_.+$/,/^renderer_.+$/,"devtools","embed","_ym_debug"];function b(e,t){void 0===t&&(t={});var n=[_,w,E,O,S,j,k,C,T,I,x,M,P,N,A,q,B,F,U,H,G,L,D,R,Y,W,z,V].reduce(function(n,o){var i=o(e,{format:t.format||"seo"});return{path:n.path||i.path,params:Object(r.a)(Object(r.a)({},n.params||{}),i.params||{}),layers:Object(r.a)(Object(r.a)({},n.layers||{}),i.layers||{})}},{}),o=n.path,i=void 0===o?"":o,a=n.params,s=void 0===a?{}:a,c=n.layers,u=void 0===c?{}:c;return s.l=Object.entries(u).reduce(function(e,t){var n=t[0],r=t[1];return[].concat(e.filter(function(e){return e!==n}),r?[n]:[])},[]).join(",")||null,{path:"/"+i,params:Object.entries(s).reduce(function(e,t){var n=t[0],r=t[1];return null!==r&&(e[n]=r),e},{})}}function _(e){var t=e.map,n="hybrid"===e.map.type,r="satellite"===e.map.type;return e.config.pharmacy&&!["map","new-map","cart-map"].includes(e.pharmacy.pageType)?{}:{params:{ll:Object(o.a)(t.location.center),z:Math.round(100*t.location.zoom)/100},layers:{sat:r||n,skl:n}}}function w(e){return{layers:{carparks:e.parking.isLayerShown}}}function E(e,t){var n,i,s,c=a.h(e,"search-result");if(!c)return{};if("poi"===c.request.from){var d=Object(f.a)(c.tab);return{params:{mode:"poi",poi:{point:c.request.coordinates&&Object(o.a)(c.request.coordinates),uri:c.request.uri},tab:Object(f.b)(d)}}}if("whatshere"===c.request.from&&"toponym"===(null===(n=c.response)||void 0===n?void 0:null===(i=n.items[0])||void 0===i?void 0:i.type)){var p=c.response.items[0];if("seo"===t.format&&p){var v,m,h=Object(f.e)(c.tab),g=null!==(v=null!==(m=J(e,p)?"panorama":void 0)&&void 0!==m?m:Q(e,p)?"gallery":void 0)&&void 0!==v?v:Object(f.f)(h),y=u.v(p,p.region,void 0,{sublanding:"house"===p.kind?g:void 0});if(y)return{path:y}}return{params:{mode:"whatshere",whatshere:{point:Object(o.a)(c.request.coordinates),zoom:String(c.request.zoom)}}}}var b=null===(s=c.response)||void 0===s?void 0:s.items[0];if(!b)return{};if("search"===c.request.from&&"toponym"===b.type){if(b.placeId)return{params:{bookmarks:{pid:b.placeId,uri:l.b(b.displayCoordinates)}}};var _="seo"===t.format?u.v(b,b.region):void 0;return{path:_,params:_?void 0:Z(b)}}if("search"===c.request.from&&"business"===b.type){if(a.m(e.config))return{path:u.p(b)};var w=Object(f.a)(c.tab),E={tab:Object(f.b)(w)};return c.selectedPostId&&(E.posts={pid:c.selectedPostId}),"seo"===t.format?{path:u.c(b,{sublanding:J(e,b)?"panorama":Object(f.b)(Object(f.a)(c.tab))}),params:E}:{params:Object(r.a)(Object(r.a)({},E),X(b))}}return{}}function O(e){if(e.config.pharmacy)return{};var t,n=a.h(e,"photos"),i=n&&n.meta;return i&&("point"in i?t={point:Object(o.a)(i.point)}:"postId"in i&&"businessId"in i?t={business:i.businessId,post:i.postId}:"businessId"in i?t={business:i.businessId}:"id"in i&&(t={oid:i.id})),{params:{photos:Object(r.a)(Object(r.a)({},t),{},{id:n&&n.selectedId||null})},layers:{pht:e.photos.isLayerEnabled}}}function S(e){if(!e.traffic.isLayerEnabled)return{};var t=a.h(e,"traffic"),n=e.traffic.settings,r=null;return"traffic#actual"!==n.providerKey&&(r=Object.entries(n.state).map(function(e){var t=e[0],n=e[1];return t+":"+("time"===t?n.join(","):"date"===t?n.getTime():n)}).join("~")),{params:{trfm:"traffic#archive"===n.providerKey?"arc":null,trfst:r,trfev:t&&t.currentTrafficEvent&&t.currentTrafficEvent.id||null},layers:{trf:e.traffic.isLayerEnabled,trfe:e.traffic.isLayerEnabled&&e.traffic.infoLayerShown}}}function j(e,t){var n="seo"===t.format,r={masstransit:e.masstransit.isLayerShown},o=a.h(e,"masstransit");if(!o){var i=a.d(e);return n&&"masstransit"===i&&e.mapRegion?{path:u.k(e.mapRegion)}:{layers:r}}var s,c,l=o.stops,p=o.line,v=o.selectedVehicleType;switch(o.masstransitMode){case"stop":var m=l.data;(m||l.loadingId)&&(c={stopId:m?m.id:l.loadingId}),m&&m.region&&(s=u.m({id:m.id},m.region));break;case"line":var h=p.data&&p.data.activeThread;if(h){var g=h.properties.ThreadMetaData,y=h.MapsUIMetaData&&h.MapsUIMetaData.Region[0];g.uri&&y&&(s=u.j({uri:g.uri,type:g.type,seoname:g.seoname},y)),c={lineId:g.lineId,threadId:g.id}}break;case"list":v&&(Object(d.A)(v)&&e.mapRegion?s=u.n(v,e.mapRegion):c={vehicleType:v})}var b=Object(f.b)(o.businessTab);return n&&s?{path:s,layers:r,params:{tab:b}}:{params:{mode:"masstransit",masstransit:c,tab:b},layers:r}}function k(e){var t=a.h(e,"bookmarks");return t?{params:{mode:"bookmarks",bookmarks:!t.activeFolder||{id:t.activeFolder.id}}}:{}}function C(e){var t,n=a.h(e,"panoramas"),r=n?n.currentPanorama:null;if(r&&r.point&&r.direction&&r.span){var i=(r.historicalPanoramas||[]).sort(function(e,t){return t.timestamp-e.timestamp}).slice(r.isAir?0:1).find(function(e){return e.timestamp===r.timestamp});t={point:Object(o.a)(r.point),direction:Object(o.a)(r.direction),span:Object(o.a)(r.span),air:r.isAir?r.isAir.toString():null,id:i&&i.Connection.oid,full:!0}}return{params:{panorama:t},layers:{stv:e.panoramas.isLayerEnabled,sta:e.panoramas.isLayerEnabled}}}function T(e){var t,n=a.h(e,"mrc");return n&&n.featureId&&(t={id:n.featureId}),{params:{mrc:t},layers:{mrc:e.mrc.isLayerEnabled&&"road"===e.mrc.graphType,mrcpe:e.mrc.isLayerEnabled&&"pedestrian"===e.mrc.graphType}}}function I(e){var t="",n={},r=a.h(e,"orgpage");if(r){var o=r.result;if(o){var i,s;if(a.m(e.config))return{path:u.p(o),params:n};var c=null!==(i=null!==(s=J(e,o)?"panorama":void 0)&&void 0!==s?s:Q(e,o)?"gallery":void 0)&&void 0!==i?i:Object(f.b)(r.tab);t=u.c(o,{sublanding:c})}else n.orgpage={id:r.id};r.selectedPostId&&(n.posts={pid:r.selectedPostId})}return{path:t,params:n}}function R(e){var t=a.h(e,"reviews");return"editor"===(null==t?void 0:t.type)?{params:{"add-review":!0}}:{}}function x(e){var t=a.d(e),n=a.g(e,"routes"),o=n[n.length-1],i=o||s.p(e),c=i.travelMode,u=i.activeRouteIndex,l=i.detailedIndex,d=i.routePoints,f=i.viaIndexes,p=i.routerResponse,v=i.settings,m=i.ignoreTravelModes;if(o){var h,g,y=s.J({routePoints:d,viaIndexes:f,travelMode:c,activeRouteIndex:u,detailedIndex:l,settings:v,ignoreTravelModes:m,routerResponse:p},e.config);return"routes"===t?{params:Object(r.a)({mode:"routes"},y)}:"feedback"===t?{params:Object(r.a)({uri:null===(h=o.routerResponse)||void 0===h?void 0:null===(g=h.routes[o.activeRouteIndex])||void 0===g?void 0:g.uri},y)}:{params:y}}return{}}function M(e,t){var n,r="seo"===t.format&&!a.h(e,"search-result"),i={},s=a.g(e,"search");if(0===s.length||a.h(e,"orgpage")||"search"===e.pharmacy.pageType)return{params:i,path:n};var l=s[s.length-1],d=l.request;switch(d.searchType){case"TEXT":if(i=function(e){return{mode:"search","display-text":e.displayText,text:e.text,sll:e.center&&Object(o.a)(e.center),sspn:e.span&&Object(o.a)(e.span),sctx:e.context,noreask:0===e.correctMisspell?"1":void 0,filter:e.filters&&e.filters.length>0?e.filters.join(";"):void 0,sort:e.sort}}(d),!("results"in l&&e.mapRegion&&r))break;var f=l.results,p=(f.filters||[]).filter(c.p).filter(function(e){return!c.j(e)}),v=1===p.length?p[0]:void 0;if(f.chain)n=u.f(f.chain,e.mapRegion,{filter:v});else if(f.requestRubric){var m=f.requestGeoWhere;n=u.e(f.requestRubric,e.mapRegion,{geoWhere:m,filter:v})}else if(d.text&&(!d.displayText||d.text===d.displayText)){var h=f.requestCorrectedQuery!==f.requestQuery?f.requestCorrectedQuery:void 0;n=u.u(h||d.text,e.mapRegion,{filter:v})}n&&(delete i.mode,delete i.text,delete i["display-text"],n.includes("filter/")&&delete i.filter);break;case"BUSINESS_LIST":i=function(e){return{mode:"search",where:Object(o.a)(e.where)}}(d)}return n?{path:n,params:i}:{params:i}}function P(e){var t,n=a.h(e,"feedback"),o=null;if(n){var i;if(o=n.type,Object(p.c)(n))t={ol:"biz",oid:n.result&&"id"in n.result?n.result.id:void 0,ouri:n.uriList};else if(Object(p.e)(n)){var s;t={ol:"geo",ouri:null===(s=n.result)||void 0===s?void 0:s.uri}}else Object(p.d)(n)&&"business"===n.result.type?(o="edit-organization",t={ol:"biz",oid:n.result.id}):Object(p.d)(n)&&(t={masstransit:{stopId:n.result.id}});var c=e.config.query.webview||e.config.query["feedback-webview"];t=Object(r.a)(Object(r.a)({},t),{},{"feedback-context":null===(i=n.context)||void 0===i?void 0:i.formContextId,"feedback-metadata":n.metadata,"feedback-webview":c?1:void 0,webview:c?"true":void 0})}else e.feedback.isCommonFeedbackOpened&&(o="");return{params:Object(r.a)({feedback:o},t)}}function N(e){return{params:{rl:e.ruler.points.slice(0,e.config.ruler.maxCount).map(function(e,t,n){var r=e.coordinates,i=n[t-1]&&n[t-1].coordinates,a=0===t?r:[r[0]-i[0],r[1]-i[1]];return Object(o.a)(a)}).join("~")||null}}}function A(e){var t=a.d(e),n=a.h(e,"usermaps");return"usermaps"===t&&n&&n.usermap?{params:{mode:"usermaps",um:n.usermap.id}}:{}}function L(e){var t=a.h(e,"discovery");return{path:(null==t?void 0:t.alias)?u.h(t.alias):void 0}}function D(e,t){if(!("seo"===t.format))return{};var n=e.mapRegion;return{path:n?u.r(n):void 0}}function z(e){var t=a.h(e,"event");return t?{params:{events:{id:t.eventId}}}:{}}function q(e,t){var n=a.h(e,"catalog");if(!n)return{};var r="group"===n.type&&n.data?n.data.id:void 0;return"seo"===t.format&&n.region?{path:u.d(n.region,r)}:{params:{mode:"catalog",catalog:r?{group:r}:void 0}}}function B(e){var t=a.h(e,"covid");return t&&t.data?{path:"covid19"+(t.isolation?"/isolation":""),params:{"index-type":e.config.query["index-type"]}}:{}}function F(e){var t=a.h(e,"actual");return(null==t?void 0:t.data)?{path:"actual"}:{}}function U(e){var t,n=a.h(e,"stories-player"),r="actual"===(null==n?void 0:n.fromMode)?null===(t=n.activeStory)||void 0===t?void 0:t.id:void 0;return r?{params:{stories:{id:r}}}:{}}function H(e){return a.h(e,"user-profile")?{path:"profile"}:{}}function W(e){var t=e.metro;if(!t.selectedCity)return{};var n=t.fromStop&&t.fromStop.stationId,r=t.toStop&&t.toStop.stationId,o=n&&r;return{path:t.selectedCity.defaultAlias+(o?"/"+n+"/"+r:""),params:{route_from_id:o&&n||void 0,route_to_id:o&&r||void 0,scheme_id:t.schemeMeta&&t.schemeMeta.id||e.config.query.scheme_id||void 0,ll:void 0,z:void 0,focus:void 0!==t.inputFocusIndex?String(t.inputFocusIndex):void 0}}}function V(e){var t,n,r,o,i,a,s,c=u.z({},e.config);switch(e.config.query[v.x]&&(c[v.x]=e.config.query[v.x]),["cart","cart-map","cart-checkout","new-map","map"].includes(e.pharmacy.pageType)&&(e.config.query[v.q]&&(c[v.q]=e.config.query[v.q]),e.config.query[v.g]&&(c[v.g]=e.config.query[v.g])),e.config.query[v.y]&&(c[v.y]=e.config.query[v.y]),e.config.query[v.E]&&(c[v.E]=e.config.query[v.E]),e.pharmacy.pageType){case"product":if(!e.pharmacy.productPage)break;var l=e.pharmacy.productPage,d=l.product,f=l.selectedManufacturerName,p=l.selectedVariantId;s="product/"+g.b(d,f,p).drugIds[0],e.pharmacy.productPage.activeTab!==v.B&&(c[v.a]=e.pharmacy.productPage.activeTab);break;case"search":s="search",c.text=e.pharmacy.search.originalQuery;break;case"new-map":s="new-map",c[v.f]=null===(t=e.pharmacy.map)||void 0===t?void 0:t.buyMode,c.sll=null!==(n=e.map.location.center.join())&&void 0!==n?n:c.sll,c.sspn=null!==(r=e.map.location.span.join())&&void 0!==r?r:c.sspn;break;case"cart":s="cart";break;case"cart-map":s="cart/map";var y=Object(m.j)(e)?e.pharmacy.cart:null===(o=e.pharmacy.map)||void 0===o?void 0:o.cart;if(y&&(c[v.g]=h.a(y)),Object(m.j)(e)){var b,_,w,E;c.sll=null!==(b=e.map.location.center.join())&&void 0!==b?b:c.sll,c.sspn=null!==(_=e.map.location.span.join())&&void 0!==_?_:c.sspn,c.z=null!==(w=e.map.location.zoom)&&void 0!==w?w:c.zoom;var O=null===(E=e.pharmacy.mapV3)||void 0===E?void 0:E.filters.find(function(e){return e.id===v.j}),S="boolean"===(null==O?void 0:O.type)&&O.selected;e.config.query[v.k]&&S&&(c[v.k]=e.config.query[v.k])}var j=e.pharmacy.stack,k=e.pharmacy.selectedDrugStore;"pharmacy-card"===(null===(i=j[j.length-1])||void 0===i?void 0:i.mode)&&k&&(c[v.D]=k.id);break;case"cart-checkout":s="cart/checkout",c[v.g]=h.a(e.pharmacy.cart);break;case"order":var C=null===(a=e.pharmacy.order)||void 0===a?void 0:a.hash;s=C?"order/"+C:"order";break;case"map":s="map"}return{path:s,params:c}}function G(e){var t=a.h(e,"ugc-profile");if(!t)return{};var n=e.config.query;return{path:"profile/ugc/"+t.type,params:{oid:ee(t),photos_tab:"photos"===t.type?t.state[t.type].data.tab:void 0,assignment_id:n.assignment_id,"feedback-metadata":n["feedback-metadata"]||{client_id:n.client_id,uuid:n.uuid,device_id:n.deviceid,locale:n.lang}}}}function Y(e){return{params:Object.entries(e.config.query).reduce(function(e,t){var n=t[0],r=t[1];return y.some(function(e){return"string"==typeof e?e===n:e.test(n)})&&(e[n]=r),e},{})}}function Z(e){return Object(i.a)(e.coordinates,e.displayCoordinates)?{mode:"search",ol:"geo",ouri:e.uri}:{mode:"search",text:Object(o.a)(e.displayCoordinates,{reverse:!0}),sll:Object(o.a)(e.displayCoordinates)}}function X(e){var t={};return e&&e.id&&(t.mode="search",t.ol="biz",t.oid=e.id),t}function K(e,t){var n=b(e,t),r=n.path,o=n.params;return u.y(r,o)}function $(e,t){var n=a.h(e,"routes");if(!n||"comparison"!==n.travelMode)return u.y(t.path,t.params);var o=n.activeComparisonMode,i=o&&"taxi"!==o?s.d[o]:"auto";return u.y(t.path,Object(r.a)(Object(r.a)({},t.params),{},{rtt:i||t.params.rtt}))}function J(e,t){var n,r,o,s=null==t?void 0:null===(n=t.panorama)||void 0===n?void 0:null===(r=n.point)||void 0===r?void 0:r.coordinates,c=e.panoramas.loadingPanorama,u=c&&("id"in c&&c.id===(null==t?void 0:t.id)||"point"in c&&c.point&&s&&Object(i.a)(c.point,s)),l=a.h(e,"panoramas"),d=(null==l?void 0:null===(o=l.currentPanorama)||void 0===o?void 0:o.point)&&s&&Object(i.a)(l.currentPanorama.point,s);return Boolean(u||d)}function Q(e,t){var n=null==t?void 0:t.coordinates,r=a.h(e,"photos");return Boolean(r&&r.meta&&("businessId"in r.meta&&r.meta.businessId===t.id||"point"in r.meta&&n&&Object(i.a)(r.meta.point,n)))}function ee(e){var t,n,r;if(e.state[e.type].data)switch(e.type){case"mrc":return null===(t=e.state.mrc.data)||void 0===t?void 0:t.id;case"photos":return null===(n=e.state.photos.account.data)||void 0===n?void 0:null===(r=n.selectedPhoto)||void 0===r?void 0:r.id;default:return}}},8:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(5),a=n(2798),s=n(412),c=n(9),u=(n(346),n(17)),l=n(320),d=Object(u.a)(c.b,s.b),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getAnalyticsNode=function(){var e=t.props,n=e.parentAnalyticsNode,r=e.name,o=e.group,i=e.nodeState,a=e.subtreeState,s=e.actionSubtreeState,c=e.metrikaGoal,u=e.subtreeMetrikaGoal,l=e.useParentState;if(!t._analyticsNode){var d={subtreeState:a,actionSubtreeState:s,metrikaGoal:c,subtreeMetrikaGoal:u,useParentState:l,isGroup:o};t._analyticsNode=n.createChild(r,i,d)}return t._analyticsNode},t._onIntersectionChange=function(e){e[0].isIntersecting&&(t._getAnalyticsNode().logEvent("enter"),t._intersectionObserver&&t._intersectionObserver.disconnect())},t._onClick=function(){var e=t.props.useParentState;t._getAnalyticsNode().logEvent("click",void 0,{useParentState:e})},t._wrapOnClick=function(e){return function(n){t._onClick(),e&&e(n)}},t._renderContext=function(e){return o.createElement(s.a,{value:t._getAnalyticsNode()},e)},t._renderChildren=function(e){return e&&Object(l.a)(e)?e({wrapClick:t._wrapOnClick}):e},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t=this.props,n=null!==(e=this.props.hidden)&&void 0!==e&&e;if(this._getAnalyticsNode().attach(n),t.nodeRef&&(t.nodeRef.current=this._getAnalyticsNode()),"analytics"===t.config.query.loggers){var r=i.findDOMNode(this);r&&"setAttribute"in r&&r.setAttribute("data-maps-analytics-path",this._getAnalyticsNode().getPath())}if(t.logClick&&window.__MAPS_EXTENSION_ANALYTICS_MOUNT__){var o=i.findDOMNode(this);o&&window.__MAPS_EXTENSION_ANALYTICS_MOUNT__(o,this._getAnalyticsNode().getPath())}if(t.logViewportEnter&&"IntersectionObserver"in window){var a=i.findDOMNode(this);if(function(e){return Boolean(e&&e.nodeType!==Node.TEXT_NODE)}(a)){var s="when 100% visible"===t.logViewportEnter?1:0;this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,{threshold:s}),this._intersectionObserver.observe(a)}}},n.componentDidUpdate=function(e){var t=e.nodeState,n=e.subtreeState,r=e.actionSubtreeState,o=e.hidden,i=this.props,s=i.nodeState,c=i.subtreeState,u=i.actionSubtreeState,l=i.hidden,d=i.useParentState;!o&&l&&this._getAnalyticsNode().setHidden(!0),o&&!l&&this._getAnalyticsNode().setHidden(!1),Object(a.a)(t,s)&&Object(a.a)(n,c)&&Object(a.a)(r,u)||this._getAnalyticsNode().changeState(s,{subtreeState:c,actionSubtreeState:u,useParentState:d})},n.componentWillUnmount=function(){this._getAnalyticsNode().detach(),this.props.nodeRef&&(this.props.nodeRef.current=null),this._intersectionObserver&&this._intersectionObserver.disconnect()},n.render=function(){var e=this,t=this.props,n=t.children,r=t.logClick;return n?!r||Object(l.a)(n)?this._renderContext(this._renderChildren(n)):this._renderContext(o.Children.map(n,function(t){return t?o.cloneElement(t,{onClick:e._wrapOnClick(t.props.onClick)}):null})):null},t}(o.Component);t.a=d(f)},80:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(53),a=["INPUT","SELECT","TEXTAREA"],s=[],c=function(e,t){var n=e.keyCode,r=e.target.tagName,o=t.handlers,i=t.stopPropagation,s=o.find(function(e){return e.key===n}),c=a.includes(r);return!s||!s.allowInEditable&&c?!(s||i):(s.callback(e),e.preventDefault(),!1)},u=function(e){for(var t=s.length-1;t>=0;t--){if(!c(e,s[t]))break}},l=function(e){e.keyCode!==i.a.PRINT_SCREEN&&u(e)},d=function(e){e.keyCode===i.a.PRINT_SCREEN&&u(e)},f=function(e,t){0===s.length&&(window.document.addEventListener("keydown",l),window.document.addEventListener("keyup",d));var n={handlers:e,stopPropagation:t};return s.push(n),function(){return e=n,void(0===(s=s.filter(function(t){return e!==t})).length&&(window.document.removeEventListener("keydown",l),window.document.removeEventListener("keyup",d)));var e}},p=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.stopPropagation,n=e.handlers,r=Array.isArray(n)?n.slice():[n];this._unsubscribe=f(r,Boolean(t))},n.componentWillUnmount=function(){this._unsubscribe()},n.render=function(){return null},t}(o.Component);t.a=p},84:function(e,t,n){var r=n(1211),o=n(1212),i=o;i.v1=r,i.v4=o,e.exports=i},85:function(e,t,n){"use strict";var r=n(6),o=(n(1247),n(4)),i=n(7),a=Object(i.a)("resize-listener"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._measurer=null,t._onResize=function(e){t.props.onResize(e)},t._onIframeLoad=function(){t._measurer.contentWindow.addEventListener("resize",t._onResize)},t._iframeRef=function(e){t._measurer=e},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this._measurer;e.contentWindow?this._onIframeLoad():e.addEventListener("load",this._onIframeLoad)},n.componentWillUnmount=function(){var e=this._measurer;e&&(e.removeEventListener("load",this._onIframeLoad),e.contentWindow&&e.contentWindow.removeEventListener("resize",this._onResize))},n.render=function(){return o.createElement("iframe",{className:a(),tabIndex:-1,ref:this._iframeRef})},t}(o.Component);t.a=s},86:function(e,t,n){"use strict";var r=n(6),o=n(4),i=n(9),a=n(111),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={browserFeatures:Object(a.a)(t.config)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({browserFeatures:Object(a.b)()})},n.render=function(){return this.props.children(this.state.browserFeatures)},t}(o.Component);t.a=Object(i.b)(s)},87:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={screenshotDialog:99999,ruler:8030,editing:8030,hover:8020,active:8e3,search:{active:8e3,subtitle:7500,title:7e3,base:6500,dot:6e3},usermaps:{placemark:3e3,line:2e3,polygon:1e3},discovery:580,routes:550,routePins:{waypoint:8e3,masstransit:7900},masstransitStop:520,moving:500,masstransitLineStop:510,home:451,work:450,default:400,tooltip:352,masstransitRegion:350,bookmarks:300,minimum:1}},9:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),o=Object(r.a)("config",null,function(e){return{config:e}}),i=o.connect,a=o.Provider;t.b=i},91:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("search").then(n.bind(null,1404))},{restoreFromLocation:!0,search:!0,openOrgpage:!0,openCategory:!0,openSimilar:!0,searchCategoryNearby:!0,searchNearby:!0,searchChain:!0,updateSearch:!0,loadMore:!0,zoomToEntrances:!0,switchBusinessTab:!0,switchToponymTab:!0,updateSelectedPostId:!0,updateFilterPanelStack:!0,setMapLocationRequest:!0,addVisitedId:!0})},92:function(e,t,n){"use strict";var r=n(13),o=n(4),i=n(9),a=n(11),s=n(1181);t.a=Object(i.b)(function(e){var t=s.a({name:e.name,size:e.size,theme:e.theme},e.config);if(e.inline)return o.createElement(a.a,{url:t,className:e.className,onClick:e.onClick});var n="number"==typeof e.size?{width:e.size,height:e.size}:e.size;return o.createElement("img",Object(r.a)({src:t},n,{className:e.className,onClick:e.onClick}))})},94:function(e,t,n){"use strict";var r=n(444),o=n(410),i="[object Symbol]";t.a=function(e){return"symbol"==typeof e||Object(o.a)(e)&&Object(r.a)(e)==i}},950:function(e,t,n){"use strict";var r=n(454),o=n(6);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}var s=n(10),c=n(4),u=n(111),l=n(9),d=n(184),f=n(60),p=n(18),v=n(2792),m=n(253),h=n(55),g=n(85),y=n(117),b=n(2765),_=n(2798),w=n(336),E=n(989),O=n(669),S=n(337),j=n(0),k=n(8),C=n(123),T=function(){return Promise.all([n.e("ymaps").then(n.bind(null,2805)),n.e("ymaps").then(n.bind(null,2803))]).then(function(e){var t=e[0],n=e[1].EventBlockerLayer;return Object(s.a)(Object(s.a)({},t),{},{EventBlockerLayer:n})})},I=function(e,t){return Promise.all([n.e("ymaps-vector").then(n.bind(null,2808)),n.e("ymaps-vector").then(n.t.bind(null,2804,7))]).then(function(e){var n=e[0],r=e[1];return function(e){return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a(n.VectorMapEngine,[r.default,t||{},e].concat(i))}}})},R=300,x=function(e){function t(t){var n;(n=e.call(this,t)||this)._isMapCreated=!1,n._ref=c.createRef(),n._onYmaps3Load=function(e){n._ymaps3=e,e.provideErrorLogger(function(e){return Object(S.b)(e,{config:n.props.config})}),n._createMap()},n._handleMapLocationRequest=function(e){var t=n._map;if(n._location&&e&&t){var r=n._location,o=e.bounds?Object(m.c)({bounds:e.bounds},n.props.margin,n._getSize(),t.isSnapToRoundZoom):e,i=o.center,a=void 0===i?r.center:i,s=o.zoom,c=void 0===s?r.zoom:s;c===r.zoom&&Object(v.a)(a,r.center)||t.animateCenterAndZoom(a,c,e.duration||0)}},n._createMap=function(){var e=n.props,t=n.state,r=n._isElementProvided?e.element:n._ref.current;if(r&&!n._isMapCreated&&n._ymaps3){n._isMapCreated=!0,e.config.query["disable-vector-force"]?(j.a.set("disable_vector_force",!0),n.setState({isVectorDisabledForce:!0})):j.a.get("disable_vector_force")&&n.setState({isVectorDisabledForce:!0});var o=e.locationRequest,i=o&&o.center||e.initialLocation.center,a=o&&o.zoom||e.initialLocation.zoom;n._location={center:i,zoom:a},n._camera=e.initialCamera||{azimuth:0,tilt:0};var s=Object(d.h)(e.config),c=n._getMapMode(),l=n._ymaps3.YaMap,f=Object.values(d.d),p=Object(d.l)(f,n._ymaps3.EventBlockerLayer),v=p.topRasterLayers,m=p.mainLayers,h=new l({mode:c,element:r,center:i,zoom:a,margin:e.margin,zoomRange:{min:2,max:21},dataSources:s,topRasterLayers:v,mainLayers:m,behaviors:e.behaviors,manageZoomRounding:!e.disableZoomRounding,eventObjectsFilter:e.eventObjectsFilter,disableRasterPreload:e.config.uatraits.isMobile,nonRotatableRasterSources:d.c,experiments:{ymaps3MapRotate:e.config.experiments.ui.ymaps3MapRotate}});if(window.yandex_map=h,h.events.clickTimeout=300,h.events.waitHotspotsTimeout=1e3,n.props.disableZoomRounding&&(h.behaviors.snapToRoundZoom=!1),Object(u.b)().has.touch?n._ymaps3.loadHotspotsForViewport(h):n._ymaps3.loadHotspotsByPointerPosition(h),e.vector&&e.config.isVectorEnabled&&!t.isVectorDisabledForce)if(Object(E.b)()){var g=I(e.config.experiments.ui),y=new Promise(function(e,t){setTimeout(function(){var n=Object(E.c)();n&&Object(E.a)(n).supported||t(new Error("Vector is not supported")),e(n)})});Promise.all([g,y]).then(function(e){var t=e[0],n=e[1];h.destroyed||h.provideVectorMapEngineFactory(t(n))}).catch(function(e){n.setState({isVectorSupported:!1}),window.console.error(e)})}else n.setState({isVectorSupported:!1});n._map=h,n._onMapUpdate(),n._onZoomRoundingChange(),n._onMapSizeChange(),n._addFilter(),e.onReady&&e.onReady(h),n.forceUpdate()}},n._addFilter=function(){var e=n.props.getFilter;e&&(n._filter=e(n._ymaps3),n._map.addObjectFilter(n._filter))},n._onMapUpdate=function(){var e=n._map;if(!e.isInAction){var t=[e.center[0],e.center[1]];(n._location.zoom!==e.zoom||!Object(v.a)(n._location.center,t))&&(n._location={zoom:Math.round(100*e.zoom)/100,center:t},n._onLocationChange()),n._camera.azimuth===e.azimuth&&n._camera.tilt===e.tilt||(n._camera={azimuth:e.azimuth,tilt:e.tilt},n.props.onCameraChange&&n.props.onCameraChange(n._camera))}},n._onLocationChange=function(){var e=n.props.onLocationChange;if(e){var t=Object(m.c)(n._location,n.props.margin,n._getSize()),r=t.bounds,o=t.span;e(Object(s.a)(Object(s.a)({},n._location),{},{bounds:r,span:o}))}},n._onMapSizeChange=function(){n.props.onSizeChange&&n.props.onSizeChange(n._getSize(),n._map.offset)},n._getSize=function(){var e=n._map.size;return{width:e.x,height:e.y}},n._onResize=function(){var e=n._map;e&&e.resize()},n._onDragStart=function(){n.setState({isDragged:!0})},n._onDragEnd=function(){n.setState({isDragged:!1})},n._onZoomRoundingChange=function(){n.props.onZoomRoundingChange&&n._map&&n.props.onZoomRoundingChange(n._map.isSnapToRoundZoom)},n._renderLayers=function(){var e=n.props;return"satellite"===e.type?c.createElement(w.a,{layer:"sat"}):"hybrid"===e.type?c.createElement(c.Fragment,null,c.createElement(w.a,{layer:"sat"}),c.createElement(w.a,{layer:"skl",onClick:e.onPoiClick,shouldHover:function(){return Boolean(e.isPoiEnabled||e.isHoverForceEnabled)}})):c.createElement(w.a,{layer:"map",onClick:e.onPoiClick,shouldHover:function(){return Boolean(e.isPoiEnabled||e.isHoverForceEnabled)}})},n.state={isDragged:!1,isVectorSupported:!0,isVectorDisabledForce:!1};var r=n.props.updateTimeout||R;return n._onMapUpdateDebounced=Object(b.a)(n._onMapUpdate,r),"undefined"!=typeof window&&(n._loadAction=p.a.create(T(),{success:n._onYmaps3Load})),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._createMap()},n.componentDidUpdate=function(e){var t=this._map;if(!t)return this._createMap();var n=this.props;n.behaviors&&!Object(_.a)(n.behaviors,e.behaviors)&&t.behaviors.setEnabled(n.behaviors);var r=n.locationRequest;r!==e.locationRequest&&this._handleMapLocationRequest(r),Object(_.a)(n.margin,e.margin)||(t.setMargin(n.margin),this._onLocationChange());var o=this._getMapMode();t.setMode(o),n.getFilter!==e.getFilter&&(this._filter&&(t.removeObjectFilter(this._filter),this._filter=void 0),this._addFilter())},n.componentWillUnmount=function(){p.a.cancel(this._loadAction),this._onMapUpdateDebounced.cancel(),this._map&&this._map.destroy()},n._getMapMode=function(){var e=this.props.config.isVectorEnabled&&!this.state.isVectorDisabledForce;return this.state.isVectorSupported&&this.props.vector&&e?"vector":"raster"},n.render=function(){var e=this.props,t=this.state,n=e.config.experiments.ui;return c.createElement(c.Fragment,null,this._isElementProvided?null:c.createElement("div",{className:e.className,ref:this._ref}),c.createElement(f.a,{value:{map:this._map,ymaps3:this._ymaps3}},e.children,this._renderLayers(),c.createElement(h.b,{onUpdate:this._onMapUpdateDebounced,onDragStart:this._onDragStart,onInertiaStart:this._onDragEnd,onDragEnd:this._onDragEnd,onResize:this._onMapSizeChange,onZoomRoundingChanged:this._onZoomRoundingChange}),this.state.isDragged?c.createElement(O.a,{cursor:"grabbing"}):null),c.createElement(g.a,{onResize:this._onResize}),c.createElement(y.a,{type:"resize",listener:this._onResize}),t.isVectorDisabledForce?c.createElement(k.a,{name:"disable_vector_force"}):null,n.orgPoiHints||n.orgPoiHintsHoverable?c.createElement(C.a,{chunk:"org-preview",immediately:!0}):null)},Object(r.a)(t,[{key:"_isElementProvided",get:function(){return"element"in this.props}}]),t}(c.Component);t.a=Object(l.b)(x)},953:function(e,t,n){"use strict";var r=n(970),o=s(r.a),i=s(r.b),a={orgpage:[].concat(o,["panorama"]),whatshere:[].concat(i,["panorama","gallery"])};function s(e){return e.filter(function(e){return"overview"!==e})}function c(e,t){return!!t&&a[e].includes(t)}function u(e,t){if("sublanding"in t&&c(e,t.sublanding))return t.sublanding}function l(e){return e.topObjects?"food"===e.topObjects.rubric?"menu":"prices":e.topPlaces?"inside":void 0}n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l})},955:function(e,t,n){"use strict";var r=n(10),o=n(6),i=(n(1369),n(4)),a=n(5),s=n(12),c=n(7),u=n(165),l=n(17),d=n(9),f=n(48),p=n(412),v=n(414),m=n(16),h=n(114),g=n(49),y=n(58),b=n(30),_=n(596),w=n(2796),E=n(23),O=n(91),S=n(121),j=n(254),k=n(8),C=n(597),T=n(598),I=n(256),R=n(123),x=(n(1388),n(960)),M=n(11),P=n(36),N=n(317),A=n(15),L=Object(c.a)("suggest-item-view-exp"),D=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onButtonClick=function(e){null==e||e.stopPropagation(),t.props.onButtonClick()},t._inputContainsTitle=function(){var e=t.props,n=t.props.data,r="object"==typeof n.title?n.title.text:n.title;return e.inputValue.toLocaleLowerCase().includes(r.toLocaleLowerCase())},t._shouldRenderButton=function(){t.props.data;return Boolean(!1)},t._getIcon=function(e,n){var r=t.props.config,o="masstransit"===e?"normal":"small";return[P.d({type:e,name:n,size:o},r),P.a(n,r)]},t._getIconForType=function(){var e,n,r=t.props.config,o=t.props.data;switch(o.type){case"history":return t._getIcon("service","search");case"home":return t._getIcon("service","home");case"work":return t._getIcon("service","work");case"other-toponym":return t._getIcon("rubrics","street");case"query":return t._getIcon("service","search");case"transit":return t._getIcon("masstransit",o.vehicleType);case"transit-stop":return[P.d({type:"masstransit",name:"bus",size:"normal"},r),"masstransit-stop"];default:var i=t._getIcon("rubrics",null!==(e=null===(n=o.rubrics)||void 0===n?void 0:n[0])&&void 0!==e?e:"");return i[0]?i:t._getIcon("rubrics","fallback")}},t._getPersonalIcon=function(){var e=t.props.data;return"isBookmark"in e&&e.isBookmark?t._getIcon("service","bookmark"):"history"===e.type||"personal"===e.type||"personal"in e&&e.personal?t._getIcon("service","personal"):void 0},t._renderHeader=function(){var e=t.props.data;return i.createElement("div",{className:L("header")},t._renderTitle("title"),i.createElement("div",{className:L("personal")},"distance"in e&&e.distance?i.createElement("div",{className:L("distance")},N.e(e.distance)):null,t._renderPersonalIcon()))},t._renderTitle=function(e){var n,r=t.props.data;if("title"===e)n=r.title;else{if(!("subtitle"in r&&r.subtitle))return null;n=r.subtitle}return i.createElement("div",{className:L(e)},"object"==typeof n?i.createElement(x.a,{text:n.text,ranges:n.hl||[]}):n)},t._renderPersonalIcon=function(){var e=t._getPersonalIcon();if(!e)return null;var n=e[0],r=e[1];return n?i.createElement(M.a,{className:L("personal-icon",{type:r}),url:n}):null},t._renderButton=function(){if(!t._shouldRenderButton())return null;var e=t.props.data;return e.buttonText?i.createElement("div",{className:L("button")},i.createElement(k.a,{useParentState:!0,name:"specify_building_button",nodeState:{suggest_log_id:"log_id"in e?"string"==typeof e.log_id?e.log_id:JSON.stringify(e.log_id):void 0},logClick:!0},i.createElement(A.a,{view:"secondary-blue",size:"small",onClick:t._onButtonClick},e.buttonText))):null},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=this._getIconForType(),r=n[0],o=n[1],a="avatarUrl"in t&&t.avatarUrl?t.isGroup?t.avatarUrl.replace("%s","XXS"):t.avatarUrl.replace("%s","drop-navi_x2"):void 0,s={};return"transit"===t.type&&(s={backgroundColor:y.j(t.vehicleType)}),i.createElement("li",{className:L({selected:e.selected,alias:o,transit:"transit"===t.type,toponym:"toponym"===t.type||"other-toponym"===t.type,group:"isGroup"in t&&t.isGroup}),onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown},a?i.createElement("div",{className:L("avatar-wrapper")},i.createElement("div",{className:L("avatar"),style:{backgroundImage:"url("+a+")"}})):i.createElement(M.a,{className:L("icon"),url:r,style:s}),this._renderHeader(),this._renderTitle("subtitle"),this._renderButton())},t}(i.Component),z=Object(d.b)(D),q=(n(599),Object(c.a)("search-form-view")),B=5,F={search:O.a.search,openCard:S.a.openCard,searchCategoryNearby:O.a.searchCategoryNearby,openCategory:O.a.openCategory,updateSearch:O.a.updateSearch,updateSearchText:E.a.updateSearchText,toggleHeader:E.a.toggleHeader,openCovidMap:j.a.open},U=Object(l.a)(f.b,d.b,s.b(function(e){var t,n,r=m.g(e,"usermaps"),o=m.g(e,"routes"),i=o[o.length-1],a=null==i?void 0:null===(t=i.routerResponse)||void 0===t?void 0:null===(n=t.routes[i.activeRouteIndex])||void 0===n?void 0:n.coordinates;return{mapLocation:e.map.location,region:e.mapRegion,userLocation:e.geolocation,formType:e.form.formType,routeCoordinates:a,isEmptyStack:0===e.stack.length,isUsermaps:Boolean(r.length)}},F),p.b),H=function(e){function t(t){var n;return(n=e.call(this,t)||this)._input=null,n._analyticsRef=i.createRef(),n._suggestAnalyticsRef=i.createRef(),n._onSuggestItemClick=function(e){e.onClick&&e.onClick(),n.props.onSuggestClick&&n.props.onSuggestClick()},n._suggestHistoryLoader=function(){return"places-tab"===n.props.formType.origin?Promise.resolve([]):h.m(n.props.config).then(function(e){return[{title:"История",items:e.slice(-B).map(function(e){return{type:"history",text:e.text,title:{text:e.text}}}).reverse()}]})},n._suggestLoader=function(e,t){if("nearby"===n.props.formType.id){if(!e)return Promise.resolve({items:[]})}else if(!e)return n._suggestHistoryLoader();var r=n.props.getToday().getTime()+"_"+Math.floor(1e6*Math.random()),o=n.props.mapLocation,i=n.props.userLocation.currentPosition,a={bases:"geo,biz,transit",add_rubrics_loc:1,add_chains_loc:1,part:e,pos:t,spn:o.span&&o.span.join(","),ll:o.center.join(","),ull:i?Object(w.a)(i):void 0,client_reqid:r,origin:"maps-search-form"};n.props.config.experiments.ui.moreSnippetsInSuggest&&(a.n=10);var s=n.props.config.experiments.suggestParams;return s&&Object.entries(s).forEach(function(e){var t=e[0],n=e[1];return a[t]=n.join(",")}),n._analyticsRef.current&&n._analyticsRef.current.logEvent("request",{part:e,client_reqid:r}),v.a.fetch(a,n.props.config).then(function(e){return{items:e.results.map(function(e){return"object"==typeof e.title&&!e.title.text&&e.subtitle&&(e.title=e.subtitle,delete e.subtitle),e}),rawResponse:e}})},n._hideInput=function(){var e=n.props;e.config.query["no-header"]&&e.toggleHeader(!1)},n._onTextSubmit=function(e){var t,r=n.props,o=null===(t=n.props.isTextChanged)||void 0===t||t,i=!r.text||!o&&!r.allowSubmitUnchangedText;if(window.document.activeElement!==n._input&&i){var a=n._input;return a.focus(),void(a.setSelectionRange&&a.setSelectionRange(a.value.length,a.value.length))}n._logEvent(r.text,e),n._submit({text:r.text})},n._onFormSubmit=function(e){e.preventDefault(),n._onTextSubmit("enter")},n._onSelectSuggestItem=function(e,t){var r=t.value,o=t.itemIndex,i=t.type,a=t.data,s={clientUsecase:"suggest",text:e};a&&a.rawResponse&&(s.suggest_reqid=a.rawResponse.suggest_reqid),r?("action"in r&&(s.action=r.action,s.personalizationInfo=r.personalization_info,s.uri=r.uri,s.search_query=r.search_query||r.text),s.type=r.type,n._suggestAnalyticsRef.current&&n._suggestAnalyticsRef.current.logEvent("click",{suggest_log_id:"log_id"in r?"string"==typeof r.log_id?r.log_id:JSON.stringify(r.log_id):void 0,suggest_reqid:s.suggest_reqid,index:o})):"enter"===i&&n._logEvent(e,i),n._submit(s)},n._onCatalogItemClick=function(e){var t=n.props;"nearby"===t.formType.id&&t.formType.data?t.searchCategoryNearby(e,t.formType.data.place):t.openCategory(e.category,{mobileViewState:"mini"},{origin:"form",displayText:e.displayText}),u.a.reachGoal("search_form_submit"),n._hideInput()},n._triggerInputChange=function(){n._input&&(n._input.blur(),n._input.focus())},n._submit=function(e){var t=e.text.trim();n.props.onInputChange(t),n._addPersonalSuggest(e),n._updateSearch(e),u.a.reachGoal("search_form_submit"),n._initialUserInput=t||"",n._input.blur(),e.search_query&&e.search_query!==e.text||h.n(e,n.props.config),n._hideInput()},n._addPersonalSuggest=function(e){(e.personalizationInfo||e.uri)&&v.a.addPersonal({prefix:n._initialUserInput,suggest:e.personalizationInfo?JSON.stringify(e.personalizationInfo):e.uri,suggest_reqid:e.suggest_reqid},n.props.config,n.props.timeContext)},n._logEvent=function(e,t){n._analyticsRef.current&&n._analyticsRef.current.logEvent(t,{initial_query:e})},n._updateSearch=function(e){var t=n.props,r=e.text.trim();if(t.updateSearchText(e.text),e.uri&&!g.k(e.uri))t.openCard({from:"search",origin:"form",suggestReqid:e.suggest_reqid,clientUsecase:e.clientUsecase,center:t.mapLocation.center,span:t.mapLocation.span,id:"business"===e.type?g.d(e.uri):void 0,uri:e.uri},{mobileViewState:"mini"});else if(r){var o={searchType:"TEXT",text:r,origin:"form",suggestReqid:e.suggest_reqid,clientUsecase:e.clientUsecase,center:t.mapLocation.center,span:t.mapLocation.span},i=t.formType,a="data"in i&&i.data&&"place"in i.data?i.data.place:void 0;e.search_query&&(o.text=e.search_query,o.displayText=r),o.nearbyPlace=a,"nearby"===t.formType.id&&(o.restrictSpan=1,o.autoscale=!1),"origin"in i&&i.origin&&(o.origin=i.origin),o.zoom=t.mapLocation.zoom,o.bounds=t.mapLocation.bounds,t.routeCoordinates&&(o.routeCoordinates=b.K(t.routeCoordinates,t.mapLocation.zoom)),t.isUsermaps&&(o.isUsermaps=t.isUsermaps),!e.search_query&&e.uri&&g.k(e.uri)&&(o.type=["geo"]);var s=o.isUsermaps||o.routeCoordinates||"nearby"===t.formType.id?"push":"reset";t.search(o,{mobileViewState:"mini",stackAction:s})}},n._onInputChange=function(e,t){n.props.onInputChange(e,t),t&&"arrow"===t.reason||(n._initialUserInput=e)},n._onInputFocus=function(){n.props.onFocus&&n.props.onFocus()},n._onInputPaste=function(){n._triggerInputChange()},n._onSuggestHide=function(){n.setState({suggestIsShown:!1}),n.props.onBlur&&n.props.onBlur(),n._hideInput()},n._onResponseSuccess=function(e){var t=n.props.showCatalogIcons,r=e.groups.reduce(function(e,t){return e+t.items.length},0);n.setState({suggestIsShown:r>0||t})},n._fieldRef=function(e){n._input=e,n.props.fieldRef&&n.props.fieldRef(e)},n._preventScroll=function(e){e.preventDefault(),e.stopPropagation()},n._mapSuggestItemToString=function(e){return"history"===e.type?e.text.trim():e.title.text.trim()},n._parseDropItem=function(e){var t=e.content,o="tags"in t&&t.tags||[],i=n.props.userLocation.currentPosition&&"distance"in t&&t.distance?t.distance.value:void 0,a="avatar_url"in t&&t.avatar_url&&!o.includes("ERT_ORGANIZATION_FAKE_CHAIN")?t.avatar_url:void 0,s="button_text"in t&&t.button_text?t.button_text:void 0;if("history"===t.type)return{type:t.type,title:t.text};var c={title:t.title,buttonText:s,log_id:t.log_id};if("personal"===t.type){if(o.includes("home"))return Object(r.a)(Object(r.a)({type:"home"},c),{},{subtitle:t.subtitle,distance:i});if(o.includes("work"))return Object(r.a)(Object(r.a)({type:"work"},c),{},{subtitle:t.subtitle,distance:i});if(o.includes("query"))return Object(r.a)(Object(r.a)({type:"query"},c),{},{personal:!0})}if("toponym"===t.type&&o.includes("other"))return Object(r.a)(Object(r.a)({type:"other-toponym"},c),{},{subtitle:t.subtitle,distance:i});if("query"===t.type)return Object(r.a)({type:"query"},c);if("transit"===t.type){var u=o.find(function(e){return y.D(e)});return y.D(u)?Object(r.a)(Object(r.a)({type:"transit"},c),{},{subtitle:t.subtitle,vehicleType:u}):null}if(o.includes("bus stop"))return Object(r.a)(Object(r.a)({type:"transit-stop"},c),{},{subtitle:t.subtitle,isGroup:t.group});if("toponym"===t.type){var l=Object(r.a)(Object(r.a)({},c),{},{subtitle:t.subtitle,distance:i});return o.includes("other")?Object(r.a)({type:"other-toponym"},l):Object(r.a)(Object(r.a)({type:t.type},l),{},{rubrics:o})}return Object(r.a)(Object(r.a)({type:t.type},c),{},{subtitle:"subtitle"in t?t.subtitle:void 0,rubrics:o,isBookmark:o.includes("bookmark"),isGroup:"group"in t&&t.group,distance:i,avatarUrl:a})},n._renderDropWrapper=function(e,t){var r=t.groups.reduce(function(e,t){return e+t.items.length},0),o=t.rawResponse&&t.rawResponse.suggest_reqid,a=!o;return i.createElement(k.a,{key:a?"client":o,name:a?"client_suggest":"suggest",nodeState:{query:n.props.text,suggest_reqid:o,client_reqid:t.rawResponse&&t.rawResponse.client_reqid,length:r},nodeRef:n._suggestAnalyticsRef},e)},n._renderDropItem=function(e){var t=n.props.config.experiments.ui;if(t.newDsgnOfSnippetsInSuggest||t.newDsgnOfSnippetsInSuggestWithLightIcons){var r=n._parseDropItem(e);return r?i.createElement(z,{key:e.key,selected:e.selected,data:r,inputValue:n.props.text,onClick:function(){return n._onSuggestItemClick(e)},onButtonClick:e.onButtonClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}):null}var o=e.content,a="tags"in o&&o.tags||[];return i.createElement(T.a,{key:e.key,selected:e.selected,title:o.title||o.text,subtitle:"subtitle"in o?o.subtitle:void 0,type:o.type,tags:a,onClick:function(){return n._onSuggestItemClick(e)},onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})},n._renderCatalog=function(){var e=n.props,t="places-tab"===e.formType.origin,r=_.a(void 0,{limit:t?16:8,region:e.region,config:e.config});return i.createElement("div",{className:q("catalog",{touch:e.touchVersion,borderless:t})},i.createElement(C.a,{items:r,onClick:n._onCatalogItemClick,size:"large",theme:"negative"}))},n.state={suggestIsShown:!1},n._initialUserInput=t.text||"",n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props;(e.formType.id!==t.formType.id&&"common"!==t.formType.id||!e.isFocused&&t.isFocused)&&this._input.click()},n.render=function(){var e,t,n,r=this,o=this.props,s=this.state,c=null!==(e=o.view)&&void 0!==e?e:"default",u=null!==(t=o.inputView)&&void 0!==t?t:"search",l=null!==(n=o.showClear)&&void 0!==n&&n||"places-tab"===o.formType.origin,d=o.inactive?"div":"form",f={search:function(){return r._onTextSubmit("click")},cancel:function(e){o.isTextChanged&&o.updateSearch({}),e&&r._onSuggestHide()}},p=[q({view:c,suggested:s.suggestIsShown,touch:o.touchVersion}),o.className].filter(Boolean).join(" "),v=o.inputLeftIcons?[o.inputLeftIcons(f)]:void 0,h=o.inputRightIcons?[o.inputRightIcons(f)]:void 0;return i.createElement(k.a,{name:"search_form",nodeRef:this._analyticsRef},i.createElement(d,{action:"form"===d?"":void 0,className:p,onSubmit:this._onFormSubmit,onWheel:this._preventScroll},o.renderLeftIcons?o.renderLeftIcons(f):null,i.createElement("div",{className:q("input",{hide:m.m(o.config)})},i.createElement(I.a,{isPhone:!1,fieldRef:this._fieldRef,analyticsRef:this._analyticsRef,value:o.text,view:u,placeholder:o.placeholder||"Поиск мест и адресов",showClear:l,disabled:o.disabled,tabIndex:o.config.uatraits.isMobile?-999:void 0,shouldForceOpenSuggest:o.shouldForceOpenSuggest,setForceOpenSuggest:o.setForceOpenSuggest,fullHeight:o.fullHeight,leftIcons:v,rightIcons:h,renderDropWrapper:this._renderDropWrapper,renderDropItem:this._renderDropItem,mapItemToString:this._mapSuggestItemToString,loader:this._suggestLoader,onSelect:this._onSelectSuggestItem,onChange:this._onInputChange,onFocus:this._onInputFocus,onPaste:this._onInputPaste,onHide:this._onSuggestHide,onResponseSuccess:this._onResponseSuccess,onSuggest:o.onSuggest,renderDropInPopup:!0,renderExtraFirst:o.renderExtraFirst,contentMargin:"0",requestOnEmpty:!o.noRequestOnEmpty,initialFocus:o.initialFocus,initialSuggest:o.initialSuggest,getTarget:function(){return a.findDOMNode(r)},renderExtra:o.showCatalogIcons?this._renderCatalog:void 0,showOnEmpty:o.showCatalogIcons,showSuggestOnClear:o.showSuggestOnClear,showSuggestOnFocus:o.showSuggestOnFocus,collapsed:o.collapsed}),i.createElement(R.a,{chunk:"search"}),i.createElement(R.a,{chunk:"search-snippet"})),i.createElement(R.a,{chunk:"home"}),o.renderRightIcons?o.renderRightIcons(f):null))},t}(i.Component);t.a=U(H)},960:function(e,t,n){"use strict";n(1375);var r=n(4),o=n(7),i=Object(o.a)("text-highlight");t.a=function(e){var t=e.ranges.map(function(e){return e.slice(0,2)}),n=Array.prototype.concat.apply([],t);n=n.sort(function(e,t){return e-t});var o=!0;return 0!==n[0]&&(n.unshift(0),o=!1),n[n.length-1]!==e.text.length&&n.push(e.text.length),r.createElement("span",{className:i()},n.map(function(t,i){var a=e.text.substring(t,n[i+1]);return i%2==(o?0:1)?r.createElement("em",{key:i},a):r.createElement("span",{key:i},a)}))}},962:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c});var r=n(963),o=new(function(){function e(){this._queue=[],this.index=0}var t=e.prototype;return t.set=function(e,t){this.index=e,this._queue[e]=t},t.get=function(e){return void 0===e&&(e=this.index),this._queue[e]||[]},e}()),i=Date.now(),a=[];function s(e){var t=e.state;if(t&&t.sessionId!==i)window.location.replace(t.url);else{var n=t?t.index:o.index-1,r=n-o.index>0?"forward":"backward";o.index=n;var s=o.get(n),c=Math.max(0,("forward"===r?-1:1)+n),u=o.get(c),l=u[u.length-1]||null;a.forEach(function(e){e({direction:r,state:t,stack:s,prevStackItem:l})})}}function c(e){return 0===a.length&&window.addEventListener("popstate",s),a.push(e),function(){return t=e,void(0===(a=a.filter(function(e){return t!==e})).length&&window.removeEventListener("popstate",s));var t}}function u(e,t,n){void 0===e&&(e="replace");var a={index:(window.history.state||{}).index||0,url:t,sessionId:i};"push"===e&&(a.index+=1),o.set(a.index,n),r.a(e,a,t)}function l(e){var t={index:0,url:e,sessionId:i};o.index=0,r.a("replace",t)}},963:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(273).a.getLogger("location");function o(e,t,n){var o="replace"===e;if(!o||window.location.href!==n){r(e,n);try{var i=o?"replaceState":"pushState";window.history[i](t,window.document.title,n)}catch(a){console.error(a)}}}},964:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},t.merge=function(e,n,o){if(!n)return e;if("object"!=typeof n){if(Array.isArray(e))e.push(n);else{if("object"!=typeof e)return[e,n];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!=typeof e)return[e].concat(n);var i=e;return Array.isArray(e)&&!Array.isArray(n)&&(i=t.arrayToObject(e,o)),Array.isArray(e)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(e,i)?e[i]&&"object"==typeof e[i]?e[i]=t.merge(e[i],n,o):e.push(n):e[i]=n}),e):Object.keys(n).reduce(function(e,i){var a=n[i];return r.call(e,i)?e[i]=t.merge(e[i],a,o):e[i]=a,e},i)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var i=t.charCodeAt(r);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=t.charAt(r):i<128?n+=o[i]:i<2048?n+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?n+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(r)),n+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return n},t.compact=function(e,n){if("object"!=typeof e||null===e)return e;var r=n||[],o=r.indexOf(e);if(-1!==o)return r[o];if(r.push(e),Array.isArray(e)){for(var i=[],a=0;a<e.length;++a)e[a]&&"object"==typeof e[a]?i.push(t.compact(e[a],r)):void 0!==e[a]&&i.push(e[a]);return i}return Object.keys(e).forEach(function(n){e[n]=t.compact(e[n],r)}),e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},965:function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},966:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(342);function o(e){return Object(r.a)(e,-180,180)}},967:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1209),o=n(1210);function i(e,t){var n=Object(r.a)(e),i=Object(r.a)(t),a=Object(o.a)(e),s=Object(o.a)(t);return Math.abs(n[0]-i[0])<.5*(a[0]+s[0])&&Math.abs(n[1]-i[1])<.5*(a[1]+s[1])}},968:function(e,t){var n,r=Object({}).crypto||Object({}).msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n},969:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},97:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119);var o=Object(r.a)("scroll",{addListener:function e(){return e},getScrollableNode:function(){return null},scrollId:""}),i=o.connect,a=o.Provider;t.b=i},970:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=["overview","menu","prices","inside","posts","gallery","reviews","edadeal","related","booking","coupons","events","realty","features"],o=["overview","services","inside"]},971:function(e,t,n){"use strict";var r=Object({}).Object===Object&&Object({});t.a=r},972:function(e,t,n){"use strict";var r=n(229),o=n(659),i=n(44),a=n(94),s=1/0,c=r.a?r.a.prototype:void 0,u=c?c.toString:void 0;t.a=function e(t){if("string"==typeof t)return t;if(Object(i.a)(t))return Object(o.a)(t,e)+"";if(Object(a.a)(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},973:function(e,t,n){"use strict";var r=n(588);t.a=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:Object(r.a)(e,t,n)}},974:function(e,t,n){"use strict";(function(e){var r=n(971),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();t.a=s}).call(this,n(975)(e))},975:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},976:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(450);function o(e,t){var n=Object(r.a)(e[0],t),o=n[0],i=n[1],a=Object(r.a)(e[1],t),s=a[0],c=a[1];return[[Math.min(o,s),Math.min(i,c)],[Math.max(o,s),Math.max(i,c)]]}},977:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1236),o=n(194),i=n(342),a=n(193),s=n(657),c=n(978);function u(e){return Math.abs(e-Object(c.a)(e)*Math.PI/2)<a.i?Object(c.a)(e)*Math.PI/2:Math.atan((1-a.b)*Math.tan(e))}function l(e,t,n){return function(o){var i=Object(r.a)(e,t,n*o);return{point:i.endPoint,direction:i.endDirection}}}function d(e,t,n){if(e===t||e[0]===t[0]&&e[1]===t[1]){var r=[1,1];return{startPoint:e,startDirection:r,endPoint:t,endDirection:r,distance:0,pathFunction:l(e,r,0)}}e[1]=Object(s.a)(e[1]),t[1]=Object(s.a)(t[1]);var d,f,p,v=Object(o.a)(e[1]),m=Object(o.a)(t[1]),h=Object(o.a)(t[0]-e[0]),g=u(v),y=u(m),b=h,_=b,w=0,E=0;if(0===v&&0===m){var O=Object(i.a)(t[0]-e[0],n?-360:-180,n?360:180);p=[(f=[O>0?1:-1,0])[0],f[1]],E=2*Math.PI*a.j/360*Math.abs(O)}else{var S=void 0,j=void 0,k=void 0,C=void 0,T=void 0,I=void 0,R=void 0;do{S=Math.sqrt(Math.pow(Math.cos(y)*Math.sin(b),2)+Math.pow(Math.cos(g)*Math.sin(y)-Math.sin(g)*Math.cos(y)*Math.cos(b),2)),j=Math.sin(g)*Math.sin(y)+Math.cos(g)*Math.cos(y)*Math.cos(b),T=n?2*Math.PI-Math.atan2(S,j):Math.atan2(S,j),k=Math.cos(g)*Math.cos(y)*Math.sin(b)/Math.sin(T),C=1-Math.pow(k,2),I=Math.cos(T)-2*Math.sin(g)*Math.sin(y)/C,R=a.b/16*C*(4+a.b*(4-3*C)),b=Math.min(Math.max(h+(1-R)*a.b*k*(T+R*Math.sin(T)*(I+R*Math.cos(T)*(2*I*I-1))),-2*Math.PI),2*Math.PI),d=Math.abs(_-b),_=b,w++}while(d>a.i&&w<10);var x=C*(a.j*a.j-a.l*a.l)/(a.l*a.l),M=1+x*(4096+x*(x*(320-175*x)-768))/16384,P=x*(256+x*(x*(74-47*x)-128))/1024,N=P*Math.sin(T)*(I+.25*P*(Math.cos(T)*(2*I*I-1)-1/6*P*I*(4*Math.sin(T)*Math.sin(T)-3)*(4*I*I-3))),A=Math.atan2(Math.cos(y)*Math.sin(b),Math.cos(g)*Math.sin(y)-Math.sin(g)*Math.cos(y)*Math.cos(b)),L=Math.atan2(Math.cos(g)*Math.sin(b),-Math.sin(g)*Math.cos(y)+Math.cos(g)*Math.sin(y)*Math.cos(b));E=a.l*M*(T-N),n&&(A-=Object(c.a)(A-Math.PI)*Math.PI,L-=Object(c.a)(L-Math.PI)*Math.PI),f=[Math.sin(A),Math.cos(A)],p=[Math.sin(L),Math.cos(L)]}return{startPoint:e,startDirection:f,endPoint:t,endDirection:p,distance:E,pathFunction:l(e,f,E)}}},978:function(e,t,n){"use strict";function r(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1}n.d(t,"a",function(){return r})},979:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1237),o=n.n(r),i=n(140);function a(e){var t=function(e){var t,n,r=null!==(t=null===(n=e.szm)||void 0===n?void 0:n.value.split(":"))&&void 0!==t?t:[],o=r[0],i=r[2];if(o&&i){var a=i.split("x"),s=a[0],c=a[1],u=Number(o.replace("_",".")),l=Number(s),d=Number(c);if(!(isNaN(u)||isNaN(l)||isNaN(d)))return{devicePixelRatio:u,viewport:{width:l,height:d}}}}(e);if(t)return{display:t}}function s(e){var t=i.a.get("yp",e);return t?a(o.a.parseYpCookie(t)):void 0}},980:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.INSTRUCTION="instruction",e.OFFERS="offers",e.ANALOGS="analogs"}(r||(r={}))},981:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return c});var r=n(10),o=n(253),i=n(980),a=n(159),s=n(440);function c(e,t,n){var r=function(e,t){var n=function(e,t){return"all"!==t?e.manufacturers.find(function(e){return e.name===t}):void 0}(e,t),r=null==n?void 0:n.drugIds;return r?e.variants.filter(function(e){return e.drugIds.find(function(e){return r.includes(e)})}).map(function(e){return s.a({item:e,manufacturerDrugIds:r})}):e.variants}(e,t),o=r.find(function(e){return e.id===n});return(null==o?void 0:o.isAvailable)?o:r.find(function(e){return e.isAvailable})||r[0]}function u(e,t){var n,r,i,s,c,u=null===(n=e.pharmacy)||void 0===n?void 0:null===(r=n.map)||void 0===r?void 0:r.preloadedResults.delivery,l=null===(i=e.pharmacy)||void 0===i?void 0:null===(s=i.map)||void 0===s?void 0:s.preloadedResults.booking,d=(null==l?void 0:l.bounds)&&(null==u?void 0:u.bounds)?o.a(l.bounds,u.bounds):null!==(c=null==l?void 0:l.bounds)&&void 0!==c?c:null==u?void 0:u.bounds,f={center:e.mapLocation.center,zoom:e.mapLocation.zoom||a.i};if(d&&!(null==t?void 0:t.minimapReset)){var p=o.e(d,o.f(a.G,a.F),!1);f={center:o.b(d),zoom:p}}return{size:a.G,margin:a.F,location:f}}function l(e,t){var n,r,o,i;if(null==t?void 0:t.minimapReset)return{isLoading:!1,delivery:void 0,booking:void 0,totalResultCount:void 0};var a=null===(n=e.pharmacy)||void 0===n?void 0:null===(r=n.map)||void 0===r?void 0:r.preloadedResults.delivery,s=null===(o=e.pharmacy)||void 0===o?void 0:null===(i=o.map)||void 0===i?void 0:i.preloadedResults.booking;return{isLoading:!1,delivery:null==a?void 0:a.items,booking:null==s?void 0:s.items,totalResultCount:{delivery:(null==a?void 0:a.totalResultCount)||0,booking:(null==s?void 0:s.totalResultCount)||0}}}function d(e,t,n){var o,s,c,d=Object(r.a)(Object(r.a)({},e),{},{pharmacies:l(t,n),minimap:u(t,n),activeTab:t.query[a.a]||i.a.INSTRUCTION});e.topAnalogs?d.analogs={isLoading:!1,drugs:null!==(o=null===(s=e.topAnalogs)||void 0===s?void 0:s.drugs)&&void 0!==o?o:[],total:null===(c=e.topAnalogs)||void 0===c?void 0:c.total,requestedCount:a.d}:d.analogs=void 0;return delete d.topAnalogs,d}},982:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n(10),o=n(666),i={isLoaded:!1,isLoading:!1,data:void 0,items:[],areAllLoaded:!1};function a(){return{assignments:{addAddressAssignment:Object(r.a)({},i),editOrganizationStatusAssignment:Object(r.a)({},i)},reviews:Object(r.a)({},i),feedback:Object(r.a)({},i),photos:{account:Object(r.a)({},i),organization:Object(r.a)({},i),data:{tab:o.a}},mrc:Object(r.a)({},i),impressions:Object(r.a)({},i)}}function s(e){var t,n,r={};"photos"===e.type?r={photos:(t={},t[e.tab]={data:e.data},t.data={tab:e.tab},t)}:((n={})[e.type]={data:e.data},r=n);return r}},983:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),c=n(1239),u=n(1143),l=n(1240);t.cacheControler=function(e){var t=0,n={},r={};return{cache:e,seed:c().toLowerCase(),get:function(e){return n[r[e].key]},set:function(t,n){var o=r[t],i=o.key,a=o.ttl;e.set(i,n,a)},store:function(e,t){return n[e]=t,this.assign(e,0)},assign:function(e,n){return r[++t]={key:e,ttl:n},t}}};var d=s.createContext({isServer:l.isThisServer(),hydrated:!1}),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hydrated:t.props.hydrated||!1},t}return o(t,e),t.prototype.componentDidMount=function(){this.props.hydrated&&this.setState({hydrated:!1})},t.prototype.render=function(){var e=this.props,t=e.children,n=a(e,["children"]);return s.createElement(u.UIDReset,null,s.createElement(d.Provider,{value:i({isServer:l.isThisServer(),hydrated:!1},n,this.state)},t))},t}(s.Component);t.PrerenderedControler=f,t.PrerenderedContext=d,t.PrerenderedControls=d.Consumer,t.TemplateControl=s.createContext({variables:{},isServer:!0,seed:""})},984:function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},985:function(e,t,n){"use strict";var r=n(444),o=n(100),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.a=function(e){if(!Object(o.a)(e))return!1;var t=Object(r.a)(e);return t==a||t==s||t==i||t==c}},986:function(e,t,n){"use strict";(function(e){var r=n(230),o=n(1244),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||o.a;t.a=c}).call(this,n(975)(e))},987:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(273).a.getLogger("requestId");function o(e){e.filter(function(e){return"requestId"===e.level}).forEach(function(e){return r(JSON.stringify(e))})}},988:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c});var r=n(34),o="__empty__",i="default";function a(e){var t={id:e.id,source:e.source?e.source:o,type:e.type?e.type:i,options:{raster:{},vector:{}}};return e.options&&(e.options.raster&&(t.options.raster=Object(r.a)({},e.options.raster)),e.options.vector&&(t.options.vector=Object(r.a)({},e.options.vector))),t}var s=/^(\w+)?(?::(\w+)(?:\((.*)\))?)?$/;function c(e,t){var n=e.match(s);if(!n||0===n[0].length)throw new Error("Bad string layer spec '"+e+"'");for(var o=n[1],i=n[2],a=n[3],c=a?a.split(","):[],u=Object.create(null),l=0,d=c;l<d.length;l++){u[d[l]]=!0}return{id:e,source:o,type:i,options:{raster:Object(r.a)(Object(r.a)({},u),null==t?void 0:t.raster),vector:Object(r.a)(Object(r.a)({},u),null==t?void 0:t.vector)}}}},989:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s});var r,o={failIfMajorPerformanceCaveat:!0,antialias:!1,depth:!0,alpha:!1,stencil:!1};function i(){try{var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("webgl",o);if(t)return t}catch(n){}c()}function a(e){if(void 0===r){var t=e||i();t?r=function(e){for(var t=!0,n=[],r=0,o=["requestAnimationFrame","Worker","URL","Blob","XMLHttpRequest","Set","Map"];r<o.length;r++){var i=o[r];window[i]||(t=!1,n.push("WindowPropertyNotExist-"+i))}"function"!=typeof Math.trunc&&(t=!1,n.push("MathTrunc"));0===e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)&&(t=!1,n.push("MAX_VERTEX_TEXTURE_IMAGE_UNITS"));e.getExtension("OES_vertex_array_object")||(t=!1,n.push("OES_vertex_array_object"));e.getExtension("OES_standard_derivatives")||(t=!1,n.push("OES_standard_derivatives"));var a=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);a&&0!==a.precision||(t=!1,n.push("Highp"));(function(e){if(!e)return!1;var t=e.createShader(e.VERTEX_SHADER);if(!t)return!1;e.shaderSource(t,"#version 100\nattribute vec2 p;\nvoid main() {\n    gl_Position = vec4(p,0,1);\n    gl_PointSize = 1.0;\n}"),e.compileShader(t);var n=e.createShader(e.FRAGMENT_SHADER);if(!n)return!1;e.shaderSource(n,"#version 100\nvoid main() {\n    gl_FragColor = vec4(1, 0, 0, 1);\n}"),e.compileShader(n);var r=e.createProgram();if(!r)return!1;e.attachShader(r,t),e.attachShader(r,n),e.bindAttribLocation(r,0,"p"),e.linkProgram(r);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0]),e.STATIC_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0),e.clearColor(0,1,0,1),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(r),e.drawArrays(e.POINTS,0,1);var i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteBuffer(o),e.deleteShader(t),e.deleteShader(n),e.deleteProgram(r),255===i[0]})(e)||(t=!1,n.push("TestPoints"));return{supported:t,reasonsFailed:n}}(t):c()}return r}function s(){return r?r.supported:window.WebGLRenderingContext?(t=navigator.userAgent,!(!(/YandexSearch\//.test(t)||/YaApp/.test(t)||/YaBrowser\/[0-9][0-9.]* YaApp_iOS\/[0-9][0-9.]*/.test(t))&&!/MiuiBrowser\//.test(t)&&/Mac OS X [0-9_]+;.*HTC[_\/ ]/.test(t)||/Mac OS X 10_[0-8][^0-9]/.test(navigator.userAgent)||/SamsungBrowser\//.test(t)||(e=navigator.userAgent.match(/WebKit\/?(\d+)/i),Boolean(e&&Number(e[1])<537))||function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/i);return!!e&&Number(e[1])<57}())||(c(),!1)):(c(),!1);var e,t}function c(){r={supported:!1,reasonsFailed:["HasWebGl"]}}},990:function(e,t,n){"use strict";var r=n(108),o=n(967),i=n(141),a={getTimings:function(e,t){var n=new RegExp("/tiles\\?.*l=("+e.join("|")+")"),a=i.a.getResourcesTimings(function(e){return n.test(e)}).filter(function(e){var n=r.parse(e.name),i=[[256*Number(n.x),256*Number(n.y)],[256*(Number(n.x)+1),256*(Number(n.y)+1)]];return Object(o.a)(t,i)&&e.responseEnd<6e5&&e.responseEnd>0&&e.duration<6e5&&e.duration>=0});if(0!==(a=a.filter(function(e,t){var n=e.name;return a.findIndex(function(e){return e.name===n})===t})).length){a.sort(function(e,t){return t.responseEnd-e.responseEnd});var s=a.reduce(function(e,t){return e+t.duration},0);return{averageDuration:Math.round(s/a.length),minLoadEnd:Math.round(a[a.length-1].responseEnd),medianaLoadEnd:Math.round(a[Math.floor(a.length/2)].responseEnd),maxLoadEnd:Math.round(a[0].responseEnd)}}}};t.a=a},991:function(e,t,n){"use strict";n(1261);var r=n(4),o=n(7),i=Object(o.a)("rounded-controls");t.a=function(e){var t=r.Children.toArray(e.children).filter(Boolean);return 0===t.length?null:r.createElement("div",{className:i()},t.map(function(e,t){return r.createElement("div",{className:i("child"),key:t},e)}))}},992:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.757 3H5.243c-.78 0-1.063.081-1.348.234a1.59 1.59 0 0 0-.661.661C3.08 4.18 3 4.463 3 5.243v9.514c0 .78.081 1.063.234 1.348.152.285.376.509.661.661.285.153.568.234 1.348.234h9.514c.78 0 1.063-.081 1.348-.234.285-.152.509-.376.661-.661.153-.285.234-.568.234-1.348V5.243c0-.78-.081-1.063-.234-1.348a1.59 1.59 0 0 0-.661-.661C15.82 3.08 15.537 3 14.757 3zM4.75 14.757V5.243c0-.227.008-.38.02-.473.093-.012.246-.02.473-.02h9.514c.227 0 .38.008.473.02.012.093.02.246.02.473v9.514c0 .227-.008.38-.02.473-.093.012-.246.02-.473.02H5.243c-.227 0-.38-.008-.473-.02a4.164 4.164 0 0 1-.02-.473z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.243 7h9.514c.78 0 1.063.081 1.348.234.285.152.509.376.661.661.153.285.234.568.234 1.348v9.514c0 .78-.081 1.063-.234 1.348a1.591 1.591 0 0 1-.661.661c-.285.153-.568.234-1.348.234H9.243c-.78 0-1.063-.081-1.348-.234a1.59 1.59 0 0 1-.661-.661C7.08 19.82 7 19.537 7 18.757V9.243c0-.78.081-1.063.234-1.348a1.59 1.59 0 0 1 .661-.661C8.18 7.08 8.463 7 9.243 7z" fill="currentColor"/></svg>'},993:function(e,t,n){"use strict";var r=n(6),o=n(4),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return this.props.children},t}(o.PureComponent);t.a=i},994:function(e,t,n){"use strict";var r=n(6),o=(n(1301),n(4)),i=n(7),a=n(38),s=n(8),c=Object(i.a)("mode-switcher-view"),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderItem=function(e){var n=t.props,r=e.key===n.selectedKey,i=o.createElement("div",{className:c("item",{active:r,disabled:e.disabled,key:e.key}),onClick:function(){return n.onClick(e.key)}},e.title);return e.url&&(i=o.createElement(a.a,{href:e.url},i)),o.createElement(s.a,{key:e.key,name:e.key,nodeState:{checked:r},logClick:!0},i)},t}return Object(r.a)(t,e),t.prototype.render=function(){return o.createElement(s.a,{name:"switcher"},o.createElement("div",{className:c()},this.props.items.map(this._renderItem)))},t}(o.Component);t.a=u},995:function(e,t,n){"use strict";var r=n(4),o=n(12),i=n(8),a=n(345),s=n(994),c={setGraphType:a.a.setGraphType},u=o.b(function(e){return{graphType:e.mrc.graphType}},c);t.a=u(function(e){return r.createElement(i.a,{name:"mrc_switcher"},r.createElement(s.a,{selectedKey:e.graphType,items:[{key:"road",title:"Автомобильные"},{key:"pedestrian",title:"Пешие"}],onClick:function(t){return e.setGraphType(t)}}))})},996:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 5.992c0-.537.448-.992 1-.992.556 0 1 .444 1 .992V11h5.008c.537 0 .992.448.992 1 0 .556-.444 1-.992 1H13v5.008c0 .537-.448.992-1 .992-.556 0-1-.444-1-.992V13H5.992C5.455 13 5 12.552 5 12c0-.556.444-1 .992-1H11V5.992z" fill="currentColor"/></svg>'},997:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 12a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1z" fill="currentColor"/></svg>'},998:function(e,t,n){"use strict";function r(e){return parseInt(e,16)}function o(e){var t=e.color.slice(1);return"rgba("+r(t.slice(0,2))+", "+r(t.slice(2,4))+", "+r(t.slice(4,6))+", "+(void 0===e.opacity?1:e.opacity)+")"}n.d(t,"a",function(){return o})},999:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 12c0 5.523 4.477 10 10 10s10-4.477 10-10-4.477-10-10-10-10 4.477-10 10z" fill="#CCC"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 12c0 5.523 4.477 10 10 10s10-4.477 10-10-4.477-10-10-10-10 4.477-10 10zm18.333 0a8.333 8.333 0 1 1-16.666 0 8.333 8.333 0 0 1 16.666 0z" fill="#000"/><path d="M9.75 2h2.5c5.514 0 10 4.486 10 10a5.605 5.605 0 0 1-3.976-1.65c-1.018-1.018-1.68-2.104-3.22-3.906C13.694 4.857 11.818 3.25 9.75 3.25c-4.136 0-7.5 3.926-7.5 8.75C1.456 11.059 1 10.005 1 8.875 1 5.085 3.547 2 9.75 2z" fill="#000"/></svg>'}}]);