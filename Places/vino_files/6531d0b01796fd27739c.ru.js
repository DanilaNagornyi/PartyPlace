(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["events"],{1079:function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(4),o=n.n(i),a=n(12),s=n(37),c=n(16),l=n(9),u=n(134),d=n(17),p=n(20),f=n(1080),m=n(2761),h=n(432),v=n(132),_=Object(p.a)({resolved:{},chunkName:function(){return"base"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,33))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 33}}),b=function(e){return{stackItem:c.h(e,"event")}},g={close:s.a.close,showCustomPhotos:v.a.showCustomPhotos},w=Object(d.a)(a.b(b,g),l.b),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onPhotoClick=function(e){var n=t.props.stackItem;if(null==n?void 0:n.success){var r=Object(h.a)(n.event).images;if(r){var i=String(r.indexOf(e));t.props.showCustomPhotos({meta:{id:i,skipAdvert:!1},isPreviewMode:!1,photos:r.map(function(e,t){return{id:String(t),url:e.urlTemplate.replace("%s","XXL")}}),selectedId:i})}}},t._renderPanel=function(e){var n=t.props;return i.createElement(_,{name:"event",analyticsName:"event_panel",renderMiniCard:function(){return t._renderMiniCard(e)}},e.success?i.createElement(m.a,{event:e.event,onClose:n.config.uatraits.isMobile?n.close:void 0,onPhotoClick:t._onPhotoClick}):i.createElement(u.a,null,"Что-то пошло не так.\nПопробуйте обновить страницу\nили зайти позднее."))},t._renderMiniCard=function(e){return e.success?i.createElement(f.a,{event:e.event,truncateTitle:!0}):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props.stackItem;return e?this._renderPanel(e):null},t}(i.Component);E.displayName="EventsComponent",t.default=w(E)},1080:function(e,t,n){"use strict";var r=n(6),i=(n(2316),n(4)),o=n(9),a=n(7),s=n(432),c=n(338),l=n(425),u=Object(a.a)("event-card-title-view"),d=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,n=Object(s.a)(t);return i.createElement(c.a,{title:n.title,truncateTitle:e.truncateTitle,onClose:e.onClose,onTitleClick:e.onTitleClick,sticky:!0},i.createElement("div",{className:u("rubric")},n.rubric),i.createElement("div",{className:u("actions")},i.createElement(l.a,{result:t,withText:!0})))},t}(i.Component);t.a=Object(o.b)(d)},1131:function(e,t,n){"use strict";n.r(t);var r,i=n(37),o=n(121),a=n(99),s=n(18),c=n(432),l={openMapEvent:function(e){return function(t,n,i){var u=i.config;s.a.cancel(r),Object(c.b)(e)?r=s.a.create(a.a.fetch({id:e.action.oid,origin:"internal"},u).then(function(e){return e.items[0]}),{success:function(e){return t(o.a.openPreloadedCard(e))}}):Object(c.c)(e)?t(l.openCardEvent(e)):Object(c.d)(e)&&window.open(e.action.url,"_blank")}},openCardEvent:function(e,t){return void 0===t&&(t={}),function(n){n((t.forcePush?i.a.push:i.a.replace)({event:e,eventId:e.id,success:!0,mode:"event"}))}}};t.default=l},1153:function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(4),o=n(12),a=n(17),s=n(2811),c=n(252),l=n(976),u=n(2809),d=n(967),p=n(18),f=n(9),m=n(25),h={getEvents:function(e,t){return Object(m.a)("events",{query:{center:e,eventsBranch:t.query.eventsBranch}},t)}},v=(n(2324),n(2807)),_=n(7),b=n(8),g=n(11),w=n(36),E=n(54),y=n(135),C=n(286),k=n(87),S=n(2326),O=n.n(S),x=Object(_.a)("event-placemark"),j={source:O.a,baseY:24,centerY:14,width:24,height:24},N=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hovered:!1},n}Object(r.a)(t,e);var n=t.prototype;return n._getBackgroundIcon=function(){return this.props.active?Object(y.a)({mode:"active"},this._renderIcon()):Object(y.a)({icon:j},this._renderIcon())},n._getPlacemarkBackgroundStyle=function(){var e=this.props.event.poiData,t=this._getBackgroundIcon();return{color:this.state.hovered?"#f43":e.iconColor,height:t.height,width:t.width}},n._getPlacemarkTextStyle=function(){var e=this.props.event.poiData,t=this.state.hovered?"#f43":e.labelColor;return{color:t,WebkitTextFillColor:t}},n._renderIcon=function(){var e=this.props,t=[].concat(e.event.poiData.iconTags,["fallback"]).map(function(t){return w.d({type:"rubrics",name:t,size:e.active?"normal":"small"},e.config)}).find(Boolean);return i.createElement("div",{className:x("icon")},t?i.createElement(g.a,{url:t}):null)},n._renderTitle=function(){var e=this.props,t=e.event.poiData,n=Object(v.a)(t.label.title,{length:40}),r=this._getBackgroundIcon();return e.active?i.createElement("div",{className:x("title"),style:{top:r.centerY,left:r.width}},i.createElement(C.a,{background:!0,position:"left",subtitleItems:[{property:[],text:e.event.formattedDate,type:"working_hours"}],showSubtitle:!0,title:n})):i.createElement("div",{className:x("title"),style:{transform:"translate("+(r.baseX-40)+"px, "+r.baseY+"px)"}},i.createElement("div",{className:x("title-content"),style:this._getPlacemarkTextStyle()},n.split(" ").map(function(e,t){return i.createElement("span",{key:t,className:x("word")},e)}),i.createElement("div",{className:x("subtitle-content")},Object(v.a)(t.label.subtitle,{length:40}).split(" ").map(function(e,t){return i.createElement("span",{key:t,className:x("word")},e)}))))},n.render=function(){var e=this,t=this.props,n=t.event.poiData,r=this._getBackgroundIcon();return i.createElement(b.a,{name:"event_placemark",nodeState:{id:t.event.id,zoom:Math.round(t.zoom)},logClick:!0},i.createElement(E.a,{nonInteractive:!0,coordinates:n.center,onClick:t.onClick,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},zIndex:k.a.default},i.createElement("div",{className:x({active:t.active,clickable:Boolean(t.onClick)}),style:{transform:"translate(-"+r.baseX+"px, -"+r.baseY+"px)"}},i.createElement("div",{className:x("placemark"),style:this._getPlacemarkBackgroundStyle()},r.element),this._renderTitle())))},t}(i.Component),P=Object(f.b)(N),M=n(785),B=[[-40,-14],[40,34]];function T(e,t){return t>=e.min&&t<=e.max}var I=function(e){function t(t){var n,r;return(r=e.call(this,t)||this)._concatNonIntersectingPlacemarks=function(e,t){return e.every(function(e){return!Object(s.a)(t.bounds,e.bounds)})&&e.push(t),e},r._fetchEventsWithinViewport=function(){var e=r.state;e.error||e.responses.some(r._isResponseSuitableForViewport)||(p.a.cancel(r._fetchAction),r._fetchAction=p.a.create(h.getEvents(r.props.mapLocation.center,r.props.config),{success:function(e){return r.setState(function(t){return{responses:[e].concat(t.responses)}})},fail:function(){return r.setState({error:!0})}}))},r._getEventPlacemark=function(e){var t=r.props.mapLocation.zoom,n=e.poiData.center,i=Object(c.a)(n,t),o=i[0],a=i[1],s=[[o+B[0][0],a+B[0][1]],[o+B[1][0],a+B[1][1]]];return{bounds:Object(l.a)(s,t),center:n,event:e}},r._getEvents=function(){var e=r.state.responses.filter(r._isResponseSuitableForViewport).reduce(function(e,t){return e.concat(t.events)},[]).filter(r._isEventWithinViewport),t=r.props.selectedEvent;return t?[t].concat(e.filter(function(e){return e.id!==t.id})):e},r._isEventWithinViewport=function(e){var t=r.props,n=t.mapLocation,i=t.selectedBusiness,o=e.zoomRange;return Object(u.a)(n.bounds,e.poiData.center)&&T(o,n.zoom)&&!("organizationCard"===e.action.type&&e.action.oid===(null==i?void 0:i.id))},r._isResponseSuitableForViewport=function(e){var t=r.props.mapLocation;return Object(d.a)(e.meta.bounds,t.bounds)&&T(e.meta.zoomRange,t.zoom)},r._isEventSelected=function(e){var t=r.props.selectedEvent;return e.id===(null==t?void 0:t.id)},r._renderPlacemarks=function(e){var t=r.props.mapLocation.zoom,n=r.props.openMapEvent;return e.map(function(e){return i.createElement(P,{active:r._isEventSelected(e.event),key:e.event.id,event:e.event,onClick:n?function(){return n(e.event)}:void 0,zoom:t})})},r._renderInvisibleCollidingPlacemarks=function(e){var t=e.map(function(e){return{anchor:e.center,id:e.event.id,pixelSize:B}});return i.createElement(M.a,{placemarks:t})},r.state={error:!1,responses:(null===(n=t.config.events)||void 0===n?void 0:n.mapEvents)?[t.config.events.mapEvents]:[]},r}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetchEventsWithinViewport()},n.componentDidUpdate=function(e){this.props.mapLocation!==e.mapLocation&&this._fetchEventsWithinViewport()},n.componentWillUnmount=function(){p.a.cancel(this._fetchAction)},n.render=function(){if("satellite"===this.props.mapType)return null;var e=this._getEvents().map(this._getEventPlacemark).reduce(this._concatNonIntersectingPlacemarks,[]);return i.createElement(i.Fragment,null,this._renderPlacemarks(e),this._renderInvisibleCollidingPlacemarks(e))},t}(i.Component),R=Object(f.b)(I),D=n(619),A=n(16),z={openMapEvent:D.a.openMapEvent},L=Object(a.a)(o.b(function(e){var t,n,r,i,o=A.h(e,"event"),a=A.h(e,"orgpage"),s=A.h(e,"search-result");a?r=null!==(i=a.result)&&void 0!==i?i:void 0:"business"===(null==s?void 0:null===(t=s.response)||void 0===t?void 0:null===(n=t.items)||void 0===n?void 0:n[0].type)&&(r=s.response.items[0]);return{mapLocation:e.map.location,mapType:e.map.type,selectedBusiness:r,selectedEvent:(null==o?void 0:o.success)?null==o?void 0:o.event:void 0}},z)),W=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return i.createElement(R,this.props)},t}(i.Component);W.displayName="EventsMapComponent";t.default=L(W)},130:function(e,t,n){e.exports=n.p+"_/c6253bebae4891e27181f3a4bb34a342.svg"},131:function(e,t,n){"use strict";var r=n(13),i=n(41),o=n(71),a=n(6),s=n(4),c=n(2779),l=n(9),u=!0,d=new Map,p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=s.createRef(),t._getTitleFromChildren=function(){var e=t.props.children;if("string"==typeof e)return e},t._getDefaultTitle=function(){return "Яндекс.Карты"},t._updateTitle=function(){var e=t._ref.current,n=t._getTitleFromChildren()||e.innerText||e.textContent,r=n&&n.replace(/\s/g," ").trim();r&&(d.set(Object(o.a)(t),r),t._setDocumentTitle(r))},t._setDocumentTitle=function(e){u?u=!1:window.document.title=e?Object(c.a)(e)+" — "+t._getDefaultTitle():t._getDefaultTitle()},t}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateTitle()},n.getSnapshotBeforeUpdate=function(){return this._ref.current.textContent},n.componentDidUpdate=function(e,t,n){n!==this._ref.current.textContent&&this._updateTitle()},n.componentWillUnmount=function(){d.delete(this);var e=d.values().next().value;this._setDocumentTitle(e)},n.render=function(){var e=this.props,t=e.children,n=(e.config,Object(i.a)(e,["children","config"]));return s.createElement("h1",Object(r.a)({},n,{ref:this._ref}),t)},t}(s.PureComponent);t.a=Object(l.b)(p)},134:function(e,t,n){"use strict";n(148);var r=n(4),i=n(7),o=n(8),a=Object(i.a)("something-wrong-view");t.a=function(e){return r.createElement(o.a,{name:"error"},r.createElement("div",{className:a()},r.createElement("div",{className:a("image")}),r.createElement("div",{className:a("text")},e.children)))}},135:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(13),i=n(10),o=(n(376),n(4)),a=n(7),s=n(378),c=n.n(s),l=n(379),u=n.n(l),d=n(380),p=n.n(d),f=Object(a.a)("search-placemark-icons"),m={dot:{source:c.a,width:22,height:22},base:{source:u.a,width:34,height:34},active:{source:p.a,className:f("active"),width:60,height:68,baseY:64,centerY:28}};function h(e,t){var n="icon"in e?e.icon:Object(i.a)(Object(i.a)({},m[e.mode]),{},{className:e.className||m[e.mode].className});return Object(i.a)({element:v(n,t)},_(n))}function v(e,t){var n=_(e),i=n.width,a=n.height,s=n.centerX,c=n.centerY,l={className:e.className,dangerouslySetInnerHTML:{__html:e.source}};return t?o.createElement("div",{style:{position:"relative",width:i,height:a}},o.createElement("div",l),o.createElement("div",{style:{position:"absolute",left:s,top:c}},"point"===t?o.createElement("div",{className:f("content")}):t)):o.createElement("div",Object(r.a)({style:{width:i,height:a}},l))}function _(e){var t=Math.round(e.width/2),n=Math.round(e.height/2);return{width:e.width,height:e.height,baseX:e.baseX||t,baseY:e.baseY||n,centerX:e.centerX||t,centerY:e.centerY||n}}},148:function(e,t,n){},158:function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(9),a=n(18),s=n(25),c={getUrl:function(e,t){return Object(s.a)("shortenPath",{query:{path:e}},t).then(function(e){return"/-/"+e})}},l={},u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._updateShortUrl=function(e){a.a.cancel(n._shortenAction),l[e]||(l[e]=c.getUrl(e,n.props.config)),n.setState({url:e,isShort:!1}),n._shortenAction=a.a.create(l[e],{success:function(e){n.setState({url:e,isShort:!0})}})},n.state={url:t.url,isShort:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateShortUrl(this.state.url)},n.componentDidUpdate=function(e){this.props.url!==e.url&&this._updateShortUrl(this.props.url)},n.componentWillUnmount=function(){a.a.cancel(this._shortenAction)},n.render=function(){return this.props.children(this.state.url,this.state.isShort)},t}(i.PureComponent);t.a=Object(o.b)(u)},162:function(e,t,n){"use strict";n(242);var r=n(4),i=n(9),o=n(7),a=n(93),s=Object(o.a)("background-image");t.a=Object(i.b)(function(e){return r.createElement("div",{className:s({"with-paranja":e.withParanja,hovered:e.hovered,touch:e.config.uatraits.isTouch}),style:{height:e.height,background:e.backgroundFallback}},r.createElement(a.a,null,r.createElement("div",{className:s("bg"),style:e.url?{backgroundImage:'url("'+e.url+'")'}:void 0})),r.createElement("div",{className:s("content")},e.children))})},171:function(e,t,n){},187:function(e,t,n){"use strict";var r=n(6),i=(n(202),n(4)),o=n(7),a=n(22),s=n(11),c=n(8),l=n(204),u=n.n(l),d=Object(o.a)("clipboard"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._action=null,n._content=null,n._textarea=null,n._selectContent=function(){var e=window.getSelection();if(!e)return"";var t=window.document.createRange();return t.selectNodeContents(n._content),e.removeAllRanges(),e.addRange(t),e.toString().trim()},n._showHelp=function(e){n.setState({success:e}),n._hideTimer=window.setTimeout(function(){n.setState({success:null})},2e3),!e&&!n.props.text&&n.props.children&&n._textarea&&(n._textarea.blur(),n._selectContent())},n._copy=function(e){e.stopPropagation(),window.clearTimeout(n._hideTimer);var t=n.props.text;if(!t&&n.props.children&&(t=n._selectContent()),t&&n._textarea){n._textarea.value=t,n._textarea.select(),n._textarea.setSelectionRange(0,t.length);var r=!1;try{r=window.document.execCommand("copy")}catch(i){}n._showHelp(r),n._textarea.value="",n._textarea.blur()}},n._onMouseEnter=function(){n.setState({show:!0,success:null})},n._onMouseLeave=function(){n.setState({show:!1,success:null})},n._renderAction=function(){return i.createElement(c.a,{name:"clipboard",logClick:!0},i.createElement("div",{className:d("action-wrapper",{inline:!n.props.noIcon&&"input"!==n.props.view,view:n.props.view}),onClick:n._copy,ref:function(e){return n._action=e}},n.props.children,i.createElement("div",{className:d("action",{visible:n.props.visible,show:n.state.show})},n.props.noIcon?null:i.createElement("div",{className:d("icon")},i.createElement(s.a,{url:u.a})),i.createElement("textarea",{className:d("textarea"),ref:function(e){return n._textarea=e},readOnly:!0}))))},n._renderHelp=function(){var e=n.state.success;return i.createElement(a.a,{isShown:null!==e,getTarget:function(){return n._action},position:n.props.position||"top",restrictPosition:!0,type:e?"help":"error",onClose:function(){}},i.createElement("div",{className:d("help")},e?"Скопировано":"Ошибка! Скопируйте вручную"))},n.state={clipboardSupported:!0,show:!1,success:null},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.document.queryCommandSupported&&window.document.queryCommandSupported("copy")||this.setState({clipboardSupported:!1})},n.componentWillUnmount=function(){window.clearTimeout(this._hideTimer)},n.render=function(){var e=this,t=this.props.children||null;return this.state.clipboardSupported?i.createElement("div",{className:d(),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.createElement("div",{className:d("content"),ref:function(t){return e._content=t}},this._renderAction()),this._renderHelp()):i.createElement("div",{className:d()},t)},t}(i.Component);t.a=p},188:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("promo").then(n.bind(null,409))},{open:!0,close:!0})},202:function(e,t,n){},204:function(e,t,n){e.exports=n.p+"_/e5e2c1a7a1e08d0ef752d275975c693a.svg"},209:function(e,t,n){},2316:function(e,t,n){},2318:function(e,t,n){},2320:function(e,t,n){},2322:function(e,t,n){},2324:function(e,t,n){},2326:function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12z" fill="currentColor"/><path d="M12 1.45C6.173 1.45 1.45 6.173 1.45 12c0 5.827 4.723 10.55 10.55 10.55 5.827 0 10.55-4.723 10.55-10.55 0-5.827-4.723-10.55-10.55-10.55z" stroke="#fff" stroke-opacity=".6" stroke-width="1.1"/></svg>'},235:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(24);function i(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=t||{},o=Object(r.a)(e,n).getTime(),a=Object(r.a)(i.start,n).getTime(),s=Object(r.a)(i.end,n).getTime();if(!(a<=s))throw new RangeError("Invalid interval");return o>=a&&o<=s}},242:function(e,t,n){},245:function(e,t,n){},262:function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(12),a={openMobileAppShare:n(188).a.open},s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e=t.props;e.openMobileAppShare(e.openOptions)},t}return Object(r.a)(t,e),t.prototype.render=function(){return this.props.children({onClick:this._onClick})},t}(i.PureComponent);t.a=o.b(null,a)(s)},27:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(119),i=Object(r.a)("wideCard",!1,function(e){return{isWideCard:e}}),o=i.connect,a=i.Provider;t.b=o},2761:function(e,t,n){"use strict";var r=n(6),i=(n(2318),n(4)),o=n(9),a=n(7),s=(n(2320),n(432)),c=n(29),l=n(92),u=Object(a.a)("event-card-body-view"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._prepareLink=function(e){return t.props.webviewLinks?"yandexmaps://open_url?url="+encodeURIComponent(e):e},t._renderActionButtons=function(){var e=t.props.event,n=Object(s.a)(e);return n.buttons?n.buttons.map(function(e,n){return"openURL"===e.type?i.createElement(c.a,{key:n},i.createElement("a",{className:u("link"),href:t._prepareLink(e.url),target:"_blank"},e.title)):null}):null},t._renderFeatures=function(){var e;return(null!==(e=Object(s.a)(t.props.event).features)&&void 0!==e?e:[]).map(function(e,t){return i.createElement(c.a,{key:e.key,icon:0===t?i.createElement(l.a,{name:"text",size:24,inline:!0}):void 0},i.createElement("div",{className:u("feature")},i.createElement("span",{className:u("feature-name")},e.name)," ",i.createElement("span",{className:u("feature-value")},e.value)))})},t._renderLocation=function(){var e=Object(s.a)(t.props.event).address;return e?i.createElement(c.a,{icon:i.createElement(l.a,{name:"point-on-map",size:24,inline:!0})},i.createElement("span",{className:u("location")},e)):null},t._renderWorkingTime=function(){var e=t.props.event;return i.createElement(c.a,{icon:i.createElement(l.a,{name:"time",size:24,inline:!0})},i.createElement("span",{className:u("working-time")},e.formattedDate))},t}return Object(r.a)(t,e),t.prototype.render=function(){return i.createElement("div",{className:u()},this._renderWorkingTime(),this._renderLocation(),this._renderActionButtons(),this._renderFeatures())},t}(i.Component),p=Object(o.b)(d),f=n(1080),m=(n(2322),n(162)),h=n(35),v=Object(a.a)("event-photos-view"),_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderPhoto=function(e,n){var r=e.urlTemplate.replace("%s","L"),o=t.props.onPhotoClick;return i.createElement("div",{key:e.urlTemplate,className:v("photo",{single:n}),onClick:o?function(){return o(e)}:void 0},i.createElement(m.a,{height:188,url:r}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=Object(s.a)(this.props.event).images;return t&&0!==t.length?1===t.length?this._renderPhoto(t[0],!0):i.createElement(h.a,{itemsGap:4,padding:16},t.map(function(t){return e._renderPhoto(t)})):null},t}(i.Component),b=Object(o.b)(_),g=n(439),w=Object(a.a)("event-card-view"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderDescription=function(){var e=Object(s.a)(t.props.event).description;return e?i.createElement("div",{className:w("description")},e):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.event;return i.createElement("div",{className:w()},i.createElement("div",{className:w("section")},i.createElement(f.a,{event:t,onClose:e.onClose}),i.createElement(b,{event:t,onPhotoClick:e.onPhotoClick})),i.createElement("div",{className:w("section")},i.createElement(g.a,{result:this.props.event,hidePush:!0}),i.createElement(p,{event:t})),i.createElement("div",{className:w("section")},this._renderDescription()))},t}(i.Component);t.a=Object(o.b)(E)},286:function(e,t,n){"use strict";var r=n(6),i=(n(287),n(4)),o=n(7),a=n(30),s=n(11),c=n(9),l=n(59),u=n(289),d=n.n(u),p=Object(o.a)("search-placemark-title"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderStars=function(e){var t=e.property.find(function(e){return"id"===e.key});if(!t)return null;var n=a.s(t.value);if(0===n)return null;for(var r=new Array(n),o=0;o<n;o++)r[o]=i.createElement(s.a,{key:o,url:d.a});return i.createElement("span",{key:"stars",className:p("subtitle-item")},r)},t._renderRating=function(e){var n=e.property.find(function(e){return"value_5"===e.key});return n?i.createElement("span",{className:p("subtitle-item"),key:"rating"},i.createElement(s.a,{url:d.a,className:p("subtitle-item-rating-image")}),i.createElement("span",{className:p("subtitle-item-rating")},l.b(Number(n.value),t.props.config.lang,{min:1,max:1}))):null},t._renderWorkingHours=function(e){var t=e.property.find(function(e){return"is_open"===e.key}),n="closed_for_visitors"===e.type||!!t&&"0"===t.value;return i.createElement("span",{key:"working_hours",className:p("subtitle-item",{"closed-now":n})},e.text)},t._renderSubtitleItem=function(e){var n=e.text?e.text:"";return"star"===e.type?t._renderStars(e):"rating"===e.type?t._renderRating(e):"working_hours"===e.type||"closed_for_visitors"===e.type?t._renderWorkingHours(e):"promo"===e.type&&t.props.isHideRichContentExp?null:n?i.createElement("span",{key:e.type,className:p("subtitle-item")},n):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this.props.subtitleItems;return i.createElement("div",{className:p({background:e.background,"low-relevance":e.isLowRelevance,position:e.position,"no-truncate":e.disableTruncate})},i.createElement("div",{className:p("title")},e.title),t&&e.showSubtitle?i.createElement("div",{className:p("subtitle")},t.map(this._renderSubtitleItem)):null)},t}(i.PureComponent);t.a=Object(c.b)(f)},287:function(e,t,n){},289:function(e,t,n){e.exports=n.p+"_/cbb4eab83cc1f046b092166074e47cb5.svg"},29:function(e,t,n){"use strict";var r=n(6),i=(n(171),n(4)),o=n(7),a=n(27),s=n(11),c=n(130),l=n.n(c),u=Object(o.a)("card-feature-view"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderIcon=function(){var e=t.props,n=e.iconUrl;if(null===n)return null;var r=e.iconClassName;return i.createElement("div",{className:u("icon-wrapper",{"no-color":e.keepIconColor})+(r?" "+r:"")},n?i.createElement(s.a,{url:n}):e.icon)},t._renderMain=function(){var e=t.props;return i.createElement("div",{className:u("main")},t._renderIcon(),i.createElement("div",{className:u("content")},e.title?i.createElement("div",{className:u("title")},e.title):null,i.createElement("div",{className:u("main-content")},e.children),e.subcontent?i.createElement("div",{className:u("subcontent")},e.subcontent):null))},t._renderAdditional=function(){var e=t.props;return e.value||e.arrowView?i.createElement("div",{className:u("additional"),onClick:e.onAdditionalClick},e.value?i.createElement("div",{className:u("value")},e.value):null,e.arrowView?i.createElement("div",{className:u("arrow",{view:e.arrowView})},i.createElement(s.a,{url:l.a})):null):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.subcontent,n=e.onClick,r=e.title?"medium":e.size||"large",o=null===e.icon||null===e.iconUrl;return i.createElement("div",{className:u({view:e.view||"normal",size:r,subcontent:Boolean(t),interactive:Boolean(n),"has-title":Boolean(e.title),disabled:e.disabled,"no-icon":o,"no-side-padding":e.noSidePadding||e.isWideCard})+(e.className?" "+e.className:""),onClick:n},i.createElement("div",{className:u("wrapper")},this._renderMain(),this._renderAdditional()),i.createElement("div",{className:u("border",{border:e.border,stretch:e.stretchBorder||o})}))},t}(i.Component);t.a=Object(a.b)(d)},322:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(194),i=n(232);function o(e){var t=e[0][1],n=[e[1][0]-e[0][0],e[1][1]-t],o=Math.tan(Object(r.a)(t+90)/2),a=Math.tan(Object(r.a)(n[1])/2),s=Math.max((-o*o-o*a)/(o*a-1),0),c=.5*Math.log(s),l=2*(Math.atan(Math.exp(c))-.25*Math.PI);return{center:[(e[0][0]+e[1][0])/2,Object(i.a)(l)],span:n}}},332:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("search").then(n.bind(null,943))},{toggle:!0,close:!0})},338:function(e,t,n){"use strict";var r=n(6),i=(n(388),n(31)),o=(n(390),n(4)),a=n(7),s=Object(a.a)("expand-button"),c=function(e){var t,n=(2+4*(null!==(t=e.fold)&&void 0!==t?t:0)).toFixed(2);return o.createElement("div",{className:s(),onClick:e.onClick},o.createElement("svg",{viewBox:"0 0 24 8",xmlns:"http://www.w3.org/2000/svg",className:s("dash")},o.createElement("path",{d:"M2 "+n+"L12 2L22 "+n,fill:"none",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})))},l=n(8),u=n(38),d=n(131),p=n(42),f=Object(a.a)("card-title-view"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderInner=function(e){var n=t.props,r=n.dangerouslySetInnerHTML?o.createElement("span",{dangerouslySetInnerHTML:{__html:e}}):e;return n.onTitleClick?o.createElement(l.a,{name:"title",metrikaGoal:"deepuse",logClick:!0},o.createElement("div",{className:f("title-link")},o.createElement(u.a,{href:n.url,onLeftClick:n.onTitleClick},r)),t._renderBadge()):o.createElement(o.Fragment,null,r,t._renderBadge())},t._renderBadge=function(){var e=t.props.renderBadge;return e?e():null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=o.createElement("div",{className:f("wrapper",{view:e.view})},e.displayTitle&&e.displayTitle!==e.title?o.createElement(o.Fragment,null,o.createElement(d.a,{className:f("hidden-title")},e.title),o.createElement("div",{className:f("title",{truncated:e.truncateTitle}),itemProp:"name"},this._renderInner(e.displayTitle))):o.createElement(d.a,{className:f("title",{truncated:e.truncateTitle}),itemProp:"name"},this._renderInner(e.title)));return o.createElement(o.Fragment,null,o.createElement(p.a,{header:!0,position:"top",order:0,disabled:!e.sticky},e.withShutterControl?o.createElement(c,null):null,e.onClose?o.createElement(i.a,{onClick:e.onClose,offset:"large",circle:!0}):null,t),e.noSubtitle?null:o.createElement("div",{className:f("subtitle",{view:e.view,"no-bottom-padding":e.noBottomPadding})},e.children),e.withBorder?o.createElement("div",{className:f("bottom-border")}):null)},t}(o.Component);t.a=m},35:function(e,t,n){"use strict";var r=n(10),i=n(6),o=(n(63),n(4)),a=n(2800),s=n(2765),c=n(7),l=n(50),u=n(86),d=n(9),p=(n(65),n(8)),f=n(11),m=n(67),h=n.n(m),v=n(68),_=n.n(v),b={l:h.a,m:_.a},g={l:40,m:32},w=Object(c.a)("carousel"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onPrevClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(-1)},t._onNextClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(1)},t._renderButton=function(e){var n;if(!t.props.showButtons[e])return null;var r=t.props,i=r.arrowStyle,a=void 0===i?{}:i,s=r.buttonSize,c=void 0===s?"l":s,l=a.horizontalOffset,u=void 0===l?0:l,d=a.topVerticalOffset,m=g[c]/2,h=void 0!==d,v=h?d-m:0;return o.createElement("div",{className:w("arrow-wrapper",(n={centered:!h},n[e]=!0,n.size=c,n))},o.createElement(p.a,{name:e,logClick:!0,useParentState:!0},o.createElement("div",{className:w("arrow",{size:c}),style:{margin:v+"px "+u+"px"},onClick:"prev"===e?t._onPrevClick:t._onNextClick,onMouseEnter:t.props.onMouseEnter,onMouseLeave:t.props.onMouseLeave},o.createElement(f.a,{className:w("arrow-image"),url:b[c]}))))},t}return Object(i.a)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,this._renderButton("prev"),this._renderButton("next"))},t}(o.Component),y=n(85),C=n(110),k=21,S=Object(c.a)("carousel"),O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._analyticsRef=o.createRef(),n._scrollable=o.createRef(),n._isProgrammaticScroll=!1,n._contentNode=null,n._elementWidth=0,n._insideButton=!1,n._isClickAllowed=!0,n._isSwiping=!1,n._swipeStartScreen=0,n._getCurrentScreen=function(){var e=n._scrollable.current.scrollLeft/(n._elementWidth+n.props.itemsGap),t=n.props.children.length-1;return Math.max(0,Math.min(t,e))},n._onScroll=function(){n.props.snap&&(n._isSwiping?n._checkSwipeEndDebounced():n._onSwipeStart()),n.props.onScroll&&n._scrollable.current&&n.props.onScroll(n._getCurrentScreen(),n._isProgrammaticScroll),n._updateArrowsVisibility()},n._checkSwipeEnd=function(){var e=n._getCurrentScreen();Math.abs(e-Math.round(e))<.03&&n._onSwipeEnd()},n._onSwipeStart=function(){var e,t;(n._isSwiping=!0,n._swipeStartScreen=Math.round(n._getCurrentScreen()),n._isProgrammaticScroll)||(null===(e=(t=n.props).onSwipeStart)||void 0===e||e.call(t))},n._onSwipeEnd=function(){var e,t,r;Math.round(n._getCurrentScreen())===n._swipeStartScreen||n._isProgrammaticScroll||(null===(e=n._analyticsRef.current)||void 0===e||e.logEvent("swipe"));n._isProgrammaticScroll||(null===(t=(r=n.props).onSwipeEnd)||void 0===t||t.call(r));n._isSwiping=!1,n._isProgrammaticScroll=!1},n._setScrollPosition=function(e){if(void 0!==e){var t=e*(n._elementWidth+n.props.itemsGap);n._setOffset(t)}},n._contentRef=function(e){if(n._contentNode=e,e){var t=n.props.padding,r=void 0===t?0:t,i=n.props.expandWidth||{left:0};n._elementWidth=e.children[0].offsetWidth-(r+i.left),setTimeout(n._updateHeight,0)}},n._updateHeight=function(){n._contentNode&&n.setState({height:n._contentNode.clientHeight})},n._updateArrowsVisibility=function(){var e=n._scrollable.current,t=e.scrollLeft,r=e.scrollWidth-e.clientWidth-t,i=n.props.buttonOffset,o=void 0===i?1:i,a=t>o,s=r>o,c=n.state.showButtons;a===c.prev&&s===c.next||(n.setState({showButtons:{prev:a,next:s}}),n._leaveButton())},n._enterButton=function(){n._insideButton=!0,n._isClickAllowed=!1},n._leaveButton=function(){n._insideButton=!1},n._onMouseMove=function(){n._insideButton||n._isClickAllowed||(n._isClickAllowed=!0)},n._checkClick=function(e){n._isClickAllowed||(e.preventDefault(),e.stopPropagation())},n._setOffset=function(e){var t=n._scrollable.current,r=n.state.smoothScroll;t&&(n._isProgrammaticScroll=!0,"scrollBehavior"in document.body.style?t.scrollLeft=e:Object(l.a)({duration:r?350:0,element:t,horizontal:!0,targetPosition:e},n.props.config))},n._setOffsetByDirection=function(e){if(n._scrollable.current){var t=n.props,r=n._elementWidth+t.itemsGap,i=n._scrollable.current.scrollLeft+(t.clickStep||1)*r*e,o=1===e?Math.floor:Math.ceil;n._setOffset(o(i/r)*r)}},n._getScrollableContainerStyles=function(e){var t=n.props,i=n.state,o=Object(r.a)({},t.scrollContainerStyle);t.snap&&!e.has.snapAlign&&(o.scrollSnapPointsX="repeat("+(n._elementWidth+t.itemsGap)+"px)");var a=i.height;return a&&(o.height=a+k,o.paddingBottom=k),o},t.scrollableRef&&(n._scrollable=t.scrollableRef),n.state={showButtons:{prev:!1,next:!0},smoothScroll:!1},n._onScrollThrottled=Object(a.a)(n._onScroll,20),n._checkSwipeEndDebounced=Object(s.a)(n._checkSwipeEnd,200),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props;t.resetCarouselRef&&t.resetCarouselRef(function(){return e._setOffset(0)}),t.setPositionRef&&t.setPositionRef(function(t){return e._setScrollPosition(t)}),this._scrollable.current.addEventListener("scroll",this._onScrollThrottled,{passive:!0}),this._updateArrowsVisibility(),this._setScrollPosition(t.initialPosition),this.setState({smoothScroll:!t.config.query["no-animation"]})},n.componentDidUpdate=function(e){o.Children.count(e.children)!==o.Children.count(this.props.children)&&this._updateArrowsVisibility()},n.componentWillUnmount=function(){var e=this.props;e.resetCarouselRef&&e.resetCarouselRef(void 0),e.setPositionRef&&e.setPositionRef(void 0),this._scrollable.current.removeEventListener("scroll",this._onScrollThrottled),this._onScrollThrottled.cancel(),this._checkSwipeEndDebounced.cancel()},n.render=function(){var e=this,t=this.props,n=this.state,i=t.expandWidth||{left:0,right:0},a=t.padding||0,s=a+i.left,c=a+i.right,l=o.Children.toArray(t.children).filter(Boolean),d={"old-browsers-workaround":!t.disableOldBrowsersWorkaround,theme:t.theme||"white","show-arrows":"always"===t.showArrows};return o.createElement(p.a,{name:"carousel",useParentState:!0,nodeRef:this._analyticsRef},o.createElement("div",{className:S(d)+(t.className?" "+t.className:""),style:Object(r.a)({height:n.height,marginLeft:-i.left,marginRight:-i.right},t.style),ref:t.forwardedRef},o.createElement(u.a,null,function(r){var i,a;return o.createElement("div",{className:S("scrollable",{snap:t.snap,"smooth-scroll":n.smoothScroll}),style:e._getScrollableContainerStyles(r),ref:e._scrollable,onClickCapture:e._checkClick,onMouseMove:e._onMouseMove},o.createElement("div",{className:S("content"),ref:e._contentRef},l.map(function(e,n){return o.createElement("div",{key:"object"==typeof e&&e&&"key"in e?e.key||void 0:n,className:S("item"),style:{paddingLeft:0===n?s:t.itemsGap,paddingRight:n===l.length-1?c:void 0}},e)}),o.createElement(y.a,{onResize:function(){e._updateHeight(),e._updateArrowsVisibility()}})),null!==(i=null===(a=t.renderInScrollContainer)||void 0===a?void 0:a.call(t))&&void 0!==i?i:null)}),"never"!==t.showArrows?o.createElement(E,{showButtons:n.showButtons,arrowStyle:t.arrowStyle,buttonSize:t.buttonSize,onMouseEnter:this._enterButton,onMouseLeave:this._leaveButton,setOffsetByDirection:this._setOffsetByDirection}):null))},t}(o.Component);t.a=Object(C.a)(Object(d.b)(O))},376:function(e,t,n){},378:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="2ccc4e9f8fe2f8acc9e7eab53f797f56__b" d="M7 14A7 7 0 1 0 7 0a7 7 0 0 0 0 14z"/><filter id="2ccc4e9f8fe2f8acc9e7eab53f797f56__a" width="150%" height="150%" x="-25%" y="-17.9%" filterUnits="objectBoundingBox"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" in="shadowBlurOuter1"/></filter></defs><g fill="none" fill-rule="evenodd" transform="translate(4 4)"><use fill="#000" filter="url(#2ccc4e9f8fe2f8acc9e7eab53f797f56__a)" xlink:href="#2ccc4e9f8fe2f8acc9e7eab53f797f56__b"/><use fill="#FFF" xlink:href="#2ccc4e9f8fe2f8acc9e7eab53f797f56__b"/><path d="M7 12A5 5 0 1 1 7 2a5 5 0 0 1 0 10z" fill="currentColor"/><path fill="#000" class="tint" d="M7 12A5 5 0 1 1 7 2a5 5 0 0 1 0 10z"/></g></svg>\n'},379:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="cbb016882db5c851af06eebb43c674f7__b" d="M17 31c7.732 0 14-6.268 14-14S24.732 3 17 3 3 9.268 3 17s6.268 14 14 14z"/><filter id="cbb016882db5c851af06eebb43c674f7__a" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.200000003 0" in="shadowBlurOuter1"/></filter></defs><g fill="none" fill-rule="evenodd"><use fill="#000" filter="url(#cbb016882db5c851af06eebb43c674f7__a)" xlink:href="#cbb016882db5c851af06eebb43c674f7__b"/><use fill="#FFF" xlink:href="#cbb016882db5c851af06eebb43c674f7__b"/><path fill="currentColor" d="M17 29c-6.627 0-12-5.373-12-12S10.373 5 17 5s12 5.373 12 12-5.373 12-12 12z"/><path fill="#000" class="tint" d="M17 29c-6.627 0-12-5.373-12-12S10.373 5 17 5s12 5.373 12 12-5.373 12-12 12z"/></g></svg>\n'},380:function(e,t){e.exports='<svg width="60" height="68" viewBox="0 0 60 68" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23.51 51.523a.5.5 0 0 1-.5.477c-.29 0-.51-.21-.52-.477-.145-3.168-1.756-5.217-4.832-6.147C7.53 42.968 0 33.863 0 23 0 10.297 10.297 0 23 0s23 10.297 23 23c0 10.863-7.53 19.968-17.658 22.376-3.076.93-4.687 2.98-4.83 6.147z" id="ae96eeecd750ec2a83543f00c9bc789d__b"/><filter x="-21.7%" y="-15.4%" width="143.5%" height="138.5%" filterUnits="objectBoundingBox" id="ae96eeecd750ec2a83543f00c9bc789d__a"><feGaussianBlur in="SourceGraphic" stdDeviation="3"/><feOffset dy="2"/><feComponentTransfer><feFuncA type="linear" slope=".3"/></feComponentTransfer></filter></defs><g fill="none" fill-rule="evenodd"><g fill-rule="nonzero" transform="translate(7 5)" fill="currentColor"><use filter="url(#ae96eeecd750ec2a83543f00c9bc789d__a)" xlink:href="#ae96eeecd750ec2a83543f00c9bc789d__b"/><use xlink:href="#ae96eeecd750ec2a83543f00c9bc789d__b"/></g><path d="M30 68c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" fill="#fff" fill-rule="nonzero"/><path d="M30 66a2 2 0 1 0 .001-3.999A2 2 0 0 0 30 66z" fill="currentColor"/></g></svg>'},388:function(e,t,n){},390:function(e,t,n){},42:function(e,t,n){"use strict";var r=n(6),i=(n(81),n(4)),o=n(7),a=n(116),s=n(97),c=n(46),l=1,u=Object(o.a)("sticky-wrapper"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._containerRef=i.createRef(),n._isDisabled=function(e){return void 0===e&&(e=n.props),e.disabled||!e.scrollId},n._registerContainer=function(){var e,t=n.props,r=null!==(e=t.order)&&void 0!==e?e:l;if(n._containerRef.current){var i=t.scrollId;if(!i)return;t.registerStickyElement(i,r,n._containerRef,n._onPositionUpdate),t.updateStickyElement(i,r,n._containerRef.current.offsetHeight),n._unregisterContainer=function(){t.unregisterStickyElement(i,r)}}},n._onIntersectionChange=function(e){n.setState({fixed:!e})},n._onPositionUpdate=function(e){var t,r;n.setState({position:e}),null===(t=(r=n.props).onOffsetChange)||void 0===t||t.call(r,e)},n._onIntersectionParentBoundaries=function(e){n.setState({reachedParentBoundaries:!e})},n.state={fixed:!1,reachedParentBoundaries:!1,position:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isDisabled()||this._registerContainer()},n.componentDidUpdate=function(e,t){var n=this.props,r=this.state,i=n.children!==e.children;(n.children&&i||this._isDisabled(e)&&!this._isDisabled())&&this._registerContainer(),n.onFixedChange&&t.fixed!==r.fixed&&n.onFixedChange(r.fixed)},n.componentWillUnmount=function(){var e;null===(e=this._unregisterContainer)||void 0===e||e.call(this)},n.render=function(){var e,t=this.props,n=this.state;return t.children?this._isDisabled()?t.children:i.createElement(i.Fragment,null,"top"===t.position?i.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target"),onChange:this._onIntersectionChange},null):null,i.createElement("div",{className:u({position:t.position,fixed:n.fixed,header:t.header,border:null!==(e=t.border)&&void 0!==e?e:"auto",wide:t.wide,"reached-boundaries":n.reachedParentBoundaries}),style:{top:this.state.position,zIndex:t.zIndex},ref:this._containerRef},i.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target",{absolute:!0}),onChange:this._onIntersectionParentBoundaries},null),t.children)):null},t}(i.Component);t.a=Object(s.b)(Object(a.b)(d))},425:function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(12),a=n(17),s=n(9),c=n(18),l=n(96),u=n(332),d=n(79),p=n(21),f=n(16),m=n(524),h=n.n(m),v={toggleShare:u.a.toggle},_=Object(a.a)(o.b(function(e){return{url:Object(d.a)(e)}},v),s.b),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._toggleShare=function(){var e=t.props;e.toggleShare(e.result)},t._onOpenShareClick=function(){var e=t.props,n=e.result;if(window.navigator.share&&"poi"!==n.type){c.a.cancel(t._shareAction);var r=window.document.title,i="business"===n.type?r+"\n"+(n.fullAddress||n.address)+"\n":void 0,o="business"===n.type?f.m(e.config)?p.p(n):p.c(n):"toponym"===n.type?p.v(n,n.region):n.region?p.m(n,n.region):void 0;t._shareAction=c.a.create(window.navigator.share({url:p.a(o?"/"+o:e.url,e.config),title:r,text:i}),{fail:function(e){e.message.startsWith("Internal error:")&&t._toggleShare()}})}else t._toggleShare()},t}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){c.a.cancel(this._shareAction)},n.render=function(){var e=this.props;return i.createElement(l.a,{type:"share",analytics:"share",text:e.withText?"Поделиться":void 0,hint:"Поделиться",icon:h.a,onClick:this._toggleShare})},t}(i.Component);t.a=_(b)},432:function(e,t,n){"use strict";function r(e){return i(e)?e.action.blockData:e.action.cardData}function i(e){return"organizationCard"===e.action.type}function o(e){return"eventCard"===e.action.type}function a(e){return"url"===e.action.type}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a})},439:function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(12),a=n(17),s=n(332),c=n(27),l=n(8),u=n(73),d=(n(533),n(7)),p=n(79),f=n(21),m=n(158),h=n(187),v=n(29),_=n(9),b=n(262),g=n(535),w=n.n(g),E=Object(d.a)("card-push-view"),y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getShareType=function(e){return"business"===e.type?"org":"toponym"===e.type?"toponym":"stop"},t._getSendParams=function(){var e,n=t.props.result;return"toponym"===n.type||"business"===n.type?{uri:n.uri}:{uri:null===(e=n.searchResult)||void 0===e?void 0:e.uri,stopId:n.id}},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;if(e.config.uatraits.isMobile)return null;var t,n,r,o,a=e.result;"business"===a.type||"toponym"===a.type?(t=a.address,n=a.title):(t=null===(r=a.searchResult)||void 0===r?void 0:r.address,n=(null===(o=a.searchResult)||void 0===o?void 0:o.title)||a.name);return"business"!==a.type&&t||(t=n+(t?". "+t:"")),i.createElement(b.a,{openOptions:{type:this._getShareType(a),pushMessage:t,sendParams:this._getSendParams()}},function(e){var t=e.onClick;return i.createElement(l.a,{name:"service",logClick:!0,metrikaGoal:"goal_deepuse"},i.createElement(v.a,{className:E("service"),view:"link",iconUrl:w.a,onClick:t},"Отправить в телефон"))})},t}(i.Component),C=Object(_.b)(y),k=n(39),S=n(30);function O(e){var t=60*((e=Math.abs(e))-Math.floor(e)),n=Math.round(60*(t-Math.floor(t)));return t=Math.floor(t),60===n&&(n=0,t+=1),60===t&&(t=0,e+=1),Math.floor(e)+"°"+t+"′"+(n?Math.round(n)+"″":"")}var x=n(536),j=n.n(x),N=n(537),P=n.n(N),M=o.b(function(e){return{config:e.config,url:Object(p.a)(e)}}),B=Object(d.a)("card-share-view"),T=M(function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderDmsCoordinates=function(e){var t=e[0],n=e[1];return i.createElement(v.a,null,i.createElement(l.a,{name:"dms_coordinates",subtreeMetrikaGoal:"goal_deepuse"},i.createElement(h.a,{view:"primary"},i.createElement("div",{className:B("text",{clickable:!0}),dangerouslySetInnerHTML:{__html:[O(n)+(n>0?"N":"S"),O(t)+(t>0?"E":"W")].join(", ")}}))))},t._renderShortUrl=function(){var e=t.props;return i.createElement(v.a,{className:B("short-link"),iconUrl:j.a},i.createElement(l.a,{name:"short_link"},i.createElement(h.a,{view:"primary"},i.createElement("div",{className:B("text")},i.createElement(m.a,{url:e.url},function(t,n){return n?f.a(t,e.config):i.createElement(k.a,{view:"small",withoutMargin:!0})})))))},t._renderCoordinatesContent=function(e){return i.createElement(l.a,{name:"coordinates",subtreeMetrikaGoal:"goal_deepuse"},i.createElement(h.a,{view:"primary"},i.createElement("div",{className:B("text")},e[1].toFixed(6)+", "+e[0].toFixed(6))))},t._renderCoordinates=function(){var e=t.props.result;if(S.y(e)&&S.C(e))return null;var n="displayCoordinates"in e?e.displayCoordinates:"poi"===e.type?e.poiData.center:e.coordinates;return i.createElement(u.a,{className:B("coordinates"),iconUrl:P.a,content:t._renderDmsCoordinates(n),delimiter:null,isLast:!0},t._renderCoordinatesContent(n))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result;return i.createElement("div",{className:B()},e.hidePush||"poi"===t.type?null:i.createElement(C,{result:t}),this._renderShortUrl(),e.hideCoordinates?null:this._renderCoordinates())},t}(i.Component)),I={closeShare:s.a.close},R=Object(a.a)(o.b(function(e){return{config:e.config,isExpanded:e.share.isExpanded}},I),c.b),D=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.closeShare()},n.render=function(){var e=this.props;return i.createElement(l.a,{name:"share"},i.createElement(u.a,{isExpanded:e.isExpanded,content:e.result?i.createElement(T,{result:e.result,hidePush:e.hidePush||e.isWideCard,hideCoordinates:e.hideCoordinates}):null}))},t}(i.PureComponent);t.a=R(D)},50:function(e,t,n){"use strict";function r(e,t){var n=e.duration,r=void 0===n?0:n,o=e.element,a=e.targetPosition,s=e.horizontal,c=e.onStart,l=void 0===c?function(){}:c,u=e.onEnd,d=void 0===u?function(){}:u,p=s?o.scrollLeft:o.scrollTop,f=Math.round(a-p);if(a===p)return l(),void d();t.query["no-animation"]&&(r=0);var m,h=0;l(),r?window.requestAnimationFrame(function e(t){m=m||t;var n=t-m;var a=n>=r?1:(c=n/r,c<.5?8*c*c*c*c:1-8*--c*c*c*c);var c;h=p+Math.ceil(f*a);i(o,h,s);a<1?window.requestAnimationFrame(e):d()}):(i(o,a,s),d())}function i(e,t,n){n?e.scrollLeft=t:e.scrollTop=t}function o(){}n.d(t,"a",function(){return r}),t.b=function(e,t){var n=e.targetElement,i=e.duration,a=void 0===i?0:i,s=e.insideElement,c=e.offset,l=void 0===c?0:c,u=e.onStart,d=void 0===u?o:u,p=e.onEnd,f=void 0===p?o:p,m=e.horizontal;if(n&&s){var h=s.getBoundingClientRect(),v=n.getBoundingClientRect();"center"===l&&(l=-1*Math.round(h.width/2-v.width/2));var _=m?s.scrollLeft:s.scrollTop;r({duration:a,element:s,targetPosition:Math.min(_+l+(m?v.left-h.left:v.top-h.top),m?s.scrollWidth:s.scrollHeight),horizontal:m,onStart:d,onEnd:f},t)}}},524:function(e,t,n){e.exports=n.p+"_/0049a900fa223f25a87aa8d76b566925.svg"},533:function(e,t,n){},535:function(e,t,n){e.exports=n.p+"_/113d4bdd030901e316d83e1a389ed2ad.svg"},536:function(e,t,n){e.exports=n.p+"_/b75f293b42e1975dc602910bdfab77e7.svg"},537:function(e,t,n){e.exports=n.p+"_/c1688d08da22cea405f7b5d074ee4220.svg"},619:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("events").then(n.bind(null,1131))},{openMapEvent:!0,openCardEvent:!0})},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){e.exports=n.p+"_/5e75b507edc611b46cc0cdfebd5ff33c.svg"},68:function(e,t,n){e.exports=n.p+"_/8156832d990b20d84ae2fa43ba364ee4.svg"},73:function(e,t,n){"use strict";var r=n(6),i=(n(209),n(4)),o=n(7),a=n(27),s=n(111),c=n(8),l=n(52),u=n(29),d=n(320),p=Object(o.a)("card-dropdown-view"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._card=i.createRef(),n._controlAnalyticsRef=i.createRef(),n._onMoreClick=function(e){var t;"A"!==e.target.nodeName&&(null===(t=n._controlAnalyticsRef.current)||void 0===t||t.logEvent("click"),e.preventDefault(),e.stopPropagation(),n.setState({isExpanded:!n.state.isExpanded}))},n._collapseContent=function(){n._content&&(n._content.style.overflow="",n._card.current&&(n._card.current.style.overflow=""),n._animateContent(n._content.offsetHeight,0,n._content))},n._expandContent=function(){n._content&&n._animateContent(0,n._content.offsetHeight,n._content)},n._animateContent=function(e,t,n){n.style[Object(s.b)().styles.transition]="max-height 0.3s",n.style.maxHeight=e+"px",n.getBoundingClientRect(),n.style.maxHeight=t+"px"},n._onTransitionEnd=function(e){e.target===n._content&&n._content&&n._card.current&&(n._content.style[Object(s.b)().styles.transition]="",n._content.style.maxHeight="",n._content.style.overflow="visible",n._card.current.style.overflow="visible")},n._renderContent=function(){var e=n.state.isExpanded,t=n.props;return e?i.createElement(c.a,{name:"content"},i.createElement("div",{className:p("content"),ref:function(e){return n._content=e},onTransitionEnd:n._onTransitionEnd},t.content,void 0===t.delimiter?i.createElement("div",{className:p("delimiter")}):t.delimiter)):null},n._renderChildren=function(){var e=n.props,t=e.children;if(!t)return null;var r=Boolean(!e.arrowHidden&&e.content),o=n.state.isExpanded;return i.createElement("div",null,i.createElement(u.a,{className:e.className,title:e.title,view:e.view,size:e.size,iconUrl:e.iconUrl,icon:e.icon,iconClassName:e.iconClassName,keepIconColor:e.keepIconColor,subcontent:e.subcontent,onClick:e.onClick||(r?n._onMoreClick:void 0),onAdditionalClick:n._onMoreClick,border:e.isLast&&!o||e.hideCardBorder?"hide":void 0,stretchBorder:e.stretchBorder,value:e.value,arrowView:r?o?"up":"down":void 0,noSidePadding:e.noSidePadding},Object(d.a)(t)?t({isExpanded:o}):t,r?i.createElement(c.a,{name:"control",nodeRef:n._controlAnalyticsRef,logClick:!0}):null),i.createElement("div",null))},n.state={isExpanded:Boolean(t.isInitiallyExpanded)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props.isExpanded;"boolean"==typeof e&&this.state.isExpanded!==e&&this.setState({isExpanded:e})},n.render=function(){return i.createElement("div",{ref:this._card,className:p({wide:this.props.isWideCard})},this._renderChildren(),i.createElement(l.a,{onShow:this._expandContent,onHideStart:this._collapseContent},this._renderContent()))},t}(i.Component);t.a=Object(a.b)(f)},785:function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(84),a=n.n(o),s=n(60),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._uuid=a.a.v4(),t._getCollidingPrimitiveId=function(e){return t._uuid+":"+e.id},t._getCollidingPrimitives=function(e){var n=new Map;return e.forEach(function(e){n.set(t._getCollidingPrimitiveId(e),{anchor:e.anchor,rect:{minX:e.pixelSize[0][0],minY:e.pixelSize[0][1],maxX:e.pixelSize[1][0],maxY:e.pixelSize[1][1]}})}),n},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=this._getCollidingPrimitives(e.placemarks);e.map.addInvisibleCollidingPrimitives(t)},n.shouldComponentUpdate=function(){return!this.props.preventUpdates},n.componentDidUpdate=function(){var e=this,t=this.props,n=t.map.getInvisibleCollidingPrimitives(),r=[],i=this._getCollidingPrimitives(t.placemarks);n.forEach(function(t,n){n.startsWith(e._uuid+":")&&r.push(n)}),t.map.removeInvisibleCollidingPrimitives(r),t.map.addInvisibleCollidingPrimitives(i)},n.componentWillUnmount=function(){var e=this.props;e.map.removeInvisibleCollidingPrimitives(e.placemarks.map(this._getCollidingPrimitiveId))},n.render=function(){return null},t}(i.Component);t.a=Object(s.b)({shouldWait:!0})(c)},81:function(e,t,n){},93:function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(46),a=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={shouldRender:t.immediately||Boolean(t.config.uatraits.isRobot)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.immediately&&this.props.immediately&&this.setState({shouldRender:!0})},n.render=function(){var e=this,t=this.props;if(this.state.shouldRender)return this.props.children;var n=t.placeholder||null;return i.createElement(o.a,{style:{width:"100%",height:"100%"},rootMargin:"100px",onChange:function(t){return e.setState({shouldRender:t})}},n)},t}(i.PureComponent);t.a=Object(a.b)(s)},95:function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return v});var r=n(235),i=n(0),o=n(32),a=["mastercardStandart","goldMastercard","worldMastercard","platinumMastercard","worldMastercardBlackEdition","worldEliteMastercard"],s=["mastercardBusinessCard","mastercardWorldBusinessCard","mastercardPreferredBusinessCard","mastercardCorporateCard"],c=[].concat(a,s);function l(e){i.a.set("promo_mastercard_type",e)}function u(){var e=i.a.get("promo_mastercard_type");return Array.isArray(e)?e.filter(function(e){return c.includes(e)}):[]}function d(e){var t=e.bunker.mastercard;return t&&Array.isArray(t.types)?t.types.filter(function(e){var t=e.id;return void 0===t||c.includes(t)}):[]}function p(e,t,n){return function(e){return Boolean(e.bunker.mastercard&&e.bunker.mastercard.serp.isActive)}(n)?m(e,t,n):null}function f(e,t,n){return m(e,t,n)}function m(e,t,n){var i=o.f(n);return e&&Object(r.a)(o.g(i),{start:e.startDate,end:e.endDate})?function(e,t){return function(e){var t=e.some(function(e){return a.includes(e)}),n=e.some(function(e){return s.includes(e)}),r=t&&n?[]:function(e,t){var n=t?a:s;return[].concat(e).sort(function(e,t){return n.indexOf(t)-n.indexOf(e)})}(e,a.includes(e[0]));return[].concat(r,["anyCard"])}(t).map(function(t){return e.find(function(e){return e.id===t})}).filter(function(e){return Boolean(e)})[0]}(e.offers,t):null}var h={anyCard:"",mastercardStandart:"mastercard_standard",goldMastercard:"gold_mastercard",worldMastercard:"world_mastercard",platinumMastercard:"platinum_mastercard",worldMastercardBlackEdition:"worldblack_mastercard",worldEliteMastercard:"worldelite_mastercard",mastercardBusinessCard:"business_mastercard",mastercardWorldBusinessCard:"worldbusiness_mastercard",mastercardPreferredBusinessCard:"preferredbusiness_mastercard",mastercardCorporateCard:"corporate_mastercard"};function v(e,t){if(void 0===t&&(t=u()),!e.includes("provider:mastercardoffers"))return e;var n=e.replace(/\(? ?feature:\(mastercards_types.*?\)( \|)?\)?/,"");return 0===t.length?n:n+"("+t.map(function(e){return"feature:(mastercards_types:"+h[e]+")"}).join(" | ")+")"}},96:function(e,t,n){"use strict";var r=n(10),i=n(6),o=(n(245),n(4)),a=n(7),s=n(9),c=n(15),l=n(11),u=n(8),d=n(43),p=Object(a.a)("action-button-view"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){var n=t.props;n.onClick&&n.onClick(e)},t._renderAnalyticsWrap=function(e){var n=t.props;return n.analytics?o.createElement(u.a,{name:n.analytics,metrikaGoal:n.metrikaGoal,logClick:!0},e):e},t._renderHintWrap=function(e){var n=t.props;return n.hint?o.createElement(d.a,{text:n.hint,position:"bottom"},e):e},t}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props;return this._renderHintWrap(this._renderAnalyticsWrap(o.createElement("div",{className:p(Object(r.a)(Object(r.a)({},e.mods),{},{stretched:e.isStretched,type:e.type}))},o.createElement(c.a,{view:e.view||"secondary-blue",size:e.size||"medium",isStretched:e.isStretched,icon:e.icon?o.createElement(l.a,{url:e.icon,className:p("icon")}):null,rel:e.rel,url:e.url,target:e.target,onClick:this._onClick},e.text))))},t}(o.Component);t.a=Object(s.b)(f)},99:function(e,t,n){"use strict";var r=n(41),i=n(10),o=n(159),a=n(2796),s=n(322),c=n(2809),l=n(25),u=n(95),d="search_",p="",f={fetch:function(e,t){return Object(l.a)("search",{query:h(e,t)},t).then(function(e){return p=e.requestId,e})},fetchSearchResult:function(e,t){if("poi"===e.from)return e.uri?f.loadPoiByUri(e.uri,t).then(function(t){return Object(i.a)(Object(i.a)({},t),{},{items:t.items.map(function(t,n){return Object(i.a)(Object(i.a)({},t),{},{hotspotProperties:e.hotspotProperties,displayCoordinates:e.coordinates&&0===n?e.coordinates:t.displayCoordinates})})})}):f.loadPoiByCoordinates(e.coordinates,t);if("whatshere"===e.from)return f.loadWhatshere(e,t);var n=Object(i.a)(Object(i.a)({},e),{},{count:1,searchType:"TEXT"});return n.uri&&(n.mode="uri"),f.fetch(n,t)},prepareChainSearchRequest:function(e,t){return f.fetch({count:1,kind:"locality",text:Object(a.a)(e.center,{reverse:!0}),origin:"chain-city"},t).then(function(t){var n={searchType:"TEXT",displayText:e.chain.name,text:"chain_id:("+e.chain.id+")",origin:e.origin||"chain"},r=t.bounds;if(r){var i=Object(s.a)(r);n.center=i.center,n.span=i.span}return n})},loadPoiByCoordinates:function(e,t){return f.fetch({text:Object(a.a)(e,{reverse:!0}),count:1,origin:"poi",snippets:m(t)},t)},loadPoiByUri:function(e,t){return f.fetch({mode:"uri",uri:e,count:1,origin:"poi",snippets:m(t)},t)},loadWhatshere:function(e,t){var n=e.origin,i=Object(r.a)(e,["origin"]);return f.fetch({pin:!0,text:Object(a.a)(i.coordinates,{reverse:!0}),zoom:i.zoom,span:[.001,.001],count:1,origin:n||"poi",addBuildingGeometry:e.addGeometry},t).then(function(e){var t=e.items[0];return t?("poi"===n&&(t.displayCoordinates=t.coordinates),e):null}).catch(function(){return null})}};function m(e){return e.search.snippets.filter(function(e){return"related_adverts/1.x"!==e&&"related_adverts_1org/1.x"!==e})}function h(e,t){var n,r=e.clientId||"maps",s=e.origin?r+"-"+e.origin:r,l=((n={text:e.text,lang:t.locale,yandex_gid:t.userRegion.id,client_id:e.clientId,origin:s,results:e.count,ctx:e.context,mode:e.mode,lr:e.lr,uri:e.uri,business_oid:e.id,z:e.zoom,sort:e.sort,business_filter:e.filters,autoscale:e.autoscale,distinguish_layers:e.distinguishLayers,correct_misspell:e.correctMisspell,geocoder_kind:e.kind,skip:e.skip,rspn:e.restrictSpan,rearr:e.rearr,groupchains_advert:e.groupchains_advert,relev_ranking_formula:e.relev_ranking_formula,relev_allow_combined_drugs:e.relev_allow_combined_drugs,maxadv:e.maxadv})[o.e]=e[o.e],n.eventsBranch=t.query.eventsBranch,n);return e.addBuildingGeometry&&(l.search_geometry="2"),e.sortOrigin&&(l.sort_origin=e.sortOrigin.join()),e.center&&(l.ll=e.center.join()),e.span&&(l.spn=e.span.join()),e.bbox&&(l.bbox=e.bbox.join("~")),e.snippets?l.snippets=e.snippets.join():l.snippets=t.search.snippets.join(),e.direct&&(l=Object(i.a)(Object(i.a)({},l),t.advert.direct.params)),e.pin&&(l.geocoder_pin=1),e.type&&(l.type=e.type.join()),e.routeCoordinates&&e.bounds&&e.routeCoordinates.some(function(t){return Object(c.a)(e.bounds,t)})&&(l.business_rll=e.routeCoordinates.map(function(e){return Object(a.a)(e,{fractionDigits:5})}).join("~")),e.clientUsecase&&(l.client_usecase=e.clientUsecase),e.suggestReqid&&"form"===e.origin&&(l.suggest_reqid=e.suggestReqid),e.serpId&&(l.serpid=e.serpId),(e.parentReqId||p||t.searchPreloadedResults)&&(l.parent_reqid=e.parentReqId||p||t.searchPreloadedResults.requestId),(t.experiments.ui.whatshereInDistrictTop||t.experiments.ui.whatshereInDistrictBottom)&&(l.includeWhatshereInDistrict=1),e.geoWhere&&(l.geowhere=[].concat(e.geoWhere).reverse().join()),e.businessMode&&(l.business_mode=e.businessMode),"boolean"==typeof e.businessShowClosed&&(l.business_show_closed=e.businessShowClosed?1:0),l.text=l.text&&u.e(l.text),Object(i.a)(Object(i.a)(Object(i.a)({},l),e.rawParams),function(e){var t=Object(i.a)({},e.experiments.geoSearchParams||{}),n=e.experiments.boxes;n&&(t["test-buckets"]=n);return Object.keys(e.query).forEach(function(n){n.startsWith(d)&&(t[n]=e.query[n])}),t}(t))}t.a=f}}]);