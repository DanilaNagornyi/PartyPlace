(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["search","dialog"],{103:function(e,t,n){},105:function(e,t,n){},1052:function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(10),a=n(4),o=n.n(a),s=n(12),c=n(2794),l=n(2792),u=n(253),d=n(20),p=n(165),m=n(17),f=n(9),h=n(40),v=n(16),g=n(30),b=n(146),_=n(23),y=n(37),E=n(91),C=n(115),w=n(383),k=n(170),S=n(121),O=n(134),R=n(2777),T=n(1895),j=n(783),I=n(784),N=n(72),P=n(513),x=n.n(P),M=n(1917),F=n.n(M),D=n(21),L=n(373),B=n(1918),A=n(55),z=n(147),q=n(1925),U=n(1142),W=n(2757),H=n(792),V=n(1947),X=n(54),Y=n(61),G=Object(d.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,1183))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1183}}),Q=Object(d.a)({resolved:{},chunkName:function(){return"base"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,33))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 33}}),Z={search:E.a.search,openCard:S.a.openPreloadedCard,searchChain:E.a.searchChain,updateSearch:E.a.updateSearch,setMapLocationRequest:E.a.setMapLocationRequest,loadMore:E.a.loadMore,openBusinessFeedback:Y.a.openBusinessFeedback,openOrgpage:E.a.openOrgpage,processMapObjectClick:C.a.processMapObjectClick,buildRouteTo:C.a.buildRouteTo,runPromoAction:w.a.runPromoAction,loadDiscovery:k.a.load,setMapLocation:_.a.setMapLocation,updateBookingPersons:H.a.updatePersons,updateBookingDates:H.a.updateDates,updateFilterPanelStack:E.a.updateFilterPanelStack,reduceStackByLastMode:_.a.reduceStackByLastMode,close:y.a.close,updateText:_.a.updateSearchText},K="search",J=Object(m.a)(s.b(function(e){var t,n,r=v.d(e),a=v.h(e,"orgpage"),o=v.g(e,"search"),s=v.h(e,"search-result"),c=o[o.length-1],l=null!==(t=null==c?void 0:c.filterPanelStack)&&void 0!==t?t:[],u=l[l.length-1];return Object(i.a)(Object(i.a)({isSearchMode:r===K,isLoading:Boolean(e.search.loadingRequest),visitedBusinesses:e.search.visitedBusinesses,orgpageId:a&&a.result?a.result.id:void 0,mapLocation:e.map.location,mapSize:e.map.size,isSnapToRoundZoom:e.map.isSnapToRoundZoom,isMapEditing:e.map.isEditing,region:e.mapRegion,mobileViewState:null==c?void 0:c.mobileViewState,userLocation:e.geolocation},e.form),{},{stack:o,singleResult:null==s?void 0:null===(n=s.response)||void 0===n?void 0:n.items[0],filtersStackItem:v.o(e)?void 0:g.r(e),selectedFilterPanel:u})},Z),f.b),$=450,ee=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getStep=function(e){void 0===e&&(e={});var t=(e.props||n.props).stack;return t[t.length-(e.offset||1)]},n._getTextSearchOffset=function(){return[1,2].find(function(e){var t=n._getStep({offset:e});return Boolean(t)&&"TEXT"===t.request.searchType&&g.F(t)&&!t.results.exactResult&&!t.results.commands})},n._onInertiaStart=function(e){n._inertiaLocation=Object(i.a)({},n.props.mapLocation),n._inertiaLocation.center=e,n._inertiaLocation.bounds=Object(c.a)(n._inertiaLocation),n._onMapStateChange(n._inertiaLocation)},n._isCollectionTab=function(){var e=n._getStep(),t=g.F(e)?e.results:void 0;return b.l(null==t?void 0:t.filters)},n._onMapStateChange=function(e){var t=n.props;if(n.state.zoomingToResults)n.setState({zoomingToResults:!1});else{var r=n._getTextSearchOffset();void 0!==r&&(n._isCollectionTab()?t.setMapLocationRequest({center:e.center,zoom:e.zoom}):t.updateSearch(Object(i.a)(Object(i.a)({},e),{},{skip:0,origin:"mouse",disallowZoom:!0}),{offset:r}))}},n._shouldZoomToResults=function(e){var t=n._getStep({props:e}),r=n._getStep(),i=t&&g.F(t)?t.results:null,a=r&&g.F(r)?r.results:null,o=e.stack.length!==n.props.stack.length;if(!a||r.request.disallowZoom||!o&&i===a)return!1;if(n.props.singleResult)return!1;var s=a.bounds;if(!s)return!1;var c=n.props,d=Object(u.c)({bounds:s},[0,0,0,0],c.mapSize,c.isSnapToRoundZoom),p=d.center,m=d.zoom;return Math.abs(c.mapLocation.zoom-m)>.5||!Object(l.a)(c.mapLocation.center,p)},n._zoomToResults=function(){var e=n._getStep(),t=g.F(e)&&e.results.bounds;t&&n.setState({zoomingToResults:!0},function(){n.props.setMapLocation({bounds:t,duration:$})})},n._onTypoClick=function(){n.props.search(Object(i.a)(Object(i.a)({},n.props.stack[0].request),{},{correctMisspell:0,context:null}))},n._onBrandingChainLinkClick=function(e){n._searchChain({chain:e,center:n.props.mapLocation.center})},n._searchChain=function(e){n.props.searchChain({chain:e.chain,center:e.center})},n._updateSearchText=function(){n.props.updateSearch({})},n._highlightResult=function(e){var t=n.props.isSearchMode,r=n.props.singleResult;t&&r&&g.b(r,e)||n.setState({highlightedResult:e})},n._unhighlightResult=function(e){var t=n.state.highlightedResult;t&&g.b(t,e)&&n.setState({highlightedResult:null})},n._onFiltersChange=function(e){var t=n._getTextSearchOffset();if(void 0!==t){var r=n._getStep(),a=g.F(r)?r.results.filters:void 0,o=b.l(e)!==b.l(a);n.props.updateSearch(Object(i.a)(Object(i.a)({},n.props.mapLocation),{},{skip:0,filters:b.b(e),origin:"filter"},o?{context:void 0}:void 0),{offset:t,stackAction:o?"replace":void 0})}},n._addBusinessToList=function(){var e=n._getStep();if(g.F(e)){var t=e.results.items.find(g.y),r=t&&"BUSINESS_LIST"===e.request.searchType?{address:t.address,coordinates:t.coordinates,displayCoordinates:t.coordinates}:void 0;p.a.reachGoal("addorg_search"),n.props.openBusinessFeedback({result:r})}},n._getFiltersList=function(e){if(e&&g.F(e)){var t=e.results.filters;if("TEXT"===e.request.searchType&&t&&0!==t.length&&(0!==e.results.items.length||t.find(b.p)))return t}},n._makeFilterUrl=function(e){var t=n.props.config,r=n.props.filtersStackItem;if(r&&g.F(r)){var a=r.results.requestRubric,o=r.results.requestGeoWhere;return a&&n.props.region&&D.e(a,n.props.region,Object(i.a)(Object(i.a)({},t),{},{filter:e,geoWhere:o}))}},n._onMapResultClick=function(e){var t=n.props;t.processMapObjectClick({point:{value:e.title,coords:e.displayCoordinates,searchResult:e},action:function(){if(t.orgpageId&&"business"===e.type)return n._openOrgpage(e);t.openCard(e)}})},n._selectResult=function(e,t){void 0===t&&(t={}),"collection"===e.type?n.props.loadDiscovery(e.alias,{linkedSearchResult:e}):"transit-route"!==e.type&&n.props.openCard(e,t)},n._openOrgpage=function(e){var t=n._getStep(),r=g.F(t)?t.results:void 0;n.props.openOrgpage({id:e.id},{requestId:null==r?void 0:r.requestId,preloadedData:e})},n._openFilters=function(e){n.props.updateFilterPanelStack({action:"push",item:e?{type:"filter",id:e}:{type:"list"}})},n._popFilters=function(){n.props.updateFilterPanelStack({action:"pop"})},n._closeFilters=function(){n.props.updateFilterPanelStack({action:"clear"})},n._onFiltersSubmit=function(e){n._closeFilters(),n._onFiltersChange(e)},n._onFiltersReset=function(){n._closeFilters(),n._onFiltersChange([]),n.props.updateBookingDates(),n.props.updateBookingPersons()},n._onClose=function(){var e=n.props;e.reduceStackByLastMode(),e.updateText("")},n._isSerp=function(){var e=n._getStep(),t=g.F(e),r=t?e.results.commands:void 0;return t&&!r&&e.results.items.length>0},n._renderCommands=function(e,t){return a.createElement(R.a,{commands:e,query:t,mapLocation:n.props.mapLocation,search:n.props.search})},n._renderSearchNearbyPin=function(){var e=n.props.stack.slice().reverse().find(function(e){return e.request.nearbyPlace}),t=null==e?void 0:e.request.nearbyPlace;return t?a.createElement(z.a,{name:"nearby_pin"},a.createElement(X.a,{coordinates:t.coordinates},a.createElement(V.a,{rubric:t.rubric}))):null},n._renderList=function(e){var t=n.props,r=t.runPromoAction,i=t.isSearchMode,o=n.state,s=n._getStep();return a.createElement(T.a,{meta:s.meta,isSearchMode:i,searchResponse:e.results,searchText:e.request.text,searchDisplayText:e.request.displayText,pages:e.pages,highlightedResult:o.highlightedResult||void 0,isTextSearch:"TEXT"===e.request.searchType,isPagesLoading:e.isPagesLoading,onTypoClick:n._onTypoClick,onResultClick:n._selectResult,onResultMouseEnter:n._highlightResult,onResultMouseLeave:n._unhighlightResult,onFiltersReset:n._onFiltersReset,onAddBusinessClick:n._addBusinessToList,loadMoreResults:n.props.loadMore,onBrandingClick:r,onBrandingChainLinkClick:n._onBrandingChainLinkClick,updateBookingDates:n.props.updateBookingDates,updateBookingPersons:n.props.updateBookingPersons,updateSearchText:n._updateSearchText,onClose:n._onClose,renderFilters:n._renderFilters})},n._renderFilters=function(e){var t,r,i=n._getStep(),o=n._getFiltersList(i);return o&&i&&g.F(i)?a.createElement(W.a,{filters:o,items:i.results.items,onChange:n._onFiltersChange,onShowMoreClick:n._openFilters,renderFiltersBar:n._renderPanelFiltersBar,isInCollapsed:e,requestId:i.results.requestId,textQuery:null!==(t=null!==(r=i.results.requestCorrectedQuery)&&void 0!==r?r:i.results.requestQuery)&&void 0!==t?t:""}):null},n._renderPanelContent=function(e){if("error"in e&&e.error)return a.createElement(O.a,null,"Что-то пошло не так.\nПопробуйте обновить страницу\nили зайти позднее.");if(!g.F(e))return null;var t=e.results,r=t.commands,i=t.requestCorrectedQuery,o=n.props.config;return r&&("metro"!==r.name||o.hosts.metro)&&i?n._renderCommands(r,i):n.props.singleResult?null:n._renderList(e)},n._renderMiniCard=function(){n.props;return null},n._renderMicroCard=function(){if(!n._isSerp())return null;var e=n.props.filtersStackItem;return a.createElement(a.Fragment,null,"micro"===(null==e?void 0:e.mobileViewState)?n._renderMapFiltersBar():null,a.createElement(N.a,{onClose:n._onClose,title:"Результаты поиска",view:"tall",big:!0}))},n._renderPanel=function(e){if(n.props.singleResult)return null;var t=n.props.config.query,r=g.F(e)?e.results:void 0,i=(null==r?void 0:r.items.some(function(e){var t;return"business"===e.type&&"drug"===(null===(t=e.matchedObjects)||void 0===t?void 0:t.rubric)}))?{source:"wizdrugs"===t.source?"serp":"health"===t.source?"health":"internal"}:void 0;return a.createElement(Q,{name:"search",analyticsName:"serp_panel",analyticsState:i,isLoading:n.props.isLoading,onClose:n._onClose,hideCloseButton:!(null==r?void 0:r.commands),miniCardOnly:!n._isSerp(),renderMiniCard:n._renderMiniCard,renderMicroCard:n._renderMicroCard,scrollCacheKey:g.F(e)?e.results.requestId:void 0,viewStateAfterCollapse:"micro"},n._renderPanelContent(e))},n._renderMap=function(e){var t=n.props;if(t.isMapEditing)return null;if(!g.F(e))return null;var r=n.props.singleResult,i=r&&g.y(r)&&g.z(r)?void 0:r;return a.createElement(a.Fragment,null,a.createElement(I.default,{searchResponse:e.results,visitedBusinesses:t.visitedBusinesses,orgpageId:t.orgpageId,highlightedResult:n.state.highlightedResult||void 0,highlightResult:n._highlightResult,unhighlightResult:n._unhighlightResult,selectedResult:i,hiddenResults:i?[i]:void 0,onResultClick:n._onMapResultClick,onRouteClick:t.buildRouteTo,showDebugBounds:e.showDebugBounds,mapLocation:n._inertiaLocation||t.mapLocation,isLoading:t.isLoading,alongRoute:Boolean(e.request.routeCoordinates)}),!r&&g.F(e)?a.createElement(j.default,{searchResults:e.results,mapLocation:t.mapLocation}):null,n._renderSearchNearbyPin())},n._renderMapFiltersBar=function(){var e=n.props.filtersStackItem,t=n._getFiltersList(e),r=(null==e?void 0:e.request.text)||"",i=r&&r.startsWith("provider:mastercardoffers");return a.createElement(q.a,{buttonView:"air-alt",buttonSize:"medium",filters:t,onChange:n._onFiltersChange,isShowMoreDialogVisible:Boolean(n.props.selectedFilterPanel),onShowMoreClick:n.props.selectedFilterPanel?n._closeFilters:n._openFilters,updateBookingDates:n.props.updateBookingDates,updateBookingPersons:n.props.updateBookingPersons,makeFilterUrl:n._makeFilterUrl},i?a.createElement(G,{buttonView:"air-alt",buttonSize:"medium",text:r,onUpdate:n._updateSearchText}):null)},n._renderPanelFiltersBar=function(){var e=n._getStep(),t=n._getFiltersList(e);return t?a.createElement(U.a,{filters:t,onChange:n._onFiltersChange,onShowMoreClick:n._openFilters,updateBookingDates:n.props.updateBookingDates,updateBookingPersons:n.props.updateBookingPersons,makeFilterUrl:n._makeFilterUrl,buttonView:"secondary-gray",buttonSize:"medium",isShowMoreDialogVisible:Boolean(n.props.selectedFilterPanel)}):null},n._renderFiltersPanel=function(){var e=n.props.filtersStackItem,t=n.props.selectedFilterPanel;if(!t||!e||!g.F(e))return null;var r=e.results.filters;return r&&0!==r.length?a.createElement(L.a,{onClose:n._popFilters},a.createElement(B.a,{filters:r,selectedEnumId:"filter"===t.type?t.id:void 0,onSubmit:n._onFiltersSubmit,onClose:n._popFilters,onSelectEnum:n._openFilters,onReset:n._onFiltersReset,updateBookingDates:n.props.updateBookingDates,updateBookingPersons:n.props.updateBookingPersons})):null},n.state={highlightedResult:null,zoomingToResults:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.mapLocation,n=e.mapLocation,r=this.props.config;n!==t&&this._inertiaLocation&&(n=this._inertiaLocation),Object(l.a)(t.center,n.center)&&t.zoom===n.zoom||(this._inertiaLocation=void 0,this._onMapStateChange(t)),this.props.isSearchMode&&e.stack!==this.props.stack&&(this.setState({highlightedResult:null}),this._shouldZoomToResults(e)&&this._zoomToResults());var i=this._getStep()?this._getStep().request:void 0;i!==(this._getStep({props:e})?this._getStep({props:e}).request:void 0)&&this._closeFilters(),"distance"===r.query.sort&&this.props.userLocation.currentPosition&&!e.userLocation.currentPosition&&i&&this.props.updateSearch({origin:i.origin,text:i.text,displayText:i.displayText,searchType:"TEXT",center:this.props.userLocation.currentPosition,restrictSpan:1,autoscale:!1})},n.render=function(){this.props.config;var e=this._getStep();return e?a.createElement(a.Fragment,null,this._renderMapFiltersBar(),this._renderFiltersPanel(),this._renderPanel(e),this._renderMap(e),a.createElement(A.b,{onInertiaStart:this._onInertiaStart})):null},t}(a.Component);ee.displayName="SearchComponent",t.default=J(ee)},107:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o});var r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function i(e,t){return{sunday:"Воскресенье",monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота"}[t]}function a(e,t){return{sunday:"Вс",monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб"}[t]}function o(e,t){return{sunday:"В воскресенье",monday:"В понедельник",tuesday:"Во вторник",wednesday:"В среду",thursday:"В четверг",friday:"В пятницу",saturday:"В субботу"}[t]}},113:function(e,t,n){"use strict";n(153);var r=n(4),i=n(7),a=n(8),o=n(9),s=n(59),c=Object(i.a)("business-rating-badge-view");t.a=Object(o.b)(function(e){var t=Math.round(2*e.ratingValue),n=Math.floor(t/2),i=!1;2*n!==t&&(i=!0);var o=e.size||"m";return r.createElement(a.a,{name:"business_rating"},r.createElement("span",{className:c({size:o})},r.createElement("div",{className:c("stars")},new Array(5).fill(null).map(function(e,t){return r.createElement("span",{className:c("star",{half:i&&t===n,empty:t>=(i?n+1:n),size:o}),key:t})})),e.onlyStars?null:r.createElement("span",{className:c("rating")},r.createElement("span",{className:c("rating-text",{size:o})},s.b(e.ratingValue,e.config.lang,{min:1,max:1})))))})},1142:function(e,t,n){"use strict";var r=n(6),i=(n(1928),n(4)),a=n(2779),o=n(9),s=n(7),c=n(146),l=n(15),u=n(8),d=n(47),p=n(13),m=n(41),f=(n(1930),n(22)),h=n(80),v=n(53),g=(n(1932),Object(s.a)("menu-item_air")),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){var e=t.props;e.isDisabled||e.onClick()},t._onUrlClick=function(e){e.preventDefault()},t._renderLink=function(){var e=t.props;return e.link?i.createElement("a",Object(p.a)({},e.link,{className:g("link"),style:{pointerEvents:"none"},onClick:t._onUrlClick}),e.text):e.text},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement("div",{className:g({checked:e.isChecked,mode:e.mode,size:e.size,disabled:e.isDisabled,"disabled-tick":e.isTickDisabled}),onClick:this._onClick},i.createElement("div",{className:g("text")},this._renderLink()))},t}(i.Component),_=Object(s.a)("menu"),y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onItemClick=function(e){var n=t.props;if("radio"===n.mode)t.props.onChange([e]);else{var r=n.checkedItems,i=r.includes(e)?r.filter(function(t){return t!==e}):n.singleSelect?[e]:r.concat(e);t.props.onChange(i)}},t._renderMenuItem=function(e){var n=t.props,r="auxiliary"in e;return i.createElement(b,{key:e.id||"",text:e.text,mode:r?"auxiliary":n.mode,size:n.size,link:e.link,isChecked:n.checkedItems.includes(e.id),isDisabled:!!n.disabledItems&&n.disabledItems.includes(e.id),isTickDisabled:n.isMenuTickDisabled,onClick:function(){return r&&t.props.onAuxiliaryClick?t.props.onAuxiliaryClick(e.id):t._onItemClick(e.id)}})},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props;return i.createElement("div",{className:_({size:t.size})},t.groups.map(function(t,n){return i.createElement("div",{key:n,className:_("group")},t.title?i.createElement("div",{className:_("group-title")},t.title):null,t.items.map(e._renderMenuItem))}))},t}(i.Component),E=Object(s.a)("select-air"),C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=i.createRef(),n._onAuxiliaryClick=function(e){n._onClose(),n.props.onChange([e])},n._onButtonClick=function(){n.setState({isMenuShown:!n.state.isMenuShown}),n.props.onClick&&n.props.onClick()},n._onClose=function(){n.state.isMenuShown&&n.setState({isMenuShown:!1})},n._renderMenu=function(){var e=n.props;return i.createElement(y,{groups:e.groups,checkedItems:e.checkedItems,disabledItems:e.disabledItems,mode:e.mode||"radio",size:"m",onChange:n.props.onChange,onAuxiliaryClick:n._onAuxiliaryClick,singleSelect:n.props.singleSelect})},n._renderDropdown=function(){var e=n.state;return i.createElement(f.a,{className:E("dropdown"),getTarget:function(){return n._ref.current},isShown:e.isMenuShown,onClose:n._onClose,offset:{main:4,side:0},position:n.props.position||"bottom-right",showArrow:!1},n._renderMenu())},n.state={isMenuShown:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return i.createElement("div",{className:E({stretched:e.isStretched}),ref:this._ref},i.createElement(h.a,{handlers:{key:v.a.ESC,callback:this._onClose,allowInEditable:!0}}),i.createElement(l.a,{tick:e.tick||"angle",checked:e.buttonChecked,flippedTick:t.isMenuShown,tabIndex:e.tabIndex,disabled:e.disabled,view:e.buttonView,size:e.buttonSize,onClick:this._onButtonClick,isStretched:e.isStretched,isTextAlignLeft:e.isTextAlignLeft},e.checkedItemsToNode(e.checkedItems,e.groups)),this._renderDropdown())},t}(i.Component);n(1934);function w(e,t){var n=t.reduce(function(t,n,r){return[].concat(t,n.items.filter(function(t){return e.includes(t.id)}).map(function(e,t){return 0===r&&0===t?e.text:i.createElement(i.Fragment,null,", ",e.text)}))},[]);return 0===n.length?"-":n}var k=Object(o.b)(function(e){var t=e.config,n=Object(m.a)(e,["config"]),r=C;return i.createElement(r,Object(p.a)({},n,{config:t,checkedItemsToNode:n.checkedItemsToNode||w}))}),S=n(1935),O=n(10),R=["star"],T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onShowMoreClick=function(e){n.props.onShowMoreClick(e)},n._makeItemFromEnumValue=function(e){var t=n.props,r=t.makeFilterUrl(Object(O.a)(Object(O.a)({},t.filter),{},{values:[Object(O.a)(Object(O.a)({},e),{},{selected:!0})]}));return{id:e.id,text:Object(a.a)(e.name),link:r?{href:r}:void 0}},n._getEnumItems=function(e){var t=R.includes(e.id)?c.s(e):[].concat(e.values);if(!e.singleSelect){var n=t.filter(function(e){return e.selected}),r=t.filter(function(e){return!e.selected});return[].concat(n,r)}return t},n.state={showAll:!1},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.state,r=t.filter,o=this._getEnumItems(r).slice(0,6).map(this._makeItemFromEnumValue);if(n.showAll){var s=this._getEnumItems(r).slice(6).sort(function(e,t){return e.name.localeCompare(t.name)}).map(this._makeItemFromEnumValue);o.push.apply(o,s)}else if(r.values.length>o.length){var c=o.length-1;o.splice(c,1,{id:"showMore",text:(function(params){return "Ещё "+params.count;})({count:r.values.length-c}),auxiliary:!0})}var l=t.Select;return i.createElement(l,Object(p.a)({buttonView:"secondary-gray",buttonSize:"medium",tick:"angle",mode:"check",singleSelect:r.singleSelect,buttonChecked:t.selectedIds.length>0,disabled:r.disabled,checkedItems:t.selectedIds,groups:[{items:o}],checkedItemsToNode:function(){return function(e,t){if("travel_personsAmount"===e.id){var n=e.values.find(function(e){return t.includes(e.id)});if(n)return n.name}return Object(a.a)(e.name)}(r,t.selectedIds)},hideMenuOnClick:!0,onClose:function(){return e.setState({showAll:!1})},onChange:function(n){return n.includes("showMore")?e._onShowMoreClick(r):t.onChange(r,n.filter(function(e){return"showMore"!==e}))}},t.selectProps))},t}(i.Component);var j=Object(o.b)(T),I=n(442),N=(n(1939),n(2798)),P=n(35),x=n(28),M=n(85),F=Object(s.a)("filters-list-view"),D=function(e){function t(t){var n;return(n=e.call(this,t)||this)._beforeContentRef=i.createRef(),n._filterRefs={},n._filtersListRef=i.createRef(),n._getVisibleIds=function(){var e=n._beforeContentRef.current,t=n._filtersListRef.current,r=n._getTopFilters().map(function(e){return e.id});if(!e||!t)return[];for(var i,a=t.offsetWidth-e.offsetWidth,o=[],s=Object(I.a)(r);!(i=s()).done;){var c=i.value,l=n._filterRefs[c];if(l){if(!((a-=l.offsetWidth)>0))break;o.push(c)}}return o},n._updateVisibleCount=function(){var e=n._getVisibleIds();Object(N.a)(n.state.visibleIds,e)||n.setState({visibleIds:e})},n._setFilterRef=function(e,t){t?n._filterRefs[e]=t:delete n._filterRefs[e]},n._getFilters=function(){return n.props.filters.filter(function(e){return"pictured"!==e.type}).filter(c.r)},n._getTopFilters=function(){return n._getFilters().filter(function(e){return e.isTop})},n._renderFilter=function(e,t){return n.props.renderFilter({filter:e,setRef:function(t){return n._setFilterRef(e.id,t)},visible:t})},n._renderDesktopLayout=function(e){return i.createElement("div",{ref:n._filtersListRef,className:F({noprint:!0})},e)},n._renderMobileLayout=function(e){return i.createElement(P.a,{itemsGap:8,padding:16,style:{overflow:"visible"}},e)},n.state={visible:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateVisibleCount()},n.componentDidUpdate=function(){this._updateVisibleCount();var e=this.state.visibleIds,t=Boolean(e&&e.length>0);this.state.visible!==t&&this.setState({visible:t})},n.render=function(){var e=this,t=this.props,n=this._getTopFilters(),r=Array.isArray(this.state.visibleIds)?this.state.visibleIds:n.map(function(e){return e.id}),a=n.filter(function(e){var t=e.id;return r.includes(t)}),o=n.filter(function(e){var t=e.id;return!r.includes(t)}),s=this._getFilters().some(function(e){return c.p(e)&&a.every(function(t){return t.id!==e.id})}),l={areFiltersShown:this.state.visible,hasHiddenSelectedFilters:s},u=[i.createElement("div",{key:"before",ref:this._beforeContentRef},t.renderBeforeContent?t.renderBeforeContent(l):null)].concat(a.map(function(t){return e._renderFilter(t,e.state.visible)}));return i.createElement(i.Fragment,null,this._renderDesktopLayout(u),i.createElement(x.a,null,i.createElement("div",{className:F("astral")},o.map(function(t){return e._renderFilter(t,!1)})),i.createElement(M.a,{onResize:this._updateVisibleCount})))},t}(i.Component),L=Object(o.b)(D),B=Object(s.a)("search-filters-bar"),A=function(e){function t(t){var n;return(n=e.call(this,t)||this)._filterRefs={},n._filtersListRef=i.createRef(),n._filterRef=function(e,t){t?n._filterRefs[e]=t:delete n._filterRefs[e]},n._onDateFilterChange=function(e,t,r){n.setState({filters:c.d(n.state.filters,e,t,r)},n._onChange)},n._onBoolFilterChange=function(e,t,r){e.preventDefault(),n.setState({filters:c.c(n.state.filters,t,r)},n._onChange)},n._onEnumFilterChange=function(e,t){var r=t;"travel_personsAmount"===e.id&&(r=r.length>0?[r[r.length-1]]:[],n.props.updateBookingPersons(r[0]?Number(r[0]):void 0)),n.setState({filters:c.e(n.state.filters,e,r)},n._onChange)},n._onDropdownFilterIdChange=function(e){var t=n.state.dropdownFilterId;t&&t===e?n.setState({dropdownFilterId:null}):n.setState({dropdownFilterId:e})},n._onChange=function(e){n.props.onChange(e||n.state.filters)},n._showAllEnum=function(e){n._onDropdownFilterIdChange(null),n.props.onShowMoreClick(e.id)},n._getFilterStyle=function(e){var t=e.id,r=n._filtersListRef.current,i=n._filterRefs[t];return{transform:"translateX(-"+(r&&i?i.offsetLeft-r.offsetLeft:0)+"px)"}},n._renderBooleanFilter=function(e,t){var r=c.p(e),o=n.props.makeFilterUrl(e),s=i.createElement("div",{className:B("button")},i.createElement(l.a,{view:n.props.buttonView,size:n.props.buttonSize,checked:r,disabled:e.disabled||n.props.isShowMoreDialogVisible,url:o,onClick:function(t){return n._onBoolFilterChange(t,e,!r)}},Object(a.a)(e.name)));return t?i.createElement(u.a,{name:"filter",nodeState:{id:e.id,checked:r,disabled:e.disabled},logClick:!0},s):s},n._renderDropdownFilter=function(e){var t=c.p(e);return i.createElement("div",{className:B("button")},i.createElement(l.a,{view:n.props.buttonView,size:n.props.buttonSize,checked:t,tick:"triangle",flippedTick:n.state.dropdownFilterId===e.id,disabled:e.disabled||n.props.isShowMoreDialogVisible,onClick:function(){return n._onDropdownFilterIdChange(e.id)}},function(e,t){if("hotel_date_range"===e.id&&e.dateFrom&&e.dateTo)return d.d(e.dateFrom,e.dateTo,t);return Object(a.a)(e.name)}(e,n.props.config)))},n._renderDropdown=function(){var e=n.props,t=e.filters.find(function(e){return e.id===n.state.dropdownFilterId}),r=t&&"date"===t.type?t:void 0;return i.createElement(S.a,{filter:r,onClose:function(){return n._onDropdownFilterIdChange(null)},onChange:function(e,t){r&&n._onDateFilterChange(r,e,t)},isShown:Boolean(r),getTarget:function(){return r?n._filterRefs[r.id]:null},updateBookingDates:e.updateBookingDates})},n._renderEnumFilter=function(e,t){var r=c.h(e),a=n.props.filters.find(function(t){return t.id===e.id});if(!a)return null;var o=i.createElement("div",{className:B("button")},i.createElement(j,{filter:a,makeFilterUrl:n.props.makeFilterUrl,onChange:n._onEnumFilterChange,onShowMoreClick:n._showAllEnum,Select:k,selectedIds:r,selectProps:{buttonView:n.props.buttonView,buttonSize:n.props.buttonSize,disabled:e.disabled||n.props.isShowMoreDialogVisible,hideMenuOnClick:!0,onClick:function(){return n._onDropdownFilterIdChange(null)},tick:"triangle"}}));return t?i.createElement(u.a,{name:"filter",nodeState:{id:e.id,checkedItems:r},logClick:!0},o):o},n._renderFilterContent=function(e,t){return"boolean"===e.type?n._renderBooleanFilter(e,t):"date"===e.type?n._renderDropdownFilter(e):"enum"===e.type?n._renderEnumFilter(e,t):null},n._renderFilter=function(e){var t=e.filter,r=e.setRef,a=e.visible,o=t.id,s=n._renderFilterContent(t,a);return s?i.createElement("div",{className:B("filter",{visible:a}),key:o,ref:function(e){n._filterRef(o,e),r(e)},style:n._getFilterStyle(t)},s):null},n._renderShowMore=function(e){var t=e.hasHiddenSelectedFilters,r=e.areFiltersShown;return i.createElement(u.a,{name:"show_more",logClick:!0},i.createElement("div",{className:B("filter",{visible:r})+" "+B("show-more-button")},i.createElement(l.a,{view:n.props.buttonView,size:n.props.buttonSize,icon:i.createElement("div",{className:B("show-more-icon",{checked:t})}),iconWidth:"26px",isStretched:!0,onClick:function(){n._onDropdownFilterIdChange(null),n.props.onShowMoreClick()}})))},n._renderAdditionalFilters=function(e){var t=n.props.children;return t?i.Children.map(t,function(t,n){return i.createElement("div",{className:B("filter",{visible:e.areFiltersShown}),key:"custom"+n},t)}):null},n._renderBeforeContent=function(e){return i.createElement("div",{className:B("before-filters")},n._renderShowMore(e),n._renderAdditionalFilters(e))},n.state={dropdownFilterId:null,filters:t.filters},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.filters!==this.props.filters&&this.setState({filters:this.props.filters})},n.render=function(){return i.createElement(u.a,{name:"filters"},i.createElement("div",{ref:this._filtersListRef,className:B()},i.createElement(L,{filters:this.state.filters,renderBeforeContent:this._renderBeforeContent,renderFilter:this._renderFilter})),this._renderDropdown())},t}(i.PureComponent);t.a=Object(o.b)(A)},118:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n(141),o=n(9),s=n(160),c=n(16),l=n(218),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!t.isTimingLogged){var e=this.props,n=e.config.pageMode;"search-result"===e.config.pageMode&&(n="search"),"metro_page"===e.type&&(n="metro"),function(e){switch(e){case"routes_page":return"routes";case"org_page":return"orgpage";case"discovery_page":return"discovery";case"home_page":return"home";case"panorama_page":case"panorama_page_new":return"panoramas";case"photos_page":return"photos";case"search_card_page":case"search_list_page":return"search";case"traffic_page":return"traffic";case"masstransit_stop_page":case"masstransit_route_page":return"masstransit";case"catalog_page":return"catalog";case"metro_page":return"metro"}}(e.type)===n&&(t.isTimingLogged=!0,c.n(Object(l.a)(e.config))||this.setState({ready:a.a.getTimeToNow()}))}},n.render=function(){var e=this.props.type;return"undefined"==typeof window?null:i.createElement(s.a,{type:e,ready:this.state.ready,extraState:{show:window.timingsMarks&&e in window.timingsMarks?window.timingsMarks[e]:this.state.ready}})},t}(i.PureComponent);u.isTimingLogged=!1,t.a=Object(o.b)(u)},124:function(e,t,n){"use strict";var r=n(13),i=n(41),a=n(6),o=n(4),s=n(54),c=n(55),l=n(22),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=o.createRef(),t._onMapUpdate=function(){t.forceUpdate()},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.coordinates,a=Object(i.a)(t,["coordinates"]);return o.createElement(o.Fragment,null,o.createElement(s.a,{coordinates:n,nonInteractive:!0},o.createElement("div",{ref:this._ref}),o.createElement(l.a,Object(r.a)({type:"balloon"},a,{getTarget:function(){return e._ref.current}}),a.children)),o.createElement(c.b,{onUpdate:a.isShown?this._onMapUpdate:void 0}))},t}(o.PureComponent);t.a=u},131:function(e,t,n){"use strict";var r=n(13),i=n(41),a=n(71),o=n(6),s=n(4),c=n(2779),l=n(9),u=!0,d=new Map,p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=s.createRef(),t._getTitleFromChildren=function(){var e=t.props.children;if("string"==typeof e)return e},t._getDefaultTitle=function(){return "Яндекс.Карты"},t._updateTitle=function(){var e=t._ref.current,n=t._getTitleFromChildren()||e.innerText||e.textContent,r=n&&n.replace(/\s/g," ").trim();r&&(d.set(Object(a.a)(t),r),t._setDocumentTitle(r))},t._setDocumentTitle=function(e){u?u=!1:window.document.title=e?Object(c.a)(e)+" — "+t._getDefaultTitle():t._getDefaultTitle()},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateTitle()},n.getSnapshotBeforeUpdate=function(){return this._ref.current.textContent},n.componentDidUpdate=function(e,t,n){n!==this._ref.current.textContent&&this._updateTitle()},n.componentWillUnmount=function(){d.delete(this);var e=d.values().next().value;this._setDocumentTitle(e)},n.render=function(){var e=this.props,t=e.children,n=(e.config,Object(i.a)(e,["children","config"]));return s.createElement("h1",Object(r.a)({},n,{ref:this._ref}),t)},t}(s.PureComponent);t.a=Object(l.b)(p)},134:function(e,t,n){"use strict";n(148);var r=n(4),i=n(7),a=n(8),o=Object(i.a)("something-wrong-view");t.a=function(e){return r.createElement(a.a,{name:"error"},r.createElement("div",{className:o()},r.createElement("div",{className:o("image")}),r.createElement("div",{className:o("text")},e.children)))}},135:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(13),i=n(10),a=(n(376),n(4)),o=n(7),s=n(378),c=n.n(s),l=n(379),u=n.n(l),d=n(380),p=n.n(d),m=Object(o.a)("search-placemark-icons"),f={dot:{source:c.a,width:22,height:22},base:{source:u.a,width:34,height:34},active:{source:p.a,className:m("active"),width:60,height:68,baseY:64,centerY:28}};function h(e,t){var n="icon"in e?e.icon:Object(i.a)(Object(i.a)({},f[e.mode]),{},{className:e.className||f[e.mode].className});return Object(i.a)({element:v(n,t)},g(n))}function v(e,t){var n=g(e),i=n.width,o=n.height,s=n.centerX,c=n.centerY,l={className:e.className,dangerouslySetInnerHTML:{__html:e.source}};return t?a.createElement("div",{style:{position:"relative",width:i,height:o}},a.createElement("div",l),a.createElement("div",{style:{position:"absolute",left:s,top:c}},"point"===t?a.createElement("div",{className:m("content")}):t)):a.createElement("div",Object(r.a)({style:{width:i,height:o}},l))}function g(e){var t=Math.round(e.width/2),n=Math.round(e.height/2);return{width:e.width,height:e.height,baseX:e.baseX||t,baseY:e.baseY||n,centerX:e.centerX||t,centerY:e.centerY||n}}},136:function(e,t,n){"use strict";var r,i=n(6),a=n(4),o=[],s=!1;function c(e){0===(o=o.filter(function(t){return t!==e})).length&&r&&r.disconnect()}var l=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t;s||(e=this.props.listener,(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)&&(r||(r=new t(function(e){var t=e.find(function(e){return"class"===e.attributeName});if(t){var n=t.target.getAttribute("class");n&&(s=n.includes("_font_loaded"))&&setTimeout(function(){o.forEach(function(e){e(),c(e)})},1)}})).observe(window.document.getElementsByTagName("body")[0],{attributes:!0,attributeFilter:["class"]}),o.push(e)))},n.componentWillUnmount=function(){c(this.props.listener)},n.render=function(){return null},t}(a.PureComponent);t.a=l},137:function(e,t,n){"use strict";n(175);var r=n(4),i=n(7),a=n(8),o=Object(i.a)("business-rating-amount-view");t.a=function(e){return r.createElement(a.a,{name:"ratings_amount"},r.createElement("span",{className:o({summary:e.isSummary})},(function(params){return (params.count?params.count+" "+(params.count % 10 === 1 && params.count % 100 !== 11 ? "оценка" :(params.count % 10 > 1 && params.count % 10 < 5 && (params.count % 100 < 10 || params.count % 100 > 20) ? "оценки" : "оценок")):"Ещё нет оценок");})({count:e.ratingCount})))}},1404:function(e,t,n){"use strict";n.r(t);var r=n(10),i=n(956),a=n(1405),o=n(99),s=n(16),c=n(30),l=n(351),u=n(37),d=n(121),p=n(314),m=n(258),f=n(220),h=n(132),v=n(23),g=n(115),b=n(109),_=n(254),y=n(146),E=n(253),C="search",w=[.01,.005],k={restoreFromLocation:function(){return function(e,t,n){var r=n.config,i=t(),a=s.g(i,"search");return Promise.all(a.map(function(t){return c.F(t)?Promise.resolve(t):(e(O(t.request)),S(t.request,r).then(function(t){return e(O(void 0)),t}))})).then(function(t){var n=t[0];if(1===t.length&&c.F(n)&&"TEXT"===n.request.searchType&&n.results.commands){var r=T(n.results.commands);r&&e(r)}a.forEach(function(n,r){n!==t[r]&&e(u.a.update(n,t[r]))})})}},search:function(e,t){return void 0===t&&(t={}),function(n,i,a){R(n,i,a.config,{request:e},Object(r.a)(Object(r.a)({},t),{},{allowOpenCard:!0}))}},searchChain:function(e,t){return void 0===t&&(t={}),function(n,i,a){var s=a.config;return o.a.prepareChainSearchRequest(e,s).then(function(e){return R(n,i,s,{request:e},Object(r.a)(Object(r.a)({},t),{},{stackAction:"push"}))})}},openOrgpage:function(e,t){return void 0===t&&(t={}),function(n,r,i){var a=i.config,l=s.h(r(),"orgpage")?"replace":"push",d=u.a[t.stackAction||l],p=t.preloadedData?{center:t.preloadedData.displayCoordinates,includeCurrentBounds:c.D(e.origin),forceFirstApply:!0}:void 0;n(d({mode:"orgpage",request:e,requestId:t.requestId,requestQuery:t.requestQuery,requestCorrectedQuery:t.requestCorrectedQuery,result:t.preloadedData,isLoading:!t.preloadedData,mapLocationRequest:p,tab:"overview"})),t.preloadedData||o.a.fetchSearchResult({from:"search",id:e.id,origin:e.origin||"orgpage"},a).then(function(t){return{request:e,loadingRequest:void 0,error:null,results:t}},function(){return{request:e,loadingRequest:void 0,error:"something-went-wrong"}}).then(function(t){var i="results"in t?t.results:void 0,a=i?i.items[0]:void 0,o=a?void 0:"error"in t&&t.error||"not-found",l=s.h(r(),"orgpage");l&&n(u.a.update(l,{result:a,error:o,isLoading:!1,mapLocationRequest:a?{center:a.displayCoordinates,includeCurrentBounds:c.D(e.origin),forceFirstApply:c.C(a)}:void 0}))})}},openCategory:function(e,t,n){return function(i,a){var o,l=a(),u=s.g(l,"routes"),d=u[u.length-1],p=null==d?void 0:null===(o=d.routerResponse)||void 0===o?void 0:o.routes[null==d?void 0:d.activeRouteIndex],m=(null==p?void 0:p.coordinates)?c.K(p.coordinates,l.map.location.zoom):void 0,f=(null==t?void 0:t.stackAction)||(m?"push":void 0),h=l.map.location.bounds,v=(null==n?void 0:n.displayText)||e.pluralName||e.name,g=(null==n?void 0:n.routeCoordinates)?(null==n?void 0:n.displayText)?e.name:v:c.h(e);i(k.search(Object(r.a)(Object(r.a)({searchType:"TEXT",text:g,bounds:h,routeCoordinates:m},n),{},{displayText:v}),Object(r.a)({stackAction:f},t)))}},openSimilar:function(e,t){void 0===t&&(t={});var n=e.isAdvert?"related-adverts-business":"related";return t.wide?k.openOrgpage({id:e.id,origin:n},{stackAction:"push"}):d.a.openCard({from:"search",origin:n,serpId:t.serpId,uri:e.uri},{stackAction:"push"})},searchCategoryNearby:function(e,t,n){return function(r){r(k.openCategory(e.category,n,{nearbyPlace:t,restrictSpan:1,autoscale:!1,origin:"places-nearby",displayText:e.displayText}))}},searchNearby:function(e){return function(t){t(v.a.setSearchFormType({id:"nearby",data:{place:e},origin:"places-nearby"}));var n=e.bounds?{bounds:e.bounds}:{center:e.coordinates,zoom:16};t(v.a.setMapLocation(Object(r.a)(Object(r.a)({},n),{},{duration:450}))),t(v.a.toggleHeader(!0)),t(v.a.setForceOpenSuggest(!0))}},updateSearch:function(e,t){return void 0===t&&(t={}),function(n,i,a){var o=a.config;e.filters&&(t.passMeta=!1),function(e,t,n,i,a){var o=a.offset,l=a.passMeta,u=void 0===l||l,d=a.stackAction;o="number"==typeof o?o:1;var p=t(),m=s.g(p,"search"),f=m[m.length-o];if(!f)return;var h=c.F(f)?f.results:void 0,v=Object(r.a)(Object(r.a)({},f.request),{},{disallowZoom:!1,origin:null,source:null,clientUsecase:f.request&&f.request.uri?f.request.clientUsecase:void 0,filters:h&&h.filters&&y.b(h.filters),serpId:h&&h.requestSerpId,context:h&&h.requestContext||f.request.context},n),g=Object(r.a)(Object(r.a)({},f),{},{request:v,pages:void 0,showDebugBounds:!1,meta:u?f.meta:void 0,mapLocationRequest:void 0});R(e,t,i,g,{stackAction:d||"update",index:m.length-o})}(n,i,e,o,t)}},loadMore:function(){return function(e,t,n){var i=n.config,a=t(),o=s.h(a,"search");if(o&&!a.search.loadingRequest&&!o.isPagesLoading){e(u.a.update(o,{isPagesLoading:!0}));var l=i.experiments.ui,d=l.resultsCount&&l.resultsCount.results||i.searchResultsCount;return S(Object(r.a)(Object(r.a)({},o.request),{},{serpId:c.F(o)?o.results.requestSerpId:void 0,origin:"scroll",skip:(o.pages?o.pages.length+1:1)*d,context:c.F(o)&&o.results.requestContext||o.request.context,center:a.map.location.center,span:a.map.location.span,filters:c.F(o)&&o.results.filters&&y.b(o.results.filters)||void 0}),i).then(function(n){var r=s.h(t(),"search");r&&o.request===r.request&&c.F(n)&&e(u.a.update(r,{results:{requestContext:n.results.requestContext},isPagesLoading:!1,pages:[].concat(o.pages||[],[n.results])}))})}}},zoomToEntrances:function(e,t){return function(n,r){var o=r(),s=o.map.location,c=o.map.size,u=[e.displayCoordinates].concat((e.entrances||[]).map(function(e){return e.coordinates})),d=i.a(u),p=E.e(d,c,!1);l.b(e,o.config)?n(v.a.setMapLocation({center:E.b(d),zoom:Math.max(p,17),duration:450})):(!a.a(s.bounds,d,s.zoom)||s.zoom<18)&&n(v.a.setMapLocation({bounds:d,duration:450})),(null==t?void 0:t.preventMobileViewStateChange)||n(v.a.setMobileViewState("mini"))}},switchBusinessTab:function(e){return function(t,n){var r=n(),i=s.d(r),a=s.h(r,i);"search-result"!==a.mode&&"orgpage"!==a.mode||t(u.a.update(a,{tab:e})),"masstransit"===a.mode&&t(u.a.update(a,{businessTab:e}))}},switchToponymTab:function(e){return function(t,n){var r=n(),i=s.h(r,"search-result");i&&t(u.a.update(i,{tab:e}))}},updateSelectedPostId:function(e){return function(t,n){var r=n(),i=s.d(r),a=s.h(r,i);"search-result"!==a.mode&&"orgpage"!==a.mode||t(u.a.update(a,{selectedPostId:e}))}},updateFilterPanelStack:function(e){return function(t,n){var r=n(),i=s.g(r,"search")[0];if(i){var a=i.filterPanelStack||[],o=[].concat(a);"pop"===e.action?o.pop():"push"===e.action?(t(v.a.setCollapsedSidebar(!1)),o.push(e.item)):"clear"===e.action&&(o=[]),o.length!==a.length&&t(u.a.update(i,{filterPanelStack:0===o.length?void 0:o}))}}},setMapLocationRequest:function(e){return function(t,n){var r=n(),i=s.h(r,"search");i&&t(u.a.update(i,{mapLocationRequest:e}))}},addVisitedId:function(e){return function(t,n){var i=n().search;i.visitedBusinesses.includes(e)||t({type:"EXTEND",payload:{search:Object(r.a)(Object(r.a)({},i),{},{visitedBusinesses:[].concat(i.visitedBusinesses,[e])})}})}}};function S(e,t){var n=t.experiments.ui,i=t.searchResultsCount;n.resultsCount&&n.resultsCount.results&&(i=n.resultsCount.results);var a=Object(r.a)({count:i},e);if("BUSINESS_LIST"===e.searchType)a.type=["biz"],a.mode="reverse",a.center=a.where;else if("TEXT"===e.searchType&&(a.direct=!0,e.nearbyPlace)){var s=e.nearbyPlace;a.center=function(e){return e.bounds?E.b(e.bounds):e.coordinates}(s),s.bounds?a.bounds=s.bounds:a.span=w}return o.a.fetch(a,t).then(function(t){return{request:e,loadingRequest:void 0,error:null,results:t}},function(){return{request:e,loadingRequest:void 0,error:"something-went-wrong"}})}function O(e){return function(t,n){return t({type:"EXTEND",payload:{search:Object(r.a)(Object(r.a)({},n().search),{},{loadingRequest:e})}})}}function R(e,t,n,i,a){void 0===a&&(a={});var o=t(),l=i.request;l.center||l.span||"TEXT"!==l.searchType||(l=Object(r.a)(Object(r.a)({},l),{},{center:o.map.location.center,span:o.map.location.span})),e(O(l));var u=o.stack,d=s.d(o);return S(l,n).then(function(o){var p=t();if(p.search.loadingRequest===l&&(e(O(void 0)),p.stack.length===u.length&&s.d(p)===d)){if(!a.stackAction){var m=Boolean(u.find(function(e){return"usermaps"===e.mode}));a.stackAction=m?"push":"reset"}var f=t();if(c.F(o)){var h=Object(r.a)(Object(r.a)(Object(r.a)({mobileViewState:a.mobileViewState},i),o),{},{error:null}),g={openExactResult:I(l,o,a),openSingleResult:j(l,o),openMasstransitResult:N(o),openSerp:P(f,h,a),performSearchCommand:x(l,o)},b=a.allowOpenCard;if(g.openExactResult&&b)e(g.openExactResult);else{if(g.openMasstransitResult&&b)return void e(g.openMasstransitResult);e(g.openSerp),g.openSingleResult&&b&&!n.experiments.ui.disableCardAutoOpen&&e(g.openSingleResult)}g.performSearchCommand&&b&&e(g.performSearchCommand)}var _="update"===a.stackAction&&"nearby"===f.form.formType.id?f.form.text:c.u(t().stack);_&&"empty"!==_&&(e(v.a.updateSearchText(_)),e(v.a.assignFormTextInStack(_)))}})}function T(e){switch(e.name){case"traffic":return p.a.enable();case"carparks":return m.a.setLayer(!0);case"panoramas":return f.a.enableLayer();case"photos":return h.a.enableLayer();case"satellite":return v.a.updateMap({type:"hybrid"});case"geolocation":return v.a.startGeolocation();case"router":var t=e.data,n=t.Origin,r=t.Destination,i=t.type;return g.a.buildRoute({points:[{value:"",coords:n&&n.pos||null},{value:"",coords:r&&r.pos||null}],travelMode:i});case"covidindex":return _.a.openIsolation();case"covidmap":return _.a.open()}return null}function j(e,t){if("TEXT"===e.searchType){var n=1===t.results.items.length?t.results.items[0]:void 0;if(n&&"business"===n.type){var i=Object(r.a)({from:"search"},e),a=t.results,o={request:i,response:a,mapLocationRequest:c.I(i,a,!0),mode:"search-result",tab:"overview"};return u.a.push(o)}}return null}function I(e,t,n){if("TEXT"===e.searchType){var i=t.results.exactResult;if(i&&"toponym"===i.type){var a=Object(r.a)({from:"search"},e),o=t.results,s={request:a,response:o,mapLocationRequest:c.I(a,o,!0),mobileViewState:n.mobileViewState,mode:"search-result",tab:"overview"};if("push"===n.stackAction)return u.a.push(s);if("replace"===n.stackAction||"update"===n.stackAction)return u.a.replace(s);if("reset"===n.stackAction)return u.a.reset([s])}}return null}function N(e){var t=c.t(e);if(t)return b.a.fetchStopInfo({id:t});var n=c.k(e);return n?b.a.fetchLineInfo({lineId:n,mobileViewState:"mini"}):null}function P(e,t,n){var i,a=Object(r.a)({mode:C},t),o=t.results;if(y.l(null==o?void 0:o.filters)){var c=e.map.location;a.mapLocationRequest={center:c.center,zoom:c.zoom,forceApply:!0}}switch(null!==(i=n.stackAction)&&void 0!==i?i:"reset"){case"reset":return u.a.reset([a]);case"replace":return u.a.replace(a);case"push":return u.a.push(a);case"update":var l=s.g(e,"search"),d=void 0===n.index?l.length-1:n.index;return a.mobileViewState=l[d].mobileViewState,u.a.update(l[d],a)}}function x(e,t){return"TEXT"===e.searchType&&t.results.commands?T(t.results.commands):null}t.default=k},1405:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(447),i=n(678);function a(e,t,n){var a=Object(r.a)(e,n),o=Object(r.a)(t,n);return Object(i.a)(a,o)}},143:function(e,t,n){"use strict";var r=n(195),i=n(183),a=n(122),o=n(100);t.a=function(e,t,n){if(!Object(o.a)(n))return!1;var s=typeof t;return!!("number"==s?Object(i.a)(n)&&Object(a.a)(t,n.length):"string"==s&&t in n)&&Object(r.a)(n[t],e)}},148:function(e,t,n){},153:function(e,t,n){},157:function(e,t,n){"use strict";var r=n(2799),i=n(107),a=n(32),o=n(47),s=n(24);var c=n(78),l=n(70);function u(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,a=null==i?1:Object(l.a)(i),o=null==n.firstWeekContainsDate?a:Object(l.a)(n.firstWeekContainsDate),u=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(s.a)(e,t),r=n.getFullYear(),i=t||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,u=null==o?1:Object(l.a)(o),d=null==i.firstWeekContainsDate?u:Object(l.a)(i.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(r+1,0,d),p.setHours(0,0,0,0);var m=Object(c.a)(p,t),f=new Date(0);f.setFullYear(r,0,d),f.setHours(0,0,0,0);var h=Object(c.a)(f,t);return n.getTime()>=m.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}(e,t),d=new Date(0);return d.setFullYear(u,0,o),d.setHours(0,0,0,0),Object(c.a)(d,t)}var d=6048e5;function p(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(s.a)(e,t),r=Object(c.a)(n,t).getTime()-u(n,t).getTime();return Math.round(r/d)+1}var m=n(257);n.d(t,"a",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b});var f=["break","opening_soon","closing_soon"];function h(e,t,n){var r,i=e.status,a=e.currentWorkingStatus,o=(null==n?void 0:n.short)?null==a?void 0:a.shortText:null==a?void 0:a.text;return{text:"open"===i?null!=o?o:"График работы не указан":(r=i,{"possible-closed":"Возможно, больше не работает","temporary-closed":"Временно не работает","permanent-closed":"Больше не работает"}[r]),state:{closed:"open"!==i||Boolean(a&&!a.isOpenNow),"changing-soon":!(!a||!a.tag)&&a.tag.some(function(e){return f.includes(e)})}}}function v(e,t){if(!e)return{};var n=[];e.unusual_hours&&(n=n.concat(e.unusual_hours)),e.valid_schedule&&(n=n.concat(e.valid_schedule));var r=a.g(a.f(t));return n.reduce(function(e,n){var i=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(s.a)(e,t).getDay()}(n),a=p(n,{weekStartsOn:1})===p(r,{weekStartsOn:1});if(!e[i]&&a){var c=Object(s.a)(n);e[i]=Object(o.a)(c,t)}return e},{})}function g(e,t){if(e.workingTime){var n=a.g(a.f(t)).getDay(),o=v(e.businessProperties,t);return[].concat(e.workingTime.slice(1),[e.workingTime[0]]).map(function(e,s){var c,l=(s+1)%7,u=Object(r.a)(i.a[l].slice(0,2));return e?1===e.length&&0===a.c(e[0].to,e[0].from)?(c="Круглосуточно",u+=" 00:00-23:59"):(c=e.map(function(e){var t=e.from,n=e.to;return a.l(t)+" – "+a.l(n)}),u+=" "+e.map(function(e){var t=e.from,n=e.to;return a.l(t)+"-"+a.l(n)}).join(",")):(c="Выходной",u=""),{dayName:Object(i.b)(t,i.a[l]),text:c,isWeekend:!e,isToday:n===l,changedDate:o[l],meta:u}})}}function b(e,t){var n=e.businessProperties;if(n){var r=a.g(a.f(t)),i=(n.unusual_hours||[]).some(function(e){return Object(m.a)(e,r)}),o=(n.valid_schedule||[]).some(function(e){return Object(m.a)(e,r)});if(i||o)return o?"Сегодня организация работает по праздничному графику":"Сегодня график работы мог поменяться из-за праздника"}}},162:function(e,t,n){"use strict";n(242);var r=n(4),i=n(9),a=n(7),o=n(93),s=Object(a.a)("background-image");t.a=Object(i.b)(function(e){return r.createElement("div",{className:s({"with-paranja":e.withParanja,hovered:e.hovered,touch:e.config.uatraits.isTouch}),style:{height:e.height,background:e.backgroundFallback}},r.createElement(o.a,null,r.createElement("div",{className:s("bg"),style:e.url?{backgroundImage:'url("'+e.url+'")'}:void 0})),r.createElement("div",{className:s("content")},e.children))})},163:function(e,t,n){"use strict";var r=n(4);function i(e,t){var n=t[0],r=t[1];return e.reduce(function(e,t){return"string"!=typeof t?e.push(t):t.split(n).forEach(function(t,n){n>0&&e.push(r),e.push(t)}),e},[])}t.a=function(e,t){return Object.entries(t).reduce(i,[e]).filter(function(e){return e}).map(function(e,t){return r.createElement("span",{key:t},e)})}},170:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("discovery").then(n.bind(null,408))},{load:!0,highlightOrganization:!0,unhighlightOrganization:!0,selectOrganization:!0,unselectOrganization:!0})},175:function(e,t,n){},1886:function(e,t,n){},1888:function(e,t,n){},189:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("catalog").then(n.bind(null,407))},{openCatalog:!0,openGroup:!0,cancelFetch:!0})},1890:function(e,t,n){e.exports=n.p+"_/699b3c8ef77b49af7ea135a3d9b051cc.svg"},1891:function(e,t,n){e.exports=n.p+"_/04145bced63531bce6033886b28d37e2.svg"},1892:function(e,t,n){e.exports=n.p+"_/266e336b3bc9008c225691bdb7afb5d8.svg"},1893:function(e,t,n){e.exports=n.p+"_/c8eb8c25b231923bdee20918568db385.svg"},1894:function(e,t,n){e.exports=n.p+"_/867878a8903defbe15fe2e0394a2c942.svg"},1895:function(e,t,n){"use strict";var r=n(10),i=n(6),a=n(1896),o=n.n(a),s=n(1898),c=n.n(s),l=n(72),u=n(4),d=n.n(u),p=n(12),m=n(257),f=n(17),h=n(0),v=n(7),g=n(20),b=n(9),_=n(48),y=n(30),E=n(146),C=n(49),w=n(8),k=n(131),S=n(1900),O=n(134),R=n(1903),T=n(613),j=n(39),I=n(1906),N=n(1907),P=n(123),x=n(222),M=n(779),F=n(2765),D=n(38),L=n(163),B=n(221),A=n(118),z=n(234),q=n(97),U=n(42),W=n(446),H=n(1911),V=n(1914),X=Object(g.a)({resolved:{},chunkName:function(){return"search-snippet"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("search-snippet").then(n.bind(null,227))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 227}}),Y=Object(f.a)(b.b,q.b,_.b,p.b(function(e){return{region:e.mapRegion}})),G=2,Q=2,Z=5,K=Object(v.a)("search-list-view"),J=function(e){function t(t){var n;return(n=e.call(this,t)||this)._maxIndexOfVisibleSnippet=0,n._hasMoreResults=!1,n._analyticsRef=u.createRef(),n._listRef=u.createRef(),n._getResultsCount=function(){var e=n.props.config;return e.experiments.ui.resultsCount&&e.experiments.ui.resultsCount.results||e.searchResultsCount},n._updateHasMoreResults=function(e){var t=e.pages,r=e.searchResponse,i=n._getResultsCount(),a=t?t[t.length-1]:r;n._hasMoreResults=a&&0!==a.items.length&&a.totalResultCount>(t?t.length+1:1)*i},n._onUnusualHoursClose=function(){var e=n.props.getToday();h.a.set("unusual_hours",e.valueOf()),n.setState({showUnusualHours:!1})},n._onBrandingBannerClick=function(){var e,t=n.props,r=t.searchResponse,i=t.onBrandingClick,a=null===(e=r.branding)||void 0===e?void 0:e.banner.action;a&&i(a,"serp")},n._onClick=function(e){var t="underSeparator"in e&&e.underSeparator?"located_nearby":void 0;n.props.onResultClick(e,{origin:t})},n._onScroll=function(){var e=n.props,t=e.getScrollableNode();if(t){var r=t.scrollTop;t.clientHeight+r>=t.scrollHeight-150&&n._hasMoreResults&&!e.isPagesLoading&&e.loadMoreResults(),n._logMaxIndexOfVisibleSnippetDebounced()}},n._getAnalyticsParams=function(){var e=n.props,t=e.pages,r=null==t?void 0:t[t.length-1];return y.d(r||e.searchResponse)},n._getItems=function(){return[n.props.searchResponse].concat(n.props.pages||[]).map(function(e){return n.props.config.experiments.ui.groupSameCompanies?y.v(e):e.items}).reduce(function(e,t){return e.concat(t)},[])},n._getLowRelevanceResultsBlock=function(e){var t=e.filter(function(e){return"lowRelevance"in e}),r=e.findIndex(function(e){return"lowRelevance"in e}),i=n._getOrganicResults(e),a=Math.min(r,G);if(!(a>i.length||t.length<=1))return{items:t,position:a}},n._getOrganicResults=function(e){return e.filter(function(e){return!("lowRelevance"in e)})},n._getRelatedCategoriesBlock=function(e,t){var r=n._getOrganicResults(t);return{items:e,position:Math.min(r.length,Z)}},n._logMaxIndexOfVisibleSnippet=function(){var e=n.props.getScrollableNode();if(n._listRef.current&&n._analyticsRef.current&&e){var t=Array.prototype.slice.call(n._listRef.current.children),i=e.getBoundingClientRect().bottom,a=t.findIndex(function(e){return e.getBoundingClientRect().bottom>i});if(-1===a&&0!==t.length&&(a=t.length),a>n._maxIndexOfVisibleSnippet){n._maxIndexOfVisibleSnippet=a;var o=n._getAnalyticsParams();n._analyticsRef.current.changeState(Object(r.a)(Object(r.a)({},o),{},{maxIndexOfVisibleSnippet:a,scrollToEnd:a===t.length}),{actionSubtreeState:o})}}},n._renderWarning=function(){var e=n.props.searchResponse;return"single"!==e.displayType||e.bounds?null:u.createElement("div",{className:K("warning")},"Результаты могут быть неточными")},n._renderTypo=function(){var e=n.props,t=e.searchResponse,r=e.onTypoClick;return t.requestQuery&&t.requestQuery!==t.requestCorrectedQuery?u.createElement(T.a,{query:t.requestQuery,onClick:r}):null},n._renderQuarantineWarning=function(){var e,t=n.props,r=n._getItems().find(function(e){var t;return Boolean("businessProperties"in e&&(null===(t=e.businessProperties)||void 0===t?void 0:t.closed_for_quarantine))});return t.searchText&&(null===(e=t.config.bunker.noQuarantineWarningSearchTexts)||void 0===e?void 0:e.includes(t.searchText.toLowerCase()))||!r?null:u.createElement("div",{className:K("quarantine-warning")},u.createElement(x.a,{view:"attention",analyticsType:"quarantine",leftSlot:u.createElement(M.a,{view:"attention"})},"Режим работы некоторых организаций мог измениться. Свяжитесь с ними, чтобы уточнить."))},n._renderUnusualHours=function(){return n.state.showUnusualHours?u.createElement("div",{className:K("quarantine-warning")},u.createElement(x.a,{view:"info",analyticsType:"unusual_hours",rightSlot:u.createElement(w.a,{name:"close",logClick:!0},u.createElement("span",{onClick:function(){return n._onUnusualHoursClose()}},"Ок"))},"График работы организаций мог поменяться из-за праздника")):null},n._renderMedicalDisclaimer=function(){return n.props.searchResponse.items.some(function(e){var t;return"businessProperties"in e&&(null===(t=e.businessProperties)||void 0===t?void 0:t.show_ymyl_disclaimer)})?u.createElement("div",{className:K("disclaimer")},"Информация на странице представлена для ознакомления. Для назначения лечения обратитесь к врачу."):null},n._renderDrugsDisclaimer=function(){return n.props.searchResponse.items.some(function(e){return Boolean("matchedObjects"in e&&e.matchedObjects&&"drug"===e.matchedObjects.rubric)})?u.createElement("div",{className:K("disclaimer")},"В выдаче присутствуют лекарства, уточняйте их наличие и цену в аптеке."):null},n._renderEmptyView=function(){var e=n.props.searchResponse;return u.createElement(O.a,null,u.createElement(S.a,{searchResponse:e,onFiltersReset:n.props.onFiltersReset}))},n._renderSnippet=function(e,t){var r,i=n.props;return(null===(r=i.searchResponse.branding)||void 0===r?void 0:r.banner)&&"direct"===e.type?null:u.createElement(X,{key:C.g(e),result:e,position:t,onMouseLeave:i.onResultMouseLeave,onMouseEnter:i.onResultMouseEnter,onClick:n._onClick,hovered:i.highlightedResult&&y.b(e,i.highlightedResult)||Boolean(i.highlightedResult&&i.config.experiments.ui.groupSameCompanies&&"business"===e.type&&e.sameCompaniesCounter&&"chain"in i.highlightedResult&&"chain"in e&&i.highlightedResult.chain&&e.chain&&i.highlightedResult.chain.id===e.chain.id),query:i.searchDisplayText||i.searchText,serpId:i.searchResponse.requestSerpId})},n._renderList=function(){var e,t=n.props,r=n._getItems();if(0===r.length)return n._renderEmptyView();var i=!1,a=n._getOrganicResults(r),o=n._getLowRelevanceResultsBlock(r),s=t.searchResponse.relatedCategories?n._getRelatedCategoriesBlock(t.searchResponse.relatedCategories,r):void 0,c=a.map(function(e,t){return!i&&"underSeparator"in e&&e.underSeparator?(i=!0,u.createElement(u.Fragment,{key:C.g(e)},u.createElement("li",{className:K("separator")},"Больше результатов рядом"),n._renderSnippet(e,t))):n._renderSnippet(e,t)});o&&c.splice(o.position,0,u.createElement("div",{className:K("carousel-wrapper"),key:"carousel"},u.createElement(I.a,{items:o.items,searchSnippetPosition:a.length,onResultClick:t.onResultClick})));var l=y.o(r),d=(null==l?void 0:null===(e=l.relatedAdverts)||void 0===e?void 0:e.nearbyOnMap)||[];return l&&d.length>=Q&&c.splice(r.indexOf(l)+1,0,u.createElement("div",{className:K("carousel-wrapper"),key:"carousel"},u.createElement(W.a,{label:"Похожие места рядом",items:d}))),s&&c.splice(s.position,0,u.createElement("div",{className:K("carousel-wrapper"),key:"related-categories-carousel"},u.createElement(N.a,{categories:s.items}))),u.createElement("ul",{className:K("list"),ref:n._listRef},c)},n._renderAddBusinessText=function(){var e=n.props,t=e.onAddBusinessClick,r=(e.config,u.createElement(w.a,{name:"add_business",logClick:!0},u.createElement(D.a,{className:K("link",{"add-business":!0}),onLeftClick:t},"Добавьте организацию")));return Object(L.a)((function(params){return params.business+", если не нашли её на карте.";})({business:"__business"}),{__business:r})},n._renderAddBusinessOrObjectText=function(){var e=n.props,t=e.onAddBusinessClick,r=e.config,i=u.createElement(w.a,{name:"add_business",logClick:!0},u.createElement(D.a,{className:K("link",{"add-business":!0}),onLeftClick:t},"организацию")),a=u.createElement(w.a,{name:"add_object",logClick:!0},u.createElement("a",{className:K("link",{"add-object":!0}),href:r.hosts.nmaps,target:"_blank"},"объект"));return Object(L.a)((function(params){return "Добавьте "+params.business+" или "+params.object+", если не нашли их на карте.";})({business:"__business",object:"__object"}),{__business:i,__object:a})},n._renderAddBusiness=function(){var e=n.props.searchResponse,t=e.items.some(function(e){return"business"===e.type});if(e.items.length>0&&!t||n._hasMoreResults)return null;var r=(e.filters||[]).some(function(e){return E.p(e)});return u.createElement("div",{className:K("add-business")},r?n._renderAddBusinessText():n._renderAddBusinessOrObjectText())},n._renderSpinner=function(){return n.props.isPagesLoading?u.createElement("div",{className:K("spinner")},u.createElement("div",{className:K("spinner-text")},"Загрузка..."),u.createElement("div",{className:K("spinner-inner")},u.createElement(j.a,{view:"small"}))):null},n._renderBrandingBanner=function(){var e,t=n.props.searchResponse,r=null===(e=t.branding)||void 0===e?void 0:e.banner;if(E.l(t.filters))return null;if(!r){if(t.hasLavkaBanner)return u.createElement(H.a,null);var i=$(t.categories)||t.items.length>1&&t.items.every(function(e){return"business"===e.type&&$(e.categories)});return"ru_RU"===n.props.config.locale&&i?u.createElement(V.a,null):null}return u.createElement("div",{className:K("branding")},u.createElement(w.a,{name:"branding_banner",nodeState:{branding:r.id},logClick:!0},u.createElement("img",{className:K("branding-banner",{clickable:Boolean(r.action)}),src:r.url,onClick:n._onBrandingBannerClick})),r.chainLink?n._renderBrandingChainLink(r.chainLink):null)},n._renderBrandingChainLink=function(e){var t=n.props.onBrandingChainLinkClick,r=e.id,i=e.name,a=e.iconUrl,o=e.text;return u.createElement(w.a,{name:"chain_link",logClick:!0,useParentState:!0},u.createElement("div",{className:K("branding-chain-link"),onClick:function(){return t({id:r,name:i})}},a?u.createElement("img",{className:K("branding-chain-link-icon"),src:a}):null,o))},n._renderFooter=function(){var e=n.props;return 0===n._getItems().length?null:e.meta?u.createElement(u.Fragment,null,u.createElement(R.a,e.meta),n._renderMedicalDisclaimer()):e.isTextSearch?u.createElement(k.a,{className:K("title")},e.searchDisplayText||e.searchResponse.requestCorrectedQuery):null},n.state={showUnusualHours:!1},n._updateHasMoreResults(t),n._logMaxIndexOfVisibleSnippetDebounced=Object(F.a)(n._logMaxIndexOfVisibleSnippet,500,{leading:!1}),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.searchResponse.filters;if(t){var n=t.find(function(e){return"enum"===e.type&&"travel_personsAmount"===e.id});if(n){var r=E.h(n)[0];r&&e.updateBookingPersons(Number(r))}var i=t.find(function(e){return"date"===e.type&&"hotel_date_range"===e.id});if(i){var a=i.dateFrom&&i.dateTo?[i.dateFrom,i.dateTo]:void 0;a&&e.updateBookingDates(a)}}var o=this.props.getToday(),s=e.searchResponse.items.some(function(e){return Boolean("business"===e.type&&e.businessProperties&&e.businessProperties.unusual_hours&&e.businessProperties.unusual_hours.some(function(e){return Object(m.a)(e,o)}))})&&!Object(m.a)(h.a.get("unusual_hours")||0,o);s!==this.state.showUnusualHours&&this.setState({showUnusualHours:s}),this._logMaxIndexOfVisibleSnippetDebounced()},n.componentDidUpdate=function(e){var t=this.props;e.searchResponse!==t.searchResponse?(this._maxIndexOfVisibleSnippet=0,this._updateHasMoreResults(t),this._logMaxIndexOfVisibleSnippetDebounced()):e.pages!==t.pages&&this._updateHasMoreResults(t)},n.componentWillUnmount=function(){this._logMaxIndexOfVisibleSnippetDebounced.cancel()},n.render=function(){var e=this.props,t=this._getAnalyticsParams();E.i(e.config,e.searchResponse.filters);return u.createElement(w.a,{name:"results",nodeState:t,nodeRef:this._analyticsRef},u.createElement(P.a,{chunk:"card",immediately:!0}),u.createElement("div",{className:K()},u.createElement("div",{className:K("content")},null,e.renderFilters(),this._renderBrandingBanner(),this._renderWarning(),this._renderTypo(),this._renderQuarantineWarning(),this._renderUnusualHours(),this._renderDrugsDisclaimer(),this._renderList(),this._renderSpinner(),this._renderAddBusiness(),this._renderFooter())),u.createElement(B.a,{type:"search_list_page"}),u.createElement(A.a,{type:"search_list_page"}),u.createElement(z.a,{eventHandler:this._onScroll}))},t}(u.PureComponent);function $(e){var t;return"drugstores"===(null==e?void 0:null===(t=e[0])||void 0===t?void 0:t.class)}t.a=Y(J)},1896:function(e,t,n){},1898:function(e,t,n){},190:function(e,t,n){"use strict";var r=n(6),i=(n(299),n(4)),a=n(8),o=n(7),s=n(9),c=n(22),l=n(30),u=Object(o.a)("business-verified-badge"),d=500,p={link:"Подключить для своей организации",text:"Поднимает организацию в списке по профильным запросам.",title:"Приоритетное размещение"},m={link:"Подробнее",text:"Этот знак получают организации, владелец которых подтвержден и поддерживает данные на карточке в актуальном состоянии.",title:"Владелец следит за актуальностью информации"},f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._icon=null,n._showTimeout=null,n._showPopup=function(e){e&&e.immediate?n.setState({isPopupShown:!0}):n._showTimeout||(n._showTimeout=window.setTimeout(function(){return n.setState({isPopupShown:!0})},d))},n._hidePopup=function(){n._clearTimeout(),n.setState({isPopupShown:!1})},n._clearTimeout=function(){n._showTimeout&&(window.clearTimeout(n._showTimeout),n._showTimeout=null)},n._onClick=function(e){e.stopPropagation()},n._renderPopup=function(){var e=n.props,t=n.state,r=l.w(e.result),o=r?p:m,s=r?e.config.advertLandingUrl?e.config.advertLandingUrl+"?utm_source=webmaps&utm_medium=tip&utm_campaign=webmaps_gptip":null:"http://yandex.ru/support/sprav/manage/verified-owner.html";return i.createElement(c.a,{isShown:t.isPopupShown,position:"right-bottom",restrictPosition:!0,onScroll:"reposition",showArrow:!1,type:"map-hint",offset:{main:-3,side:0},getTarget:function(){return n._icon},onClose:n._hidePopup},i.createElement(a.a,{name:r?"priority_advert_popup":"verified_popup",logClick:!0},i.createElement("div",{className:u("order",{prioritized:r}),onMouseEnter:function(){return n._showPopup({immediate:!0})},onMouseLeave:n._hidePopup,onClick:n._onClick},i.createElement("div",{className:u("order-img")}),i.createElement("div",{className:u("order-title")},o.title),i.createElement("div",{className:u("order-text")},o.text),s?i.createElement(a.a,{name:"order_link",logClick:!0},i.createElement("a",{href:s,target:"_blank",className:u("order-link")},o.link)):null)))},n.state={isPopupShown:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._clearTimeout()},n.render=function(){var e=this,t=this.props,n=l.w(t.result),r=l.H(t.result);return n||r?i.createElement(i.Fragment,null,i.createElement(a.a,{name:n?"priority_advert_badge":"verified_badge"},i.createElement("div",{ref:function(t){return e._icon=t},className:u({prioritized:n}),onMouseEnter:t.config.uatraits.isMobile?void 0:function(){return e._showPopup()},onMouseLeave:this._hidePopup})),this._renderPopup()):null},t}(i.Component);t.a=Object(s.b)(f)},1900:function(e,t,n){"use strict";var r=n(6),i=(n(1901),n(4)),a=n(7),o=n(9),s=n(146),c=n(8),l=n(38),u=n(163),d=Object(a.a)("nothing-found-view"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderResetFiltersLink=function(){return i.createElement(c.a,{name:"filters_reset",logClick:!0},i.createElement(l.a,{className:d("link"),onLeftClick:t.props.onFiltersReset},"сбросить фильтры"))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=(this.props.searchResponse.filters||[]).some(function(e){return s.p(e)});return i.createElement("div",{className:d()},i.createElement("div",{className:d("header")},"Ничего не найдено."),i.createElement("div",{className:d("text")},Object(u.a)((function(params){return "Попробуйте изменить запрос или "+params.resetOrZoom+".";})({resetOrZoom:"__resetOrZoom"}),{__resetOrZoom:e?this._renderResetFiltersLink():"масштаб"})))},t}(i.Component);t.a=Object(o.b)(p)},1901:function(e,t,n){},1903:function(e,t,n){"use strict";var r=n(6),i=(n(1904),n(4)),a=n(7),o=n(264),s=n(9),c=n(131),l=Object(a.a)("search-list-meta-view"),u=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n._renderBreadcrumbs=function(){var e=this.props.breadcrumbs;return e&&0!==e.length?i.createElement("div",{className:l("breadcrumbs")},i.createElement(o.a,{breadcrumbs:e})):null},n.render=function(){var e=this.props,t=e.h1,n=e.text;return i.createElement("div",{className:l()},this._renderBreadcrumbs(),i.createElement(c.a,{className:l("title")},t),n?i.createElement("div",{className:l("text")},n):null)},t}(i.PureComponent);t.a=Object(s.b)(u)},1904:function(e,t,n){},1906:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n(30),o=n(9),s=n(446),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(e){var n=t.props.items.find(function(t){return t.id===e.id});t.props.onResultClick(n)},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.createElement(s.a,{label:"Похожие места рядом",items:this.props.items.map(function(t){return a.L(t,e.props.config)}),searchResults:this.props.items,position:this.props.searchSnippetPosition,onClick:this._onClick})},t}(i.PureComponent);t.a=Object(o.b)(c)},1907:function(e,t,n){"use strict";var r=n(6),i=(n(1908),n(1910)),a=n(4),o=n(12),s=n(7),c=n(21),l=n(17),u=n(9),d=n(38),p=n(8),m=n(35),f={openCategory:n(91).a.openCategory},h=Object(s.a)("categories-carousel-view"),v=Object(l.a)(u.b,o.b(function(e){return{region:e.mapRegion}},f)),g=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderItem=function(e){var n=t.props,r=n.region?c.e(e,n.region,n.config):void 0;return a.createElement(d.a,{key:e.seoname,href:r,onLeftClick:function(){return t.props.openCategory(e,{stackAction:"push"})}},a.createElement("div",{className:h("category")},e.name))},t._renderColumns=function(){var e=t.props.categories;return Object(i.a)(e,3).map(function(e,n){return a.createElement("div",{className:h("column"),key:n},e.map(t._renderItem))})},t}return Object(r.a)(t,e),t.prototype.render=function(){return a.createElement(p.a,{name:"related_categories"},a.createElement("div",{className:h()},a.createElement("h3",{className:h("header")},"Что ещё популярно"),a.createElement(m.a,{clickStep:2,buttonSize:"m",arrowStyle:{topVerticalOffset:45},itemsGap:16,padding:16},this._renderColumns())))},t}(a.PureComponent);t.a=v(g)},1908:function(e,t,n){},1910:function(e,t,n){"use strict";var r=n(588),i=n(143),a=n(448),o=Math.ceil,s=Math.max;t.a=function(e,t,n){t=(n?Object(i.a)(e,t,n):void 0===t)?1:s(Object(a.a)(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var l=0,u=0,d=Array(o(c/t));l<c;)d[u++]=Object(r.a)(e,l,l+=t);return d}},1911:function(e,t,n){"use strict";n(1912);var r=n(4),i=n(7),a=n(261),o=Object(i.a)("lavka-banner-view");t.a=function(){return r.createElement("div",{className:o()},r.createElement(a.a,{id:"lavka",text:"Яндекс.Лавка привезёт продукты за 15 минут",buttonContent:"Попробовать",href:"https://eda.yandex/lavka?utm_source=wiz&utm_medium=yandex-maps&utm_campaign=[LVK]DT_UA-goal_RU-ALL-ALL_yandex-maps",view:"lavka",size:"s"}))}},1912:function(e,t,n){},1914:function(e,t,n){"use strict";n(1915);var r=n(4),i=n(7),a=n(261),o=n(9),s=n(21),c=Object(i.a)("apteki-banner-view");t.a=Object(o.b)(function(e){var t=s.b({utm_source:"maps",utm_medium:"web",utm_campaign:"serp"},"",e.config);return r.createElement("div",{className:c()},r.createElement(a.a,{id:"apteki",text:"Яндекс.Здоровье — доставит нужные лекарства в аптеку",buttonContent:"Попробовать",href:t,view:"red",size:"s"}))})},1915:function(e,t,n){},1917:function(e,t){},1918:function(e,t,n){"use strict";var r=n(6),i=n(10),a=(n(1919),n(4)),o=n(5),s=n(2779),c=n(2798),l=n(7),u=n(146),d=n(8),p=n(15),m=n(9),f=n(197),h=n(43),v=(n(28),n(164)),g=n(1921),b=(n(1176),Object(l.a)("search-full-filters-view")),_=6,y="₽",E={price_cheap:[y],price_reasonable:new Array(2).fill(y),price_expensive:new Array(3).fill(y),price_very_expensive:new Array(4).fill(y)},C={star:function(e){return u.s(e).map(function(e){return Object(i.a)(Object(i.a)({},e),{},{content:Object(s.a)(e.name.replace(/^(\d).+/,"$1"))})})},price_category:function(e){var t=Object.keys(E);return e.values.filter(function(e){return t.includes(e.id)}).sort(function(e,t){return E[e.id].length-E[t.id].length}).map(function(e){return Object(i.a)(Object(i.a)({},e),{},{content:E[e.id]})})},travel_personsAmount:function(e){return e.values.map(function(e){return Object(i.a)(Object(i.a)({},e),{},{content:e.id})})}},w=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hasChangedFilters=function(){return!Object(c.a)(n.state.filters,n.props.filters)},n._onBoolFilterChange=function(e,t){n.setState({filters:u.c(n.state.filters,e,t)})},n._onEnumFilterChange=function(e,t){var r,i=u.h(e);r=i.includes(t)?i.filter(function(e){return e!==t}):e.singleSelect?[t]:[].concat(i,[t]),"travel_personsAmount"===e.id&&n.props.updateBookingPersons(Number(t)),n.setState({filters:u.e(n.state.filters,e,r)})},n._onDateFilterChange=function(e,t,r){n.setState({filters:u.d(n.state.filters,e,t,r)})},n._onSubmit=function(){n.props.onSubmit(n.state.filters)},n._onScroll=function(e){var t=e>0;t!==n.state.isScrolled&&n.setState({isScrolled:t})},n._selectEnum=function(e){n.setState({isScrolled:!1}),n.props.onSelectEnum(e)},n._onCancelClick=function(){n.props.selectedEnumId&&n.setState({isScrolled:!1}),n.props.onClose()},n._enumItemRef=function(e,t){var r=n.state.wideEnumItems;if(e&&!r[t]){var a,s=o.findDOMNode(e);if(s.scrollWidth>s.offsetWidth)n.setState({wideEnumItems:Object(i.a)(Object(i.a)({},r),{},(a={},a[t]=!0,a))})}},n._renderBoolFilter=function(e){var t=u.p(e);return a.createElement("div",{key:e.id,className:b("bool-filter")},a.createElement(d.a,{name:"filter",nodeState:{id:e.id,checked:t,disabled:e.disabled},logClick:!0},a.createElement(p.a,{view:"secondary-gray",size:"small",checked:t,disabled:e.disabled,onClick:function(){return n._onBoolFilterChange(e,!t)}},Object(s.a)(e.name))))},n._renderButtonGroup=function(e,t){return a.createElement("div",{className:b("button-group")},t.map(function(t,r){return a.createElement("div",{className:b("button-group-item"),key:r},a.createElement(d.a,{name:"item",logClick:!0},a.createElement(p.a,{isStretched:!0,view:"secondary-gray",size:"small",checked:t.selected,onClick:function(){return n._onEnumFilterChange(e,t.id)}},t.content)))}))},n._renderEnumItemsList=function(e,t){var r=n.state.wideEnumItems,i=t?u.s(e):e.values.slice(0,_),o=e.values.length-i.length,c=i.map(function(t){return a.createElement("div",{key:t.id,className:b("enum-item"),ref:function(e){return n._enumItemRef(e,t.id)}},a.createElement(d.a,{name:"enum_item",nodeState:{id:t.id,checked:u.o(e,t.id)},logClick:!0},a.createElement(h.a,{text:Object(s.a)(t.name),position:"top",size:"s",isDisabled:!r[t.id],hideOnClick:!0},a.createElement(f.a,{checked:u.o(e,t.id),label:Object(s.a)(t.name),onChange:function(){return n._onEnumFilterChange(e,t.id)}}))))});return o>0&&c.push(a.createElement(d.a,{key:"show_all",name:"show_all",logClick:!0},a.createElement("div",{className:b("show-all-enum"),onClick:function(){return n._selectEnum(e.id)}},"Показать все"))),c},n._renderDateFilter=function(e){return a.createElement(g.a,{filter:e,onChange:function(t,r){return n._onDateFilterChange(e,t,r)},updateBookingDates:n.props.updateBookingDates})},n._renderEnumOrDateFilter=function(e,t){var r=C[e.id];return a.createElement("div",{key:e.id,className:b("filter")},a.createElement("div",{className:b("filter-title")},Object(s.a)(e.name)),a.createElement(d.a,{name:"filter",nodeState:{id:e.id}},"date"===e.type?n._renderDateFilter(e):r?n._renderButtonGroup(e,r(e)):n._renderEnumItemsList(e,t)))},n._renderActions=function(){return a.createElement("div",{className:b("actions")},a.createElement("div",{className:b("submit")},a.createElement(d.a,{name:"submit",logClick:!0},a.createElement(p.a,{type:"submit",view:"primary",size:"small",disabled:!n._hasChangedFilters(),onClick:n._onSubmit},"Применить"))),a.createElement(d.a,{name:"cancel",logClick:!0},a.createElement("div",{className:b("cancel"),onClick:n._onCancelClick},"Отмена")))},n._renderSelectedEnumContent=function(e){return a.createElement(v.a,{key:e.id,onScroll:n._onScroll},n._renderEnumOrDateFilter(e,!0))},n._renderContent=function(){var e=n.state.filters.filter(u.r),t=e.filter(u.k),r=e.filter(function(e){return["enum","date"].includes(e.type)});return a.createElement(v.a,{key:"main",onScroll:n._onScroll},a.createElement("div",{className:b("bool-filters")},t.map(function(e){return n._renderBoolFilter(e)})),r.map(function(e){return n._renderEnumOrDateFilter(e)}))},n._renderTitle=function(){var e=n.props.onReset,t=n.state,r=t.filters,i=t.isScrolled,o=r.some(function(e){return u.p(e)});return a.createElement("div",{className:b("title",{bordered:i})},a.createElement("div",{className:b("title-text")},"Фильтры"),o?a.createElement(d.a,{name:"reset",logClick:!0},a.createElement("div",{className:b("reset"),onClick:e},"Сбросить")):null)},n.state={filters:t.filters,isScrolled:!1,wideEnumItems:{}},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this,t=(this.props.config,this.state.filters.find(function(t){return t.id===e.props.selectedEnumId}));return a.createElement(d.a,{name:"all_filters"},a.createElement("div",{className:b()},t?null:this._renderTitle(),t?this._renderSelectedEnumContent(t):this._renderContent(),this._renderActions(),a.createElement(d.a,{name:"close",logClick:!0},a.createElement("div",{className:b("close"),onClick:this._onCancelClick}))),(this._hasChangedFilters(),null))},t}(a.Component);t.a=Object(m.b)(w)},1919:function(e,t,n){},1921:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n.n(i),o=n(20),s=Object(o.a)({resolved:{},chunkName:function(){return"booking"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("booking").then(n.bind(null,577))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 577}}),c=function(e){function t(t){var n;(n=e.call(this,t)||this)._updateDates=function(e,t){e&&t&&("hotel_date_range"===n.props.filter.id&&n.props.updateBookingDates([e,t]),n.props.onChange(e,t)),n.setState({dateFrom:e,dateTo:t})};var r=t.filter;return n.state={dateFrom:r.dateFrom,dateTo:r.dateTo},n}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;if(!e.filter.isRange)return null;var t=this.state;return i.createElement(s,{dateFrom:t.dateFrom,dateTo:t.dateTo,minDate:e.filter.minDate,maxDate:e.filter.maxDate,updateDates:this._updateDates})},t}(i.PureComponent);t.a=c},1925:function(e,t,n){"use strict";var r=n(13),i=n(6),a=(n(1926),n(4)),o=n(7),s=n(17),c=n(9),l=n(786),u=n(52),d=n(117),p=n(673),m=(n(233),n(1142)),f=Object(o.a)("search-filters-map-view"),h=1250,v=Object(s.a)(l.a,c.b),g=function(e){function t(t){var n;return(n=e.call(this,t)||this)._updatePosition=function(e){var t=e.isSwiping;n.setState({isSwiping:t})},n._onWindowResize=function(){var e=window.innerWidth<h;e!==n.state.isHidden&&n.setState({isHidden:e})},n.state={isSwiping:!1,isHidden:!0},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._onWindowResize(),this.props.addSwipeListener(this._updatePosition)},n.componentWillUnmount=function(){this.props.removeSwipeListener(this._updatePosition)},n.render=function(){var e=this.props.filters,t=p.a;return a.createElement(t,null,a.createElement(u.a,null,!e||this.state.isSwiping||this.state.isHidden?null:a.createElement("div",{className:f(),onClick:function(e){return e.stopPropagation()}},a.createElement(m.a,Object(r.a)({},this.props,{filters:e})))),a.createElement(d.a,{type:"resize",listener:this._onWindowResize}))},t}(a.PureComponent);t.a=v(g)},1926:function(e,t,n){},1928:function(e,t,n){},1930:function(e,t,n){},1932:function(e,t,n){},1934:function(e,t){},1935:function(e,t,n){"use strict";var r=n(6),i=n(1936),a=n.n(i),o=n(4),s=n.n(o),c=n(22),l=n(9),u=n(7),d=n(20),p=n(1938),m=n.n(p),f=Object(d.a)({resolved:{},chunkName:function(){return"booking"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("booking").then(n.bind(null,577))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 577}}),h=Object(u.a)("date-filter-view"),v=function(e){function t(t){var n,r,i;return(i=e.call(this,t)||this)._shouldUpdateDateRange=function(e){var t=i.state;return e.dateFrom!==t.dateFrom||e.dateTo!==t.dateTo},i._onChange=function(e,t){var n,r=i.props;e&&t&&"hotel_date_range"===(null===(n=r.filter)||void 0===n?void 0:n.id)&&r.updateBookingDates([e,t]),i.setState({dateFrom:e,dateTo:t},e&&t?i._onClose:void 0)},i._onClose=function(){i.setState({isShown:!1},function(){var e=i.props,t=i.state,n=e.filter;n&&i._shouldUpdateDateRange(n)&&e.onChange(t.dateFrom,t.dateTo),e.onClose()})},i._renderPopup=function(){var e=i.props;return o.createElement(c.a,{className:h("dropdown"),isShown:e.isShown,getTarget:e.getTarget,onClose:i._onClose,position:"bottom-right",offset:{main:-16,side:0},showArrow:!1},i._renderDateFilter(),o.createElement("div",{className:h("dropdown-close"),onClick:i._onClose},"Закрыть"))},i._renderShutter=function(){var e,t=i.props;return o.createElement(m.a,{isShown:i.state.isShown,onClose:i._onClose,title:null===(e=t.filter)||void 0===e?void 0:e.name},o.createElement("div",{className:h("shutter")},i._renderDateFilter()))},i._renderDateFilter=function(){var e=i.props,t=i.state;return e.filter?o.createElement(f,{dateFrom:t.dateFrom,dateTo:t.dateTo,minDate:e.filter.minDate,maxDate:e.filter.maxDate,updateDates:i._onChange}):null},i.state={dateFrom:null===(n=t.filter)||void 0===n?void 0:n.dateFrom,dateTo:null===(r=t.filter)||void 0===r?void 0:r.dateTo,isShown:t.isShown},i}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props,t=this.state,n=e.filter;!t.isShown&&n&&this._shouldUpdateDateRange(n)&&this.setState({dateFrom:n.dateFrom,dateTo:n.dateTo}),t.isShown!==e.isShown&&this.setState({isShown:e.isShown})},n.render=function(){this.props;return this._renderPopup()},t}(o.Component);t.a=Object(l.b)(v)},1936:function(e,t,n){},1938:function(e,t){},1939:function(e,t,n){},1941:function(e,t,n){},1943:function(e,t,n){e.exports=n.p+"_/4cfb507cb690bef6ad98ea1d60df989d.svg"},1944:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n.n(i),o=n(20),s=n(212),c=n(146),l=Object(o.a)({resolved:{},chunkName:function(){return"tooltip"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tooltip").then(n.bind(null,271))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 271}}),u;!function(e){e.PLACES="places",e.COLLECTIONS="collections"}(u||(u={}));var d=[{key:u.PLACES,title:"Места"},{key:u.COLLECTIONS,title:"Подборки"}],p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getFilter=function(){return t.props.filters.find(c.m)},t._getTab=function(){return c.l(t.props.filters)?u.COLLECTIONS:u.PLACES},t._onTabChange=function(e){var n=t.props.onChange,r=t._getFilter(),i=t._getTab();r&&i!==e.key&&n&&n(r,e.key===u.COLLECTIONS?[c.a]:[])},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;if(!this._getFilter())return null;var t=this._getTab();return i.createElement(s.a,{tab:t,tabs:d,onTabChange:this._onTabChange},function(n){var r=n.refs;return i.createElement(i.Fragment,null,t!==u.COLLECTIONS?i.createElement(l,{id:"serp-collections",position:"bottom",offset:{main:-20,side:0},title:"Взгляните!",text:"По вашему запросу мы нашли несколько подборок отличных мест, которые рекомендуют редакция и пользователи Яндекса",getTarget:function(){var e,t;return(null===(e=r[u.COLLECTIONS])||void 0===e?void 0:null===(t=e.current)||void 0===t?void 0:t.parentElement)||null},closeOnContentClick:!0,closeOnOutsideClick:!0},i.createElement("div",null)):null,e.props.children)})},t}(i.Component);t.a=p},1945:function(e,t,n){},1947:function(e,t,n){"use strict";var r=n(6),i=(n(1948),n(4)),a=n(36),o=n(7),s=n(9),c=n(11),l=Object(o.a)("search-nearby-pin-view"),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getRubricIconUrl=function(){var e=t.props.rubric;return e&&a.d({type:"rubrics",name:e,size:"small"},t.props.config)||a.d({type:"rubrics",name:"fallback",size:"small"},t.props.config)},t}return Object(r.a)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement("div",{className:l("pin-icon")}),i.createElement(c.a,{className:l("rubric-icon"),url:this._getRubricIconUrl()}))},t}(i.PureComponent);t.a=Object(s.b)(u)},1948:function(e,t,n){},199:function(e,t,n){"use strict";var r=n(6),i=(n(236),n(4)),a=n(7),o=n(40),s=n(8),c=n(39),l=n(9),u=(n(72),["allow-forms","allow-scripts","allow-same-origin","allow-modals","allow-popups","allow-popups-to-escape-sandbox"].join(" ")),d=Object(a.a)("iframe-dialog"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onFrameLoad=function(){n.setState({isFrameLoading:!1})},n._onFrameError=function(){n.setState({isFrameLoading:!1,isFrameError:!0})},n._onClose=function(){n.props.onClose&&n.props.onClose()},n._renderTitle=function(){var e=n.props.text;return e?i.createElement("div",{className:d("title"),dangerouslySetInnerHTML:{__html:e}}):null},n.state={didMount:!1,isFrameLoading:!0,isFrameError:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({didMount:!0})},n.componentDidUpdate=function(e){e.isOpen&&!this.props.isOpen&&this.setState({isFrameLoading:!0,isFrameError:!1})},n.render=function(){var e=this.props,t=this.state,n=this._renderTitle();return i.createElement(o.default,{isOpen:e.isOpen,onClose:this._onClose,showCloseButton:!0},i.createElement(s.a,{name:"iframe",useParentState:!0},i.createElement("div",{className:d({view:e.fullView?"full":"padded"})},n,t.isFrameLoading?i.createElement("div",{className:d("spinner")},i.createElement(c.a,{view:"large"})):null,t.isFrameError?i.createElement("div",{className:d("error-message")},"Произошла ошибка.\nПовторите через пару минут."):i.createElement("iframe",{className:d("frame"),src:e.href.replace("http:","https:"),style:e.iframeStyle,sandbox:u,referrerPolicy:"origin",onLoad:this._onFrameLoad,onError:this._onFrameError}))))},t}(i.PureComponent);t.a=Object(l.b)(p)},212:function(e,t,n){"use strict";var r=n(6),i=(n(213),n(4)),a=n(35),o=n(8),s=n(7),c=n(136),l=Object(s.a)("tabs-select-view"),u=function(e){function t(t){var n;(n=e.call(this,t)||this)._alignPad=function(){var e,t,r=n.props,i=r.tab;if(i){var a=null!==(e=null===(t=n._tabRefs[i])||void 0===t?void 0:t.current)&&void 0!==e?e:null;if(a){var o=a.scrollWidth,s=a.offsetLeft;n.setState({padWidth:o,padTranslateX:s})}if(!r.disableAnimation){var c,l,u=r.tabs.findIndex(function(e){return e.key===i});null===(c=(l=n)._setScrollPosition)||void 0===c||c.call(l,u)}}},n._renderTabTitle=function(e){return i.createElement(o.a,{key:e.key,name:"tab",nodeState:{tab:e.key},logClick:!0},i.createElement("div",{className:l("title",{name:e.key,selected:n.props.tab===e.key}),onClick:function(){return n.props.onTabChange(e)}},i.createElement("div",{className:l("label"),ref:n._tabRefs[e.key]},e.title),e.count?i.createElement("div",{className:l("counter")},e.count):null))},n._renderPad=function(){return i.createElement("div",{className:l("pad",{inited:void 0!==n.state.padTranslateX}),style:{width:n.state.padWidth,transform:n.state.padTranslateX?"translateX("+n.state.padTranslateX+"px)":void 0}})};var r=t.tabs.map(function(e){return e.key});return n.state={},n._tabRefs=r.reduce(function(e,t){return e[t]=i.createRef(),e},{}),n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){setTimeout(this._alignPad,0)},n.componentDidUpdate=function(e){e.tab!==this.props.tab&&this._alignPad()},n.render=function(){var e,t=this,n=this.props,r=n.hideSingle?1:0;if(n.tabs.length<=r)return null;var s=n.tabs.findIndex(function(e){return e.key===n.tab});return i.createElement(o.a,{name:"tabs"},i.createElement("div",{className:l({border:!n.hideBorder,wide:n.wide})},i.createElement("div",{className:l("titles")},i.createElement(a.a,{clickStep:2,itemsGap:0,buttonSize:"m",padding:4,renderInScrollContainer:this._renderPad,scrollContainerStyle:{position:"relative"},setPositionRef:function(e){return t._setScrollPosition=e},initialPosition:n.disableAnimation&&-1!==s?s:void 0,disableOldBrowsersWorkaround:!0},n.tabs.map(this._renderTabTitle)),null===(e=n.children)||void 0===e?void 0:e.call(n,{refs:this._tabRefs}),i.createElement(c.a,{listener:this._alignPad}))))},t}(i.Component);t.a=u},213:function(e,t,n){},221:function(e,t,n){"use strict";var r,i=n(6),a=n(4),o=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={didHydrate:r},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.didHydrate||(r=!0,this.setState({didHydrate:r}))},n.render=function(){var e=this.props;return this.state.didHydrate?null:a.createElement("script",{type:"text/javascript",nonce:e.config.cspNonce,dangerouslySetInnerHTML:{__html:"window.timingsMarks."+e.type+" = performance.now();"}})},t}(a.Component);t.a=Object(o.b)(s)},222:function(e,t,n){"use strict";n(280);var r=n(4),i=n(7),a=n(8),o=Object(i.a)("notification-banner");t.a=function(e){var t=e.rightSlot?"center":"top";return r.createElement(a.a,{name:"notification_banner",subtreeState:{type:e.analyticsType}},r.createElement("div",{className:o({shadow:e.shadow,view:e.view})},r.createElement("div",{className:o("left",{position:t})},e.leftSlot),r.createElement("div",{className:o("content")},e.children),r.createElement("div",{className:o("right")},e.rightSlot)))}},235:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(24);function i(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=t||{},a=Object(r.a)(e,n).getTime(),o=Object(r.a)(i.start,n).getTime(),s=Object(r.a)(i.end,n).getTime();if(!(o<=s))throw new RangeError("Invalid interval");return a>=o&&a<=s}},236:function(e,t,n){},242:function(e,t,n){},244:function(e,t,n){"use strict";var r=n(6),i=n(4),a=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._fetchUrl=function(){var e=t.props.url;if(e){var n=window.document.createElement("img");n.setAttribute("src",e),window.document.body.appendChild(n),n.addEventListener("load",r),n.addEventListener("error",r)}function r(){window.document.body.removeChild(n),n.removeEventListener("load",r),n.removeEventListener("error",r)}},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetchUrl()},n.componentDidUpdate=function(e){e.url!==this.props.url&&this._fetchUrl()},n.render=function(){return null},t}(i.PureComponent);t.a=a},257:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(98);function i(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var i=Object(r.a)(e,n),a=Object(r.a)(t,n);return i.getTime()===a.getTime()}},258:function(e,t,n){"use strict";var r={setLayer:function(e){return function(t,n){t({type:"DEEP_EXTEND",payload:e?{parking:{isLayerShown:n().parking.isLayerEnabled},traffic:{isLayerEnabled:!1},panoramas:{isLayerEnabled:!1},photos:{isLayerEnabled:!1},mrc:{isLayerEnabled:!1}}:{parking:{isLayerShown:!1}}})}},toggleLayer:function(){return function(e,t){if(t().parking.isLayerShown)return e(r.setLayer(!1));e(r.setLayer(!0))}},updateLayerAvailability:function(e){return{type:"DEEP_EXTEND",payload:{parking:e}}}};t.a=r},261:function(e,t,n){"use strict";n(276);var r=n(4),i=n(7),a=n(8),o=n(11),s=n(38),c=Object(i.a)("card-banner-view");t.a=function(e){if(!e.href&&!e.onClick)return null;var t=r.createElement(r.Fragment,null,e.iconUrl?r.createElement(o.a,{className:c("icon"),url:e.iconUrl}):e.icon||null,r.createElement("div",{className:c("text"),dangerouslySetInnerHTML:{__html:e.text}}),r.createElement("div",{className:c("button")},e.buttonContent));return r.createElement(a.a,{name:"card_promo",subtreeState:{id:e.id},logClick:!0},r.createElement("div",{className:c({view:e.view,size:e.size})},e.onClick?r.createElement(s.a,{className:c("banner"),onLeftClick:e.onClick,href:e.href},t):r.createElement("a",{className:c("banner"),href:e.href,target:"_blank"},t)))}},264:function(e,t,n){"use strict";var r=n(6),i=(n(296),n(4)),a=n(12),o=n(23),s=n(189),c=n(7),l=n(8),u=n(38),d=n(91),p=n(109),m=Object(c.a)("breadcrumbs-view"),f={openCategory:d.a.openCategory,openCatalog:s.a.openCatalog,hideLayers:o.a.hideLayers,showMasstransitHomePanel:p.a.resetStackAndShowHomePanel,showMasstransitTransportList:p.a.resetStackAndShowTransportList,search:d.a.search,searchChain:d.a.searchChain,openHomePanel:o.a.openHomePanel},h=a.b(null,f),v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onBreadcrumbClick=function(e){"category"===e.type?t.props.openCategory(e.category):"chain"===e.type?t._showChain(e):"region"===e.type?t._showRegion(e):"root"===e.type?t.props.hideLayers():"search"===e.type?t._searchFor(e.name):"masstransit-home"===e.type?t.props.showMasstransitHomePanel():"masstransit-list"===e.type?t.props.showMasstransitTransportList(e.vehicleType):"catalog"===e.type&&t.props.openCatalog(e.region)},t._searchFor=function(e){t.props.search({searchType:"TEXT",text:e,origin:"category"},{stackAction:"push"})},t._showChain=function(e){var n=e.chain;t.props.searchChain({chain:n,center:n.center})},t._showRegion=function(e){var n=e.region;t.props.openHomePanel({center:n.center,zoom:n.zoom})},t._renderBreadcrumb=function(e,n){return e.currentPage?null:i.createElement(i.Fragment,{key:e.url},0===n?null:i.createElement("span",{className:m("delimiter")}," • "),i.createElement(l.a,{name:"item",logClick:!0,nodeState:{url:e.url,text:e.name}},i.createElement(u.a,{className:m("breadcrumb"),href:e.url,title:e.name,onLeftClick:function(){return t._onBreadcrumbClick(e)}},e.name)))},t}return Object(r.a)(t,e),t.prototype.render=function(){return i.createElement(l.a,{name:"breadcrumbs"},i.createElement("div",{className:m()},this.props.breadcrumbs.map(this._renderBreadcrumb)))},t}(i.PureComponent);t.a=h(v)},27:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(119),i=Object(r.a)("wideCard",!1,function(e){return{isWideCard:e}}),a=i.connect,o=i.Provider;t.b=a},2757:function(e,t,n){"use strict";var r=n(10),i=n(6),a=(n(1941),n(4)),o=n(12),s=n(7),c=n(17),l=n(116),u=n(146),d=n(8),p=n(2779),m=n(91),f=n(787),h=n(519),v=n(1943),g=n.n(v),b={updateFilterPanelStack:m.a.updateFilterPanelStack};var _=o.b(function(e){return{config:e.config}},b)(function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderItem=function(e,n){var r=t.props.filter,i=e.includes(n.id),o=u.f(r.id,function(e){var t=e.match(/https?:\/\/.*?\/get-(.*?)\//);if(!t)return e;var n=t[1],r="orig";switch(n){case"altay":r="M";break;case"bunker":r="288x288"}return e.replace("%s",r)}(n.imageUrlTemplate));return a.createElement(d.a,{name:"item",key:n.id,nodeState:{id:n.id},logClick:!0},a.createElement(h.b,{isDimmed:e.length>0&&!i,isSelected:i,text:n.name,image:{backgroundUrl:o},scale:u.g(r.id),onClick:function(){return t.props.onChange(r,i?null:n.id)}}))},t}return Object(i.a)(t,e),t.prototype.render=function(){var e=this,t=this.props.filter,n=t.values.findIndex(function(e){return e.selected}),r=u.h(t),i=t.values.filter(function(e){return e.imageUrlTemplate}),o=t.values.filter(function(e){return!i.includes(e)}).map(function(e){return e.id}),s=r.some(function(e){return o.includes(e)});return a.createElement(d.a,{name:"filter",nodeState:{id:t.id,checkedItems:r}},a.createElement(f.a,{imageScale:u.g(t.id),carouselOptions:{initialPosition:n>=0?n:void 0}},i.map(function(t){return e._renderItem(r,t)}),i.length!==t.values.length?a.createElement(d.a,{name:"item",key:"more",logClick:!0},a.createElement(h.b,{isDimmed:r.length>0&&!s,text:Object(p.a)((function(params){return "Ещё "+params.rubric;})({rubric:(t.name||"").toLowerCase()})),image:{iconUrl:g.a},scale:u.g(t.id),onClick:function(){return e.props.updateFilterPanelStack({action:"push",item:{type:"filter",id:t.id}})}})):null))},t}(a.Component)),y=n(42),E=n(1944),C=(n(1945),n(15)),w=Object(s.a)("search-tabs-filter-button"),k=function(e){var t=e.filters.filter(u.r);if(0===t.length)return null;var n=t.filter(u.p).length>0;return a.createElement("div",{className:w(),onClick:function(e){return e.stopPropagation()}},a.createElement(C.a,{view:"secondary-gray",size:"medium",icon:a.createElement("div",{className:w("icon",{checked:n})}),iconWidth:"26px",onClick:function(){return e.onClick()}},"Фильтры"))},S=Object(c.a)(o.b(function(e){return{config:e.config}}),l.b),O=Object(s.a)("search-filters-view"),R=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getPicturedFiltersHash=function(e,t){var n=e.filter(function(e){return"pictured"!==e.type});return t+":"+u.b(n).join()},n._getPartiallyUpdatedFilters=function(e){return e.map(function(e){var t=n.state.filters.find(function(t){return t.id===e.id});if(t&&"pictured"===t.type&&"pictured"===e.type){var i=t.values.map(function(t){var n=e.values.find(function(e){return e.id===t.id});return null!=n?n:t});return Object(r.a)(Object(r.a)({},e),{},{values:i})}return e})},n._onPicturedEnumFilterChange=function(e,t){var r=t?[t]:[];n.setState({filters:u.e(n.state.filters,e,r)},n._onChange)},n._onCollectionsFilterChange=function(e,t){n.setState({filters:u.e(n.state.filters,e,t)},n._onChange)},n._onChange=function(){n.props.onChange(n.state.filters)},n._renderPicturedFilter=function(){var e=n.state,t=(n.props,e.filters.filter(function(e){return e.isTop}).filter(function(e){return"pictured"===e.type})[0]);if(!t)return null;return a.createElement(d.a,{group:!0,hidden:!1},a.createElement("div",{className:O("pictured")},a.createElement("div",{className:O("pictured-title")},t.name),a.createElement(_,{key:n.state.picturedFiltersHash,filter:t,onChange:n._onPicturedEnumFilterChange})))},n._renderCollectionsTabs=function(){return n._renderSticky(a.createElement(E.a,{filters:n.state.filters,onChange:n._onCollectionsFilterChange,hasItems:n.props.items.length>0},n._renderOtherFiltersButton()),"never")},n._renderOtherFiltersButton=function(){return a.createElement(k,{filters:n.state.filters,onClick:n.props.onShowMoreClick})},n._renderSticky=function(e,t){return a.createElement(y.a,{position:"top",order:2,border:t},e)},n.state={filters:t.filters,picturedFiltersHash:n._getPicturedFiltersHash(t.filters,t.textQuery)},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props;if(e.filters!==t.filters||e.textQuery!==t.textQuery){var n=this._getPicturedFiltersHash(e.filters,e.textQuery),r=this._getPicturedFiltersHash(t.filters,t.textQuery);r===n?this.setState({filters:this._getPartiallyUpdatedFilters(t.filters)}):this.setState({filters:t.filters}),this.setState({picturedFiltersHash:r})}},n.render=function(){var e=this.props,t=this.state,n=u.i(e.config,t.filters),r=n?void 0:a.createElement("div",{className:O("filters-bar")},e.renderFiltersBar());return a.createElement(a.Fragment,null,r,a.createElement(d.a,{name:"filters",subtreeState:{reqid:e.requestId}},a.createElement("div",{className:O({noprint:!0})},n?this._renderCollectionsTabs():null,this._renderPicturedFilter())))},t}(a.Component);t.a=S(R)},276:function(e,t,n){},2777:function(e,t,n){"use strict";var r=n(6),i=(n(1886),n(4)),a=n(9),o=n(7),s=n(8),c=n(72),l=(n(1888),n(11)),u=n(1890),d=n.n(u),p=n(1891),m=n.n(p),f=n(1892),h=n.n(f),v=n(1893),g=n.n(v),b=n(1894),_=n.n(b),y=Object(o.a)("search-command-message-view"),E={photos:{message:"Включён слой фотографий"},traffic:{message:"Включён слой пробок"},carparks:{message:"Включён слой парковок"},router:{message:"Включены маршруты",iconUrl:d.a},panoramas:{message:"Включён слой панорам",iconUrl:m.a},geolocation:{message:"Включена геолокация",iconUrl:h.a},satellite:{message:"Включён спутник",description:"Режим просмотра спутниковой карты",iconUrl:g.a},metro:{message:"Схема метро",getMessageLink:function(e){return e.config.hosts.metro+"?ll="+e.center.join()},description:"Яндекс.Метро — схемы метрополитена",iconUrl:_.a},covidindex:{},covidmap:{}},C=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=E[e.name];if(!t.message)return null;var n=t.getMessageLink&&e.center&&t.getMessageLink({center:e.center,config:e.config});return i.createElement("div",{className:y()},i.createElement("div",{className:y("message")},t.iconUrl?i.createElement("div",{className:y("icon")},i.createElement(l.a,{url:t.iconUrl})):null,n?i.createElement("a",{href:n,target:"_blank"},t.message):t.message),t.description?i.createElement("div",{className:y("description")},t.description):null)},t}(i.Component),w=Object(a.b)(C),k=n(163),S=Object(o.a)("search-command-view"),O=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onSearchWithoutCommandsClick=function(){t.props.search({searchType:"TEXT",text:t.props.query,distinguishLayers:0,origin:"search-without-command"})},t._renderCommandMessage=function(){var e=t.props;return i.createElement("div",{className:S("command")},i.createElement(w,{name:e.commands.name,center:e.mapLocation.center}))},t._renderSearchWithoutCommands=function(){var e=t.props,n=e.commands,r=e.query,a=(e.config,i.createElement(s.a,{name:"search",logClick:!0,nodeState:{command:n.name}},i.createElement("span",{className:S("show-results-button"),onClick:t._onSearchWithoutCommandsClick},r)));return i.createElement("div",{className:S("show-results")},Object(k.a)((function(params){return "Показать результаты по запросу «"+params.query+"»";})({query:"__stub"}),{__stub:a}))},t}return Object(r.a)(t,e),t.prototype.render=function(){return i.createElement(s.a,{name:"command"},i.createElement(c.a,{title:"Результаты поиска",view:"tall"}),i.createElement("div",{className:S()},this._renderCommandMessage(),this._renderSearchWithoutCommands()))},t}(i.Component);t.a=Object(a.b)(O)},280:function(e,t,n){},286:function(e,t,n){"use strict";var r=n(6),i=(n(287),n(4)),a=n(7),o=n(30),s=n(11),c=n(9),l=n(59),u=n(289),d=n.n(u),p=Object(a.a)("search-placemark-title"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._renderStars=function(e){var t=e.property.find(function(e){return"id"===e.key});if(!t)return null;var n=o.s(t.value);if(0===n)return null;for(var r=new Array(n),a=0;a<n;a++)r[a]=i.createElement(s.a,{key:a,url:d.a});return i.createElement("span",{key:"stars",className:p("subtitle-item")},r)},t._renderRating=function(e){var n=e.property.find(function(e){return"value_5"===e.key});return n?i.createElement("span",{className:p("subtitle-item"),key:"rating"},i.createElement(s.a,{url:d.a,className:p("subtitle-item-rating-image")}),i.createElement("span",{className:p("subtitle-item-rating")},l.b(Number(n.value),t.props.config.lang,{min:1,max:1}))):null},t._renderWorkingHours=function(e){var t=e.property.find(function(e){return"is_open"===e.key}),n="closed_for_visitors"===e.type||!!t&&"0"===t.value;return i.createElement("span",{key:"working_hours",className:p("subtitle-item",{"closed-now":n})},e.text)},t._renderSubtitleItem=function(e){var n=e.text?e.text:"";return"star"===e.type?t._renderStars(e):"rating"===e.type?t._renderRating(e):"working_hours"===e.type||"closed_for_visitors"===e.type?t._renderWorkingHours(e):"promo"===e.type&&t.props.isHideRichContentExp?null:n?i.createElement("span",{key:e.type,className:p("subtitle-item")},n):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this.props.subtitleItems;return i.createElement("div",{className:p({background:e.background,"low-relevance":e.isLowRelevance,position:e.position,"no-truncate":e.disableTruncate})},i.createElement("div",{className:p("title")},e.title),t&&e.showSubtitle?i.createElement("div",{className:p("subtitle")},t.map(this._renderSubtitleItem)):null)},t}(i.PureComponent);t.a=Object(c.b)(m)},287:function(e,t,n){},289:function(e,t,n){e.exports=n.p+"_/cbb4eab83cc1f046b092166074e47cb5.svg"},296:function(e,t,n){},299:function(e,t,n){},301:function(e,t,n){},322:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(194),i=n(232);function a(e){var t=e[0][1],n=[e[1][0]-e[0][0],e[1][1]-t],a=Math.tan(Object(r.a)(t+90)/2),o=Math.tan(Object(r.a)(n[1])/2),s=Math.max((-a*a-a*o)/(a*o-1),0),c=.5*Math.log(s),l=2*(Math.atan(Math.exp(c))-.25*Math.PI);return{center:[(e[0][0]+e[1][0])/2,Object(i.a)(l)],span:n}}},327:function(e,t,n){"use strict";var r=n(6),i=(n(371),n(4)),a=n(232),o=n(2796),s=n(7),c=n(60),l=n(55),u=n(54),d=n(8),p=n(87),m=Object(s.a)("map-entrances-view"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onMapUpdate=function(){var e=n.props,t=n.state,r=e.map.zoom,i=e.map.azimuth;r===t.mapZoom&&i===t.mapAzimuth||n.setState({mapZoom:r,mapAzimuth:i})},n._renderEntrance=function(e,t){var r=n.props,s=n.state,c=h(s.mapZoom),l=(e.azimuth||0)+Object(a.a)(s.mapAzimuth);return i.createElement(d.a,{key:t,name:"entrance",nodeState:{name:e.name,coords:Object(o.a)(e.coordinates)}},i.createElement(u.a,{coordinates:e.coordinates,nonInteractive:!r.onEntranceClick,onClick:function(){var t;return null===(t=r.onEntranceClick)||void 0===t?void 0:t.call(r,e)},zIndex:p.a.search.base},i.createElement("div",{className:m({size:c,animated:r.animated}),style:{transform:"rotate("+l+"deg) translate(-50%, -50%)"}},void 0!==e.azimuth?i.createElement("div",{className:m("arrow")}):void 0,i.createElement("div",{className:m("dot")}))))},n._renderEntrances=function(){var e=n.props,t=h(n.state.mapZoom);return e.result.entrances&&t?e.result.entrances.map(n._renderEntrance):null},n.state={mapZoom:t.map.zoom,mapAzimuth:t.map.azimuth},n}return Object(r.a)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,this._renderEntrances(),i.createElement(l.b,{onUpdate:this._onMapUpdate}))},t}(i.PureComponent);function h(e){return e>=18?"large":e>=17?"normal":e>=16?"small":void 0}t.a=Object(c.b)({shouldWait:!0})(f)},35:function(e,t,n){"use strict";var r=n(10),i=n(6),a=(n(63),n(4)),o=n(2800),s=n(2765),c=n(7),l=n(50),u=n(86),d=n(9),p=(n(65),n(8)),m=n(11),f=n(67),h=n.n(f),v=n(68),g=n.n(v),b={l:h.a,m:g.a},_={l:40,m:32},y=Object(c.a)("carousel"),E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onPrevClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(-1)},t._onNextClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(1)},t._renderButton=function(e){var n;if(!t.props.showButtons[e])return null;var r=t.props,i=r.arrowStyle,o=void 0===i?{}:i,s=r.buttonSize,c=void 0===s?"l":s,l=o.horizontalOffset,u=void 0===l?0:l,d=o.topVerticalOffset,f=_[c]/2,h=void 0!==d,v=h?d-f:0;return a.createElement("div",{className:y("arrow-wrapper",(n={centered:!h},n[e]=!0,n.size=c,n))},a.createElement(p.a,{name:e,logClick:!0,useParentState:!0},a.createElement("div",{className:y("arrow",{size:c}),style:{margin:v+"px "+u+"px"},onClick:"prev"===e?t._onPrevClick:t._onNextClick,onMouseEnter:t.props.onMouseEnter,onMouseLeave:t.props.onMouseLeave},a.createElement(m.a,{className:y("arrow-image"),url:b[c]}))))},t}return Object(i.a)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this._renderButton("prev"),this._renderButton("next"))},t}(a.Component),C=n(85),w=n(110),k=21,S=Object(c.a)("carousel"),O=function(e){function t(t){var n;return(n=e.call(this,t)||this)._analyticsRef=a.createRef(),n._scrollable=a.createRef(),n._isProgrammaticScroll=!1,n._contentNode=null,n._elementWidth=0,n._insideButton=!1,n._isClickAllowed=!0,n._isSwiping=!1,n._swipeStartScreen=0,n._getCurrentScreen=function(){var e=n._scrollable.current.scrollLeft/(n._elementWidth+n.props.itemsGap),t=n.props.children.length-1;return Math.max(0,Math.min(t,e))},n._onScroll=function(){n.props.snap&&(n._isSwiping?n._checkSwipeEndDebounced():n._onSwipeStart()),n.props.onScroll&&n._scrollable.current&&n.props.onScroll(n._getCurrentScreen(),n._isProgrammaticScroll),n._updateArrowsVisibility()},n._checkSwipeEnd=function(){var e=n._getCurrentScreen();Math.abs(e-Math.round(e))<.03&&n._onSwipeEnd()},n._onSwipeStart=function(){var e,t;(n._isSwiping=!0,n._swipeStartScreen=Math.round(n._getCurrentScreen()),n._isProgrammaticScroll)||(null===(e=(t=n.props).onSwipeStart)||void 0===e||e.call(t))},n._onSwipeEnd=function(){var e,t,r;Math.round(n._getCurrentScreen())===n._swipeStartScreen||n._isProgrammaticScroll||(null===(e=n._analyticsRef.current)||void 0===e||e.logEvent("swipe"));n._isProgrammaticScroll||(null===(t=(r=n.props).onSwipeEnd)||void 0===t||t.call(r));n._isSwiping=!1,n._isProgrammaticScroll=!1},n._setScrollPosition=function(e){if(void 0!==e){var t=e*(n._elementWidth+n.props.itemsGap);n._setOffset(t)}},n._contentRef=function(e){if(n._contentNode=e,e){var t=n.props.padding,r=void 0===t?0:t,i=n.props.expandWidth||{left:0};n._elementWidth=e.children[0].offsetWidth-(r+i.left),setTimeout(n._updateHeight,0)}},n._updateHeight=function(){n._contentNode&&n.setState({height:n._contentNode.clientHeight})},n._updateArrowsVisibility=function(){var e=n._scrollable.current,t=e.scrollLeft,r=e.scrollWidth-e.clientWidth-t,i=n.props.buttonOffset,a=void 0===i?1:i,o=t>a,s=r>a,c=n.state.showButtons;o===c.prev&&s===c.next||(n.setState({showButtons:{prev:o,next:s}}),n._leaveButton())},n._enterButton=function(){n._insideButton=!0,n._isClickAllowed=!1},n._leaveButton=function(){n._insideButton=!1},n._onMouseMove=function(){n._insideButton||n._isClickAllowed||(n._isClickAllowed=!0)},n._checkClick=function(e){n._isClickAllowed||(e.preventDefault(),e.stopPropagation())},n._setOffset=function(e){var t=n._scrollable.current,r=n.state.smoothScroll;t&&(n._isProgrammaticScroll=!0,"scrollBehavior"in document.body.style?t.scrollLeft=e:Object(l.a)({duration:r?350:0,element:t,horizontal:!0,targetPosition:e},n.props.config))},n._setOffsetByDirection=function(e){if(n._scrollable.current){var t=n.props,r=n._elementWidth+t.itemsGap,i=n._scrollable.current.scrollLeft+(t.clickStep||1)*r*e,a=1===e?Math.floor:Math.ceil;n._setOffset(a(i/r)*r)}},n._getScrollableContainerStyles=function(e){var t=n.props,i=n.state,a=Object(r.a)({},t.scrollContainerStyle);t.snap&&!e.has.snapAlign&&(a.scrollSnapPointsX="repeat("+(n._elementWidth+t.itemsGap)+"px)");var o=i.height;return o&&(a.height=o+k,a.paddingBottom=k),a},t.scrollableRef&&(n._scrollable=t.scrollableRef),n.state={showButtons:{prev:!1,next:!0},smoothScroll:!1},n._onScrollThrottled=Object(o.a)(n._onScroll,20),n._checkSwipeEndDebounced=Object(s.a)(n._checkSwipeEnd,200),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props;t.resetCarouselRef&&t.resetCarouselRef(function(){return e._setOffset(0)}),t.setPositionRef&&t.setPositionRef(function(t){return e._setScrollPosition(t)}),this._scrollable.current.addEventListener("scroll",this._onScrollThrottled,{passive:!0}),this._updateArrowsVisibility(),this._setScrollPosition(t.initialPosition),this.setState({smoothScroll:!t.config.query["no-animation"]})},n.componentDidUpdate=function(e){a.Children.count(e.children)!==a.Children.count(this.props.children)&&this._updateArrowsVisibility()},n.componentWillUnmount=function(){var e=this.props;e.resetCarouselRef&&e.resetCarouselRef(void 0),e.setPositionRef&&e.setPositionRef(void 0),this._scrollable.current.removeEventListener("scroll",this._onScrollThrottled),this._onScrollThrottled.cancel(),this._checkSwipeEndDebounced.cancel()},n.render=function(){var e=this,t=this.props,n=this.state,i=t.expandWidth||{left:0,right:0},o=t.padding||0,s=o+i.left,c=o+i.right,l=a.Children.toArray(t.children).filter(Boolean),d={"old-browsers-workaround":!t.disableOldBrowsersWorkaround,theme:t.theme||"white","show-arrows":"always"===t.showArrows};return a.createElement(p.a,{name:"carousel",useParentState:!0,nodeRef:this._analyticsRef},a.createElement("div",{className:S(d)+(t.className?" "+t.className:""),style:Object(r.a)({height:n.height,marginLeft:-i.left,marginRight:-i.right},t.style),ref:t.forwardedRef},a.createElement(u.a,null,function(r){var i,o;return a.createElement("div",{className:S("scrollable",{snap:t.snap,"smooth-scroll":n.smoothScroll}),style:e._getScrollableContainerStyles(r),ref:e._scrollable,onClickCapture:e._checkClick,onMouseMove:e._onMouseMove},a.createElement("div",{className:S("content"),ref:e._contentRef},l.map(function(e,n){return a.createElement("div",{key:"object"==typeof e&&e&&"key"in e?e.key||void 0:n,className:S("item"),style:{paddingLeft:0===n?s:t.itemsGap,paddingRight:n===l.length-1?c:void 0}},e)}),a.createElement(C.a,{onResize:function(){e._updateHeight(),e._updateArrowsVisibility()}})),null!==(i=null===(o=t.renderInScrollContainer)||void 0===o?void 0:o.call(t))&&void 0!==i?i:null)}),"never"!==t.showArrows?a.createElement(E,{showButtons:n.showButtons,arrowStyle:t.arrowStyle,buttonSize:t.buttonSize,onMouseEnter:this._enterButton,onMouseLeave:this._leaveButton,setOffsetByDirection:this._setOffsetByDirection}):null))},t}(a.Component);t.a=Object(w.a)(Object(d.b)(O))},351:function(e,t,n){"use strict";function r(e){return"businessProperties"in e&&e.businessProperties&&e.businessProperties.level||null}function i(e,t){var n;return t.isVectorEnabled&&"businessProperties"in e&&Boolean(null===(n=e.businessProperties)||void 0===n?void 0:n["indoor-plan-id"])}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},369:function(e,t,n){"use strict";var r,i,a=n(6),o=n(4),s=n(5),c=n(582),l=n(9),u=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=o.createRef(),n._calcSizes=function(e){return new Promise(function(t){n.setState({render:e},function(){var e=n._ref.current.children[0],r=e.offsetWidth,i=e.offsetHeight;t({width:r,height:i})})})},n.state={render:function(){return null}},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.setCalcSizes(this._calcSizes)},n.render=function(){return o.createElement("div",{ref:this._ref},this.state.render())},t}(o.PureComponent);t.a=function(e){var t=function(){var t,n;return i||(t=window.document.createElement("div"),n=Object(c.a)(),t.setAttribute("style","position: absolute; top: -1000px; left: -1000px"),window.document.body.appendChild(t),i=new Promise(function(e){s.render(o.createElement(l.a,{value:n},o.createElement(u,{setCalcSizes:e})),t)})),i.then(function(t){return t(e)})};return r=r?r.then(t):t()}},371:function(e,t,n){},373:function(e,t,n){"use strict";var r=n(6),i=(n(374),n(4)),a=n(12),o=n(7),s=n(28),c=n(8),l=n(9),u=n(17),d=n(16),p=Object(u.a)(a.b(function(e){return{isCollapsed:d.n(e)}}),l.b),m=Object(o.a)("sidebar-dropdown"),f=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;return e.isCollapsed?null:i.createElement(s.a,{selector:".sidebar-dropdown-container"},i.createElement(c.a,{name:"dropdown"},i.createElement("div",{className:m({shown:!0})},i.createElement("div",{className:m("mask"),onClick:e.onClose}),i.createElement("div",{className:m("content")},e.children))))},t}(i.PureComponent);t.a=p(f)},374:function(e,t,n){},376:function(e,t,n){},378:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="2ccc4e9f8fe2f8acc9e7eab53f797f56__b" d="M7 14A7 7 0 1 0 7 0a7 7 0 0 0 0 14z"/><filter id="2ccc4e9f8fe2f8acc9e7eab53f797f56__a" width="150%" height="150%" x="-25%" y="-17.9%" filterUnits="objectBoundingBox"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0" in="shadowBlurOuter1"/></filter></defs><g fill="none" fill-rule="evenodd" transform="translate(4 4)"><use fill="#000" filter="url(#2ccc4e9f8fe2f8acc9e7eab53f797f56__a)" xlink:href="#2ccc4e9f8fe2f8acc9e7eab53f797f56__b"/><use fill="#FFF" xlink:href="#2ccc4e9f8fe2f8acc9e7eab53f797f56__b"/><path d="M7 12A5 5 0 1 1 7 2a5 5 0 0 1 0 10z" fill="currentColor"/><path fill="#000" class="tint" d="M7 12A5 5 0 1 1 7 2a5 5 0 0 1 0 10z"/></g></svg>\n'},379:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="cbb016882db5c851af06eebb43c674f7__b" d="M17 31c7.732 0 14-6.268 14-14S24.732 3 17 3 3 9.268 3 17s6.268 14 14 14z"/><filter id="cbb016882db5c851af06eebb43c674f7__a" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.200000003 0" in="shadowBlurOuter1"/></filter></defs><g fill="none" fill-rule="evenodd"><use fill="#000" filter="url(#cbb016882db5c851af06eebb43c674f7__a)" xlink:href="#cbb016882db5c851af06eebb43c674f7__b"/><use fill="#FFF" xlink:href="#cbb016882db5c851af06eebb43c674f7__b"/><path fill="currentColor" d="M17 29c-6.627 0-12-5.373-12-12S10.373 5 17 5s12 5.373 12 12-5.373 12-12 12z"/><path fill="#000" class="tint" d="M17 29c-6.627 0-12-5.373-12-12S10.373 5 17 5s12 5.373 12 12-5.373 12-12 12z"/></g></svg>\n'},380:function(e,t){e.exports='<svg width="60" height="68" viewBox="0 0 60 68" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M23.51 51.523a.5.5 0 0 1-.5.477c-.29 0-.51-.21-.52-.477-.145-3.168-1.756-5.217-4.832-6.147C7.53 42.968 0 33.863 0 23 0 10.297 10.297 0 23 0s23 10.297 23 23c0 10.863-7.53 19.968-17.658 22.376-3.076.93-4.687 2.98-4.83 6.147z" id="ae96eeecd750ec2a83543f00c9bc789d__b"/><filter x="-21.7%" y="-15.4%" width="143.5%" height="138.5%" filterUnits="objectBoundingBox" id="ae96eeecd750ec2a83543f00c9bc789d__a"><feGaussianBlur in="SourceGraphic" stdDeviation="3"/><feOffset dy="2"/><feComponentTransfer><feFuncA type="linear" slope=".3"/></feComponentTransfer></filter></defs><g fill="none" fill-rule="evenodd"><g fill-rule="nonzero" transform="translate(7 5)" fill="currentColor"><use filter="url(#ae96eeecd750ec2a83543f00c9bc789d__a)" xlink:href="#ae96eeecd750ec2a83543f00c9bc789d__b"/><use xlink:href="#ae96eeecd750ec2a83543f00c9bc789d__b"/></g><path d="M30 68c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" fill="#fff" fill-rule="nonzero"/><path d="M30 66a2 2 0 1 0 .001-3.999A2 2 0 0 0 30 66z" fill="currentColor"/></g></svg>'},383:function(e,t,n){"use strict";var r=n(132),i=n(91),a=n(170),o=n(254),s={runPromoAction:function(e,t){return function(n){switch(e.type){case"search":n(i.a.search({origin:t,text:e.searchText,displayText:e.displayText||e.searchText,searchType:"TEXT",rawParams:e.params}));break;case"videoUrl":n(r.a.show({videoUrl:e.url,name:e.name,description:e.description,share:e.share,textSize:"l",origin:t}));break;case"externalLink":window.open(e.href,e.target);break;case"discovery":n(a.a.load(e.id));break;case"covid":e.isolation?n(o.a.openIsolation()):n(o.a.open())}}}};t.a=s},394:function(e,t,n){"use strict";var r=n(4),i=n(30),a=n(49),o=n(8);t.a=function(e){var t=e.result,n=e.position,s=e.nodeRef,c=e.children;return r.createElement(o.a,{name:"result_item",nodeState:{type:i.e(t),gml_id:t.analyticsId,logId:t.logId,position:n,permalink:t.id,uri:a.g(t),reqid:t.requestId,discovery:"collection"===t.type?t.alias:void 0},logClick:!0,nodeRef:s},c)}},40:function(e,t,n){"use strict";n.r(t);var r=n(6),i=(n(56),n(4)),a=n(7),o=n(28),s=n(80),c=n(9),l=n(53),u=n(31),d=n(52),p=n(8),m=Object(a.a)("dialog"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._container=i.createRef(),t._ref=i.createRef(),t._focusContainer=function(){if(t._container.current&&(!window.document.activeElement||!t._container.current.contains(window.document.activeElement))){var e=t._ref.current.scrollTop;t._container.current.focus(),t._ref.current.scrollTop=e}},t._onClose=function(){t.props.onClose()},t._onMouseDown=function(e){var n=e.currentTarget,r=!!(n.scrollHeight>n.offsetHeight)&&n.offsetWidth===n.clientWidth?15:0;e.target===e.currentTarget&&e.clientX+r<e.currentTarget.clientWidth&&t._onClose()},t._onScroll=function(){var e=t._ref.current,n=e.clientHeight+e.scrollTop>=e.scrollHeight;t.props.onScrollToEnd&&n&&t.props.onScrollToEnd()},t._renderClose=function(){if(!t.props.showCloseButton)return null;var e=Boolean(!1);return i.createElement(p.a,{name:"close",useParentState:!0,logClick:!0},i.createElement(u.a,{onClick:t._onClose,offset:e?"small":"large",circle:!0,usePortal:!1}))},t._renderContainer=function(){var e=t.props,n=Boolean(!1);return i.createElement("div",{className:m("container"),ref:t._container,tabIndex:1},i.createElement(s.a,{handlers:{key:l.a.ESC,callback:t._onClose,allowInEditable:!0},stopPropagation:!0}),i.createElement("div",{className:m("content",{"with-title":n})},n?i.createElement(o.a,{selector:".body"},i.createElement("div",{className:m("title")},e.mobileTitle)):null,t._renderClose(),e.children))},t._renderDialog=function(){var e=t.props;return i.createElement(p.a,{name:"dialog",useParentState:!0,logClick:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:m({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:t._ref,onMouseDown:t._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:t.props.onScrollToEnd?t._onScroll:void 0},t._renderContainer()),i.createElement("div",{className:m("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0})))},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?i.createElement(d.a,null,t):i.createElement(o.a,{selector:".body"},i.createElement(d.a,null,t))},t}(i.Component);t.default=Object(c.b)(f)},42:function(e,t,n){"use strict";var r=n(6),i=(n(81),n(4)),a=n(7),o=n(116),s=n(97),c=n(46),l=1,u=Object(a.a)("sticky-wrapper"),d=function(e){function t(t){var n;return(n=e.call(this,t)||this)._containerRef=i.createRef(),n._isDisabled=function(e){return void 0===e&&(e=n.props),e.disabled||!e.scrollId},n._registerContainer=function(){var e,t=n.props,r=null!==(e=t.order)&&void 0!==e?e:l;if(n._containerRef.current){var i=t.scrollId;if(!i)return;t.registerStickyElement(i,r,n._containerRef,n._onPositionUpdate),t.updateStickyElement(i,r,n._containerRef.current.offsetHeight),n._unregisterContainer=function(){t.unregisterStickyElement(i,r)}}},n._onIntersectionChange=function(e){n.setState({fixed:!e})},n._onPositionUpdate=function(e){var t,r;n.setState({position:e}),null===(t=(r=n.props).onOffsetChange)||void 0===t||t.call(r,e)},n._onIntersectionParentBoundaries=function(e){n.setState({reachedParentBoundaries:!e})},n.state={fixed:!1,reachedParentBoundaries:!1,position:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isDisabled()||this._registerContainer()},n.componentDidUpdate=function(e,t){var n=this.props,r=this.state,i=n.children!==e.children;(n.children&&i||this._isDisabled(e)&&!this._isDisabled())&&this._registerContainer(),n.onFixedChange&&t.fixed!==r.fixed&&n.onFixedChange(r.fixed)},n.componentWillUnmount=function(){var e;null===(e=this._unregisterContainer)||void 0===e||e.call(this)},n.render=function(){var e,t=this.props,n=this.state;return t.children?this._isDisabled()?t.children:i.createElement(i.Fragment,null,"top"===t.position?i.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target"),onChange:this._onIntersectionChange},null):null,i.createElement("div",{className:u({position:t.position,fixed:n.fixed,header:t.header,border:null!==(e=t.border)&&void 0!==e?e:"auto",wide:t.wide,"reached-boundaries":n.reachedParentBoundaries}),style:{top:this.state.position,zIndex:t.zIndex},ref:this._containerRef},i.createElement(c.a,{threshold:0,style:n.position?{transform:"translateY(-"+n.position+"px)"}:void 0,className:u("observer-target",{absolute:!0}),onChange:this._onIntersectionParentBoundaries},null),t.children)):null},t}(i.Component);t.a=Object(s.b)(Object(o.b)(d))},446:function(e,t,n){"use strict";var r=n(13),i=n(6),a=(n(514),n(4)),o=n(12),s=n(17),c=n(7),l=n(21),u=n(91),d=n(9),p=n(38),m=n(8),f=n(137),h=n(113),v=n(35),g=n(190),b=n(162),_=n(11),y=n(394),E=(n(516),n(36)),C=n(123),w=320,k=w/2,S="rgba(0,0,0,.04)",O=Object(c.a)("orgpage-similar-item"),R=function(e){function t(t){var n;return(n=e.call(this,t)||this)._hover=function(){n.setState({hovered:!0})},n._unhover=function(){n.setState({hovered:!1})},n._renderImage=function(){var e=n.props.item,t=n.state.hovered;if(e.photoUrlTemplate)return a.createElement(b.a,{url:e.photoUrlTemplate.replace("%s","M"),height:w/2,backgroundFallback:S,hovered:t,withParanja:!0});var r=null;return e.icon&&(r=E.d({type:"rubrics",name:e.icon,size:"normal"},n.props.config)),r||(r=E.d({type:"rubrics",name:"fallback",size:"normal"},n.props.config)),a.createElement(b.a,{height:w/2,backgroundFallback:S,hovered:t,withParanja:!0},a.createElement(_.a,{url:r,className:O("rubric-image")}))},n._renderRating=function(){var e=n.props.item;return a.createElement("div",{className:O("rating")},e.rating?a.createElement(h.a,{ratingValue:e.rating}):a.createElement(f.a,{ratingCount:0}))},n.state={hovered:!1},n}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=t.id?l.c({id:t.id,seoname:t.seoname},void 0,e.config):void 0;return a.createElement(m.a,{name:"organization_card",logClick:!0,nodeState:{logId:t.id,permalink:t.id,uri:t.uri,title:t.title},useParentState:!0},a.createElement(p.a,{href:n,onLeftClick:e.onClick},a.createElement("div",{className:O(),onMouseEnter:this._hover,onMouseLeave:this._unhover},a.createElement("div",{className:O("image")},this._renderImage()),a.createElement("div",{className:O("info")},a.createElement("div",{className:O("title")},t.title),a.createElement(g.a,{result:t}),a.createElement("div",{className:O("rubrics")},t.category||e.category),a.createElement("div",{className:O("feature")},this._renderRating())),a.createElement(C.a,{chunk:"orgpage"}))))},t}(a.Component),T=Object(d.b)(R),j=n(90),I={openSimilar:u.a.openSimilar},N=Object(c.a)("card-similar-carousel"),P=96,x=Object(s.a)(o.b(null,I),d.b),M=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onSimilarClick=function(e){var t=n.props;t.onClick?t.onClick(e):t.openSimilar(e,{serpId:t.serpId,wide:t.wide})},n._onMouseEnter=function(e){n.setState({hoveredItemIndex:e})},n._onMouseLeave=function(){n.setState({hoveredItemIndex:null})},n._renderItemContent=function(e,t){var r=n.props,i=e.id?l.c({id:e.id,seoname:e.seoname},{},r.config):void 0,o=e.photoUrlTemplate&&e.photoUrlTemplate.replace("%s","M");return r.wide?a.createElement(T,{key:e.id,item:e,onClick:function(){return n._onSimilarClick(e)}}):a.createElement(p.a,{href:i,onLeftClick:function(){return n._onSimilarClick(e)}},a.createElement("div",{className:N("item"),onMouseEnter:function(){return n._onMouseEnter(t)},onMouseLeave:n._onMouseLeave},a.createElement("div",{className:N("image")},a.createElement(b.a,{height:P,url:o,hovered:n.state.hoveredItemIndex===t},!e.photoUrlTemplate&&e.iconUrl?a.createElement(_.a,{url:e.iconUrl,className:N("icon-fallback")}):null)),a.createElement("div",{className:N("description")},a.createElement("div",{className:N("title")},e.title),a.createElement("div",{className:N("badge")},a.createElement(g.a,{result:e})),a.createElement("div",{className:N("extra")},e.rating?a.createElement(h.a,{ratingValue:e.rating}):a.createElement(f.a,{ratingCount:0}),e.category&&!e.price?a.createElement("div",{className:N("category")},e.category):null,e.price?a.createElement("div",{className:N("price")},(function(params){return "от "+params.price;})({price:e.price})," ₽"):null))))},n._renderSearchItem=function(e,t){return a.createElement(y.a,{result:n.props.searchResults[t],position:n.props.position||0,key:t},n._renderItemContent(e,t))},n._renderSimilarItem=function(e,t){return a.createElement(m.a,{name:"result_item",nodeState:{type:e.isAdvert?"yabs":"business",logId:e.logId,permalink:e.id,uri:e.uri,position:t},useParentState:!0,logClick:!0,key:t},n._renderItemContent(e,t))},n._renderItem=function(e,t){return n.props.searchResults?n._renderSearchItem(e,t):n._renderSimilarItem(e,t)},n.state={hoveredItemIndex:null},n}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=4+(e.wide?k:P)/2;return a.createElement(m.a,{name:"related_places"},a.createElement("div",{className:N({wide:e.wide})},a.createElement(j.a,{type:"h2"},a.createElement("div",{className:N("label")},e.label)),a.createElement(v.a,Object(r.a)({key:t.map(function(e){return e.id}).join(","),clickStep:2,buttonSize:"m",arrowStyle:{topVerticalOffset:n},itemsGap:16,padding:16},e.carouselOptions),t.map(this._renderItem))))},t}(a.PureComponent);t.a=x(M)},481:function(e,t,n){},483:function(e,t,n){},485:function(e,t,n){},487:function(e,t){e.exports='<svg fill="none" height="40" width="34" xmlns="http://www.w3.org/2000/svg"><filter id="e83671dc9b3a01fd4d4e2851b66a59b2__a" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" height="38" width="32" x="1" y="2"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="1"/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/></filter><g filter="url(#e83671dc9b3a01fd4d4e2851b66a59b2__a)"><path fill="#000" d="M3 17C3 9.266 9.267 3 17 3c7.732 0 14 6.268 14 14 0 5.082-2.014 8.247-6.235 11.76-.295.245-1.696 1.382-2.054 1.684-1.852 1.56-2.6 2.572-2.721 3.757l-.012.109a2.995 2.995 0 0 1-5.959-.018l-.01-.106c-.112-1.185-.857-2.196-2.71-3.755-.361-.304-1.77-1.446-2.065-1.691C5.014 25.234 3 22.073 3 17z"/></g><path fill="#fff" d="M3 17C3 9.266 9.267 3 17 3c7.732 0 14 6.268 14 14 0 5.082-2.014 8.247-6.235 11.76-.295.245-1.696 1.382-2.054 1.684-1.852 1.56-2.6 2.572-2.721 3.757l-.012.109a2.995 2.995 0 0 1-5.959-.018l-.01-.106c-.112-1.185-.857-2.196-2.71-3.755-.361-.304-1.77-1.446-2.065-1.691C5.014 25.234 3 22.073 3 17z"/><path fill="currentColor" d="M5 17c0 10 10.436 11.04 11 16.997l.01.104a.993.993 0 0 0 1.979.005l.011-.11C18.609 28.053 29 27 29 17c0-6.627-5.373-12-12-12S5 10.37 5 17z"/><path fill="#000" class="tint" d="M5 17c0 10 10.436 11.04 11 16.997l.01.104a.993.993 0 0 0 1.979.005l.011-.11C18.609 28.053 29 27 29 17c0-6.627-5.373-12-12-12S5 10.37 5 17z"/></svg>'},488:function(e,t){e.exports='<svg fill="none" height="40" width="34" xmlns="http://www.w3.org/2000/svg"><path stoke-width="1" stroke="#FFF" fill="currentColor" d="M5 17c0 10 10.436 11.04 11 16.997l.01.104a.993.993 0 0 0 1.979.005l.011-.11C18.609 28.053 29 27 29 17c0-6.627-5.373-12-12-12S5 10.37 5 17z"/></svg>\n'},50:function(e,t,n){"use strict";function r(e,t){var n=e.duration,r=void 0===n?0:n,a=e.element,o=e.targetPosition,s=e.horizontal,c=e.onStart,l=void 0===c?function(){}:c,u=e.onEnd,d=void 0===u?function(){}:u,p=s?a.scrollLeft:a.scrollTop,m=Math.round(o-p);if(o===p)return l(),void d();t.query["no-animation"]&&(r=0);var f,h=0;l(),r?window.requestAnimationFrame(function e(t){f=f||t;var n=t-f;var o=n>=r?1:(c=n/r,c<.5?8*c*c*c*c:1-8*--c*c*c*c);var c;h=p+Math.ceil(m*o);i(a,h,s);o<1?window.requestAnimationFrame(e):d()}):(i(a,o,s),d())}function i(e,t,n){n?e.scrollLeft=t:e.scrollTop=t}function a(){}n.d(t,"a",function(){return r}),t.b=function(e,t){var n=e.targetElement,i=e.duration,o=void 0===i?0:i,s=e.insideElement,c=e.offset,l=void 0===c?0:c,u=e.onStart,d=void 0===u?a:u,p=e.onEnd,m=void 0===p?a:p,f=e.horizontal;if(n&&s){var h=s.getBoundingClientRect(),v=n.getBoundingClientRect();"center"===l&&(l=-1*Math.round(h.width/2-v.width/2));var g=f?s.scrollLeft:s.scrollTop;r({duration:o,element:s,targetPosition:Math.min(g+l+(f?v.left-h.left:v.top-h.top),f?s.scrollWidth:s.scrollHeight),horizontal:f,onStart:d,onEnd:m},t)}}},513:function(e,t){},514:function(e,t,n){},516:function(e,t,n){},518:function(e,t,n){"use strict";n.r(t);var r=n(13),i=n(10),a=n(6),o=n(4),s=n(252),c=n(447),l=n(678),u=n(967),d=n(17),p=n(9),m=n(579),f=n(30),h=n(49),v=n(742),g=n(18),b=n(87),_=n(2798),y=n(8),E=n(785),C=100,w=9,k=8,S=20,O=["dot","base","title","subtitle"],R=["dot","base"],T=Object(d.a)(p.b),j=function(e){function t(t){var n;return(n=e.call(this,t)||this)._fetchPlacemarks=function(){n.props.isLoading||(g.a.cancel(n._getPlacemarksDataAction),n._getPlacemarksDataAction=g.a.create(n._getPlacemarksData(n.props),{success:function(e){return n.setState({placemarksData:e})}}))},n._getPlacemarksData=function(e){void 0===e&&(e=n.props);var t=I([]);e.selectedResult&&(t=n._getPlacemarkData(e.selectedResult,"active").then(function(e){return[e]}));var r=e.mapLocation.zoom>=w?k:0,i=O;if(e.config.experiments.ui.searchPinsModes){var a=e.config.experiments.ui.searchPinsModes.split(",").filter(function(e){return i.includes(e)});a.length>0&&(i=a)}return e.results.forEach(function(e,a){t=t.then(function(t){var o=n._getPlacemarkData(e,i[0],a).then(function(e){return{placemarkData:e,ready:!1}});return"lowRelevance"in e&&(i=i.filter(function(e){return"base"!==e})),i.forEach(function(i){o=o.then(function(o){var s=o.placemarkData,c=o.ready;return c?Promise.resolve({placemarkData:s,ready:c}):"subtitle"===i&&r<1?{placemarkData:s,ready:!0}:n._getPlacemarkWithSuitablePosition(t,e,i,a).then(function(e){return e?("subtitle"===i&&r--,{placemarkData:e,ready:c}):{placemarkData:s,ready:!0}})})}),o.then(function(e){var n=e.placemarkData;return[].concat(t,[n])})})}),I(t)},n._getPlacemarkData=function(e,t,r,a){void 0===r&&(r=0);var o=n.props,c=n._getResultState(e),l=null!=a?a:n._getPossibleTitlePositions(e,t)[0],u=Object(m.b)({result:e,mode:t,state:c,config:o.config,titlePosition:l,hideTitle:!1}),d=Object(s.a)(e.displayCoordinates,o.mapLocation.zoom);return u.then(function(n){var a="hover"===c?b.a.search.active+1:b.a.search[t]-r,o="hover"===c&&["dot","base"].includes(t),s=Object(m.a)(Object(i.a)({},o?{icon:n.icon}:n),d),l=[[s[0][0]-d[0],d[1]-s[0][1]],[s[1][0]-d[0],d[1]-s[1][1]]];return{result:e,placemark:n,mode:t,bounds:s,pixelSize:l,zIndex:a}})},n._getPlacemarkWithSuitablePosition=function(e,t,r,i){return n._getPossibleTitlePositions(t,r).reduce(function(a,o){return a.then(function(a){return null!=a?a:(s=o,n._getPlacemarkData(t,r,i,s).then(function(t){return n._isPlacemarkWellPositioned(t,e)?t:void 0}));var s})},Promise.resolve(void 0))},n._getPossibleTitlePositions=function(e,t){var n;if("lowRelevance"in e&&"active"!==t)return["bottom"];var r="hotspotProperties"in e&&(null===(n=e.hotspotProperties)||void 0===n?void 0:n.tags);return"active"===t&&(r||[]).includes("major_landmark")?["bottom"]:(R.includes(t),["right"])},n._isPlacemarkWellPositioned=function(e,t){var r=n.props,i=Object(c.a)(r.mapLocation.bounds,r.mapLocation.zoom);return Object(l.a)(i,e.bounds)&&!function(e,t,n){var r=!f.w(e.result);return t.some(function(t){var n=t.bounds,i=t.result,a=t.mode,o=f.w(i)?C:"subtitle"===a?S:0;return Object(u.a)(e.bounds,r?function(e,t){return[[e[0][0]-t,e[0][1]-t],[e[1][0]+t,e[1][1]+t]]}(n,o):n)})}(e,t,r.config)},n._getResultState=function(e){var t=n.props;return t.highlightedResult&&f.b(t.highlightedResult,e)?"hover":"id"in e&&e.id&&t.visitedBusinesses&&t.visitedBusinesses.includes(e.id)?"visited":"default"},n._renderPlacemark=function(e){var t=n.props,i=e.result;return(t.hiddenResults||[]).find(function(e){return e.id===i.id})?null:o.createElement(v.a,Object(r.a)({key:i.requestId+"_"+h.g(i)+("brandingId"in i?i.brandingId:""),coordinates:i.displayCoordinates,result:i},e.placemark,{mode:e.mode,zIndex:e.zIndex,active:t.selectedResult===i,onClick:t.onPlacemarkClick,onMouseEnter:t.highlightResult,onMouseLeave:t.unhighlightResult}))},n.state={placemarksData:[]},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetchPlacemarks()},n.componentDidUpdate=function(e){Object(_.a)(e,this.props)||this._fetchPlacemarks()},n.componentWillUnmount=function(){g.a.cancel(this._getPlacemarksDataAction)},n.render=function(){var e=this.state.placemarksData,t=e.map(function(e){return{anchor:e.result.displayCoordinates,id:e.result.uri||"",pixelSize:e.pixelSize}});if(0===e.length)return null;var n=e.reduce(function(t,n){var r,a=n.mode;return Object(i.a)(Object(i.a)({},t),{},((r={})[a]=(t[a]||0)+1/e.length,r))},{});return o.createElement(o.Fragment,null,o.createElement(y.a,{name:"stat",nodeState:n}),e.map(this._renderPlacemark),o.createElement(E.a,{preventUpdates:Boolean(this.props.highlightedResult),placemarks:t}))},t}(o.PureComponent);function I(e){return new Promise(function(t){return window.setTimeout(function(){return t(e)},0)})}t.default=T(j)},519:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(6),i=(n(790),n(4)),a=n(7),o=n(9),s=n(11),c=Object(a.a)("filter-pictured-carousel-item"),l=96,u=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e,t=this.props;return i.createElement("div",{className:c({dimmed:t.isDimmed,selected:t.isSelected}),onClick:t.onClick,title:t.text},i.createElement("div",{className:c("img"),style:{height:l*(null!==(e=t.scale)&&void 0!==e?e:1),backgroundImage:"backgroundUrl"in t.image?"url("+t.image.backgroundUrl+")":void 0}},"backgroundUrl"in t.image?null:i.createElement(s.a,{className:c("svg"),url:t.image.iconUrl})),i.createElement("div",{className:c("text")},t.text))},t}(i.Component);t.b=Object(o.b)(u)},56:function(e,t,n){},579:function(e,t,n){"use strict";var r=n(41),i=n(10),a=n(13),o=n(4),s=n(30),c=n(286),l=(n(481),n(7)),u=n(2807),d=Object(l.a)("poi-placemark-title"),p=function(e){var t=Object(u.a)(e.title,{length:40});return o.createElement("div",{className:d(),style:{color:e.color,WebkitTextFillColor:e.color}},t.split(" ").map(function(e,t){return o.createElement("span",{key:t,className:d("word")},e)}))},m=(n(483),n(157)),f=Object(l.a)("search-placemark-icon");function h(e,t){return!t.experiments.ui.searchPinsNoClosed&&("business"===e.type&&("open"!==e.status||m.b(e,t).state.closed))}var v=function(e){var t="lowRelevance"in e.result,n={mode:e.iconMode,state:e.iconState,"has-advert":s.w(e.result),"low-relevance":t,closed:h(e.result,e.config)},r="business"===e.result.type&&t?e.result.businessProperties&&e.result.businessProperties.geoproduct_poi_color||"#999":void 0,a=r?{color:r}:void 0;return o.createElement("div",{className:f(n),style:Object(i.a)({},a)},e.children)},g=n(25),b=n(135),_={width:34,height:40,baseY:40},y={width:60,height:68,baseY:64,centerY:28},E={width:22,height:22},C={};function w(e,t){return e?{default:Object(b.a)({icon:Object(i.a)({source:k(e.default)},t)}),hover:e.hover?Object(b.a)({icon:Object(i.a)({source:k(e.hover)},t)}):void 0,visited:e.visited?Object(b.a)({icon:Object(i.a)({source:k(e.visited)},t)}):void 0}:void 0}function k(e){return'<img src="'+e+'" width="100%" height="100%" />'}var S={getIcons:function(e,t){return C[e]||(C[e]=Object(g.a)("branding/icons",{query:{name:e}},t).then(function(e){return{base:w(e.base,_),active:w(e.active,y),dot:w(e.dot,E)}})),C[e]}},O=(n(485),n(36)),R=n(128),T={},j={get:function(e,t){if(!T[e]){var n=["small","normal"].map(function(n){return O.d({type:"rubrics",name:e,size:n},t)||""}).map(function(e){return e?Object(R.a)({url:e,parser:"string"}):Promise.resolve("")});T[e]=Promise.all(n).then(function(e){return{base:e[0],active:e[1]}})}return T[e]}},I=n(487),N=n.n(I),P=n(488),x=n.n(P),M=Object(l.a)("rubric-placemark-icons-provider"),F={source:N.a,width:34,height:40,centerY:17,baseY:38},D={source:x.a,width:34,height:40,baseY:38,centerX:17,centerY:17};function L(e,t,n){var r;r={mode:e},"base"===e&&n&&("geoproduct"===n&&(r={icon:F}),"low-relevance"===n&&(r={icon:D}));var i=o.createElement("div",{className:M(e+"-content",{"pin-type":n}),dangerouslySetInnerHTML:{__html:t}});return{default:Object(b.a)(r,i)}}var B={get:function(e,t,n){return j.get(e,t).then(function(e){return{base:L("base",e.base,n),active:L("active",e.active)}})}},A="https://avatars.mds.yandex.net/get-{id}_x{scale}",z={dot:{width:18,height:18},base:{width:34,height:40,baseY:36},active:{width:60,height:60,baseY:56,centerY:28}};function q(e,t){var n=A.replace("{id}",e.replace(/--/g,"/")).replace("{scale}",String(Math.max(2,Math.ceil(window.devicePixelRatio||1))));return'<img height="'+z[t].height+'" width="'+z[t].width+'" src="'+n+'" />'}var U={get:function(e){return Object.entries(e).reduce(function(e,t){var n,r=t[0],a=t[1];return Object(i.a)(Object(i.a)({},e),{},((n={})[r]=Object.entries(a||{}).reduce(function(e,t){var n,a=t[0],o=t[1];return Object(i.a)(Object(i.a)({},e),{},((n={})[a]=Object(b.a)({icon:Object(i.a)({source:q(o,r)},z[r])}),n))},{}),n))},{})}},W={width:60,height:68,baseY:64,centerY:28},H={transit:26};function V(e,t){var n='<div class="poi-icon-provider" style="'+("width: "+t.width+"px; height: "+t.height+"px;background: url("+e+") 50% bottom no-repeat; background-size: contain")+'" />';return{default:Object(b.a)({icon:Object(i.a)({source:n},t)})}}var X={get:function(e,t){var n=(t||[]).find(function(e){return Object.keys(H).includes(e)});return{active:V(e,Object(i.a)(Object(i.a)({},W),{},{centerY:n&&H[n]||W.centerY}))}}},Y=n(369);function G(e){return Promise.all([K(e),Z(e)]).then(function(e){return{icon:e[0],title:e[1]}})}n.d(t,"b",function(){return G}),n.d(t,"a",function(){return J});var Q={};function Z(e){var t,n="shortTitle"in e.result&&e.result.shortTitle||e.result.title||"",r="subtitleItems"in e.result&&e.result.subtitleItems||[],l=e.config.experiments.ui,u="hover"===e.state&&!l.searchPlacemarksHover;if(e.hideTitle||!n||["dot","base"].includes(e.mode)&&!u)return Promise.resolve(void 0);var d="lowRelevance"in e.result,m={title:n,subtitleItems:r,showSubtitle:["active","subtitle"].includes(e.mode)||u,background:"active"!==e.mode,isLowRelevance:d,disableTruncate:!0},f=d&&"business"===e.result.type&&(null===(t=e.result.businessProperties)||void 0===t?void 0:t.geoproduct_poi_label_color)||void 0,h=e.titlePosition||"right",v=d&&!["dot","active"].includes(e.mode)&&e.config.isVectorEnabled,g="business"===e.result.type&&s.A(e.result,e.config),b=v?o.createElement(p,{title:n,color:f}):o.createElement(c.a,Object(a.a)({},m,{position:h,isHideRichContentExp:g})),_=JSON.stringify(m);return Q[_]=Q[_]||Object(Y.a)(function(){return b}),Q[_].then(function(e){return Object(i.a)(Object(i.a)({},e),{},{element:b,position:h})})}function K(e){var t=e.state||"default",n=["title","subtitle"].includes(e.mode)?"base":e.mode;return function(e){var t=e.result,n=s.p(t);if("lowRelevance"in t)return B.get(n||"",e.config,"low-relevance");if("business"===t.type&&!t.direct&&t.advert&&t.advert.pinBranding)return Promise.resolve(U.get(t.advert.pinBranding));if("brandingId"in t&&t.brandingId)return S.getIcons(t.brandingId,e.config);if("hotspotProperties"in t&&t.hotspotProperties&&t.hotspotProperties.selectedIconUrl)return Promise.resolve(X.get(t.hotspotProperties.selectedIconUrl,t.hotspotProperties.tags));if(n){var r=s.w(t)?"geoproduct":"default";return B.get(n,e.config,r)}return Promise.resolve(void 0)}(e).catch(function(){}).then(function(e){return e&&e[n]?e[n][t]||e[n].default:Object(b.a)({mode:n},"dot"!==n?"point":null)}).then(function(a){var s=a.element,c=Object(r.a)(a,["element"]);return Object(i.a)(Object(i.a)({},c),{},{element:o.createElement(v,{result:e.result,iconState:t,iconMode:n,config:e.config},s)})})}function J(e,t){var n=function(e,t){var n,r,i=e.icon,a=e.title,o=t[0]-i.baseX,s=t[1]-i.baseY,c=$([[o,s],[o+i.width,s+i.height]]);if(!a||!a.width||!a.height)return c;"bottom"===a.position?(n=t[0]-Math.round(a.width/2),r=t[1]-i.baseY+i.height):"left-top"===a.position?(n=t[0]-a.width-i.width+i.baseX,r=t[1]-i.baseY+i.centerY-a.height):"left-bottom"===a.position?(n=t[0]-a.width-i.width+i.baseX,r=t[1]-i.baseY+i.centerY):"left"===a.position?(n=t[0]-a.width-i.width+i.baseX,r=t[1]-i.baseY+i.centerY-Math.round(a.height/2)):"right-top"===a.position?(n=t[0]+i.width-i.baseX,r=t[1]-i.baseY+i.centerY-a.height):"right-bottom"===a.position?(n=t[0]+i.width-i.baseX,r=t[1]-i.baseY+i.centerY):(n=t[0]+i.width-i.baseX,r=t[1]-i.baseY+i.centerY-Math.round(a.height/2));var l=$([[n,r],[n+a.width,r+a.height]]);switch(a.position){case"bottom":return[[].concat(c[0].slice(0,3),l[0].slice(1),[c[0][3]])];case"left":case"left-top":case"left-bottom":return[[].concat(l[0].slice(0,2),c[0].slice(0,-1),l[0].slice(2))];default:return[[].concat(c[0].slice(0,2),l[0].slice(0,-1),c[0].slice(2))]}}(e,t)[0];return n.reduce(function(e,t){var n=e[0],r=n[0],i=n[1],a=e[1],o=a[0],s=a[1],c=t[0],l=t[1];return[[Math.min(c,r),Math.min(l,i)],[Math.max(c,o),Math.max(l,s)]]},[n[0],n[0]])}function $(e){var t=e[0],n=t[0],r=t[1],i=e[1],a=i[0],o=i[1];return[[[n,r],[a,r],[a,o],[n,o],[n,r]]]}},61:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("feedback").then(n.bind(null,249))},{openCommonFeedback:!0,closeCommonFeedback:!0,openFeedback:!0,closeFeedback:!0,openSelectObjectFeedback:!0,openBusinessFeedback:!0,openRouteFeedback:!0,openAddObjectFeedback:!0,openEditObjectFeedback:!0,openMapEditFeedback:!0,completeFeedback:!0,submitFeedback:!0})},613:function(e,t,n){"use strict";n(777);var r=n(4),i=n(7),a=n(8),o=Object(i.a)("search-typo-view");t.a=function(e){var t=e.query,n=e.onClick;return r.createElement(a.a,{name:"typo",logClick:!0},r.createElement("div",{className:o()},r.createElement("span",{className:o("title")},"Исправлена опечатка"," "),r.createElement("span",{className:o("query-wrapper")},r.createElement("span",{className:o("query"),onClick:n},t))))}},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){e.exports=n.p+"_/5e75b507edc611b46cc0cdfebd5ff33c.svg"},678:function(e,t,n){"use strict";function r(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}n.d(t,"a",function(){return r})},68:function(e,t,n){e.exports=n.p+"_/8156832d990b20d84ae2fa43ba364ee4.svg"},72:function(e,t,n){"use strict";n(103),n(105);var r=n(4),i=n(7),a=n(31),o=n(46),s=Object(i.a)("sidebar-panel-header-view"),c=r.memo(function(e){return r.createElement("div",{className:[s({bordered:e.showBorder,view:e.view}),e.className].filter(Boolean).join(" ")},r.createElement("div",{className:s("title",{big:e.big})},e.title||e.children),r.createElement(o.a,{onChange:e.onChangeVisibiltyTitle},null),r.createElement("div",{className:s("controls")},e.onClose?r.createElement(a.a,{onClick:function(t){t.stopPropagation(),e.onClose()},relative:!0,circle:!0}):null))});c.displayName="SidebarPanelHeaderView",t.a=c},742:function(e,t,n){"use strict";var r=n(6),i=(n(743),n(4)),a=n(7),o=n(8),s=n(30),c=n(49),l=n(54),u=n(327),d=Object(a.a)("search-placemark-view"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onClick=function(){t.props.onClick&&t.props.onClick(t.props.result)},t._onMouseEnter=function(){t.props.onMouseEnter&&t.props.onMouseEnter(t.props.result)},t._onMouseLeave=function(){t.props.onMouseLeave&&t.props.onMouseLeave(t.props.result)},t._renderEntrances=function(){var e=t.props;return e.active?i.createElement(u.a,{result:e.result,analyticsName:"entrances",animated:!0}):null},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.result,n=e.icon,r=e.title,a=r&&r.position||"right",u=null;if(r){var p="bottom"!==a?n.centerY:void 0;u=i.createElement("div",{className:d("title"),style:{marginTop:p}},r.element)}var m=s.p(t),f="brandingId"in t&&t.brandingId||"advert"in t&&t.advert&&t.advert.pinBranding?"branding":m?"rubric":"default";return i.createElement(o.a,{name:e.analyticsName||"placemark",nodeState:{type:s.e(t),gml_id:t.analyticsId,logId:t.logId,permalink:"id"in t?t.id:void 0,uri:c.g(t),reqid:t.requestId,branding:"brandingId"in t?t.brandingId:void 0,active:e.active,lowRelevance:"lowRelevance"in t&&t.lowRelevance,relatedAdvertType:"relatedAdvertType"in t&&t.relatedAdvertType||void 0,mode:e.mode,rubricType:m},logClick:!0},i.createElement(l.a,{coordinates:e.coordinates,zIndex:e.zIndex,onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.createElement("div",{className:d({position:a}),"data-object":"search-placemark","data-id":e.result.id,"data-mode":e.mode,"data-coordinates":e.coordinates.join(","),"data-icon-type":f,style:{marginTop:-n.baseY,marginLeft:"left"===a?n.baseX:"right"===a?-n.baseX:void 0}},i.createElement("div",{className:d("icon"),style:{width:n.width,height:n.height}},n.element),u)),this._renderEntrances())},t}(i.PureComponent);t.a=p},743:function(e,t,n){},764:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n(128),o=n(18),s=n(9),c=n(60),l=n(184),u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._loadFile=function(){var e=t.props,n=e.config.staticHost+"static/v11/map-customizations/"+e.name+".json";o.a.cancel(t._loaderAction),t._loaderAction=o.a.create(Object(a.a)({url:n,parser:"json"}),{success:t._setMapCustomization})},t._setMapCustomization=function(e){void 0===e&&(e={});var n=t.props;n.dataSourceIds.forEach(function(t){var r=n.map.getDataSource(t);r&&"tile"===r.type&&n.map.updateTileDataSource(t,Object(l.f)(r,e))})},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadFile()},n.componentDidUpdate=function(e){this.props.name!==e.name&&this._loadFile()},n.componentWillUnmount=function(){this._setMapCustomization(),o.a.cancel(this._loaderAction)},n.render=function(){return null},t}(i.PureComponent);t.a=Object(s.b)(Object(c.b)({shouldWait:!0})(u))},777:function(e,t,n){},779:function(e,t,n){"use strict";n(780);var r=n(4),i=n(7),a=n(11),o=n(782),s=n.n(o),c=Object(i.a)("notification-icon");t.a=function(e){return r.createElement(a.a,{url:s.a,className:c({view:e.view})})}},78:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(70),i=n(24);function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},a=n.locale,o=a&&a.options&&a.options.weekStartsOn,s=null==o?0:Object(r.a)(o),c=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(i.a)(e,n),u=l.getDay(),d=(u<c?7:0)+u-c;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}},780:function(e,t,n){},782:function(e,t,n){e.exports=n.p+"_/950deb8a937563a6760d529c65804177.svg"},783:function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(4),a=n(9),o=n(48),s=n(142),c=n(956),l=n(1405),u=n(30),d=.025,p=30,m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._timestamp=0,n._intensityRaf=-1,n._intensityEnabled=!1,n._calculateIntensity=function(){n._disableIntensity(),n._stopAnimateIntensity();var e=n._getGeometry();if(e)switch(e.type){case"Polygon":n._enableIntensity();break;case"MultiLineString":n._disableIntensity()}},n._startAnimateIntensity=function(){n._intensityRaf=window.requestAnimationFrame(n._animateIntensity)},n._stopAnimateIntensity=function(){window.cancelAnimationFrame(n._intensityRaf),n._timestamp=0},n._animateIntensity=function(){var e=n._timestamp?(n.props.getToday().getTime()-n._timestamp)/(1e3/p):1,t=d*e,r=n._getTargetIntensity(),i=n.state.intensity,a=i<r?Math.min(r,i+t):Math.max(r,i-t);n.props.config.query["no-animation"]&&(a=r),n.setState({intensity:a}),a!==r?(n._timestamp=n.props.getToday().getTime(),n._startAnimateIntensity()):n._timestamp=0},n._getTargetIntensity=function(){var e,t=n._getGeometry();if(!t||"Polygon"!==t.type)return 0;var r=Object(c.a)((e=[]).concat.apply(e,t.coordinates));return Object(l.a)(r,n.props.mapLocation.bounds,n.props.mapLocation.zoom)?0:1},n._getDrawingStyle=function(e,t){var r=n.state.intensity;switch(e.type){case"MultiLineString":return{stroke:[{color:"#000000",opacity:.18,width:6}],interactive:!1};case"Polygon":return{fill:t?"#00ff00":"#ff4141",fillOpacity:.05*r,stroke:[{color:t?"#359400":"#d54747",opacity:.7*r,width:2}],interactive:!1};default:return}},n._getGeometry=function(){var e=n.props.searchResults,t=e.requestDisplayGeometry;if(!t){var r=e.items[0];r&&"displayGeometry"in r&&(t=r.displayGeometry)}return Object(u.a)(t)},n.state={intensity:0},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._calculateIntensity()},n.componentDidUpdate=function(e){var t=this.props;e.mapLocation===t.mapLocation&&e.searchResults===t.searchResults||this._calculateIntensity()},n.componentWillUnmount=function(){this._stopAnimateIntensity()},n._enableIntensity=function(){if(!this._intensityEnabled){var e=this._getTargetIntensity();this.state.intensity!==e&&(this._stopAnimateIntensity(),this._startAnimateIntensity()),this._intensityEnabled=!0}},n._disableIntensity=function(){this._intensityEnabled&&(this._intensityEnabled=!1)},n.render=function(){var e=this.props.searchResults.items[0];if(!e)return null;var t=this._getGeometry();return t?i.createElement(s.a,{geometry:t,drawingStyle:this._getDrawingStyle(t,"toponym"===e.type&&"vegetation"===e.kind)}):null},t}(i.PureComponent);t.default=Object(o.b)(Object(a.b)(m))},784:function(e,t,n){"use strict";n.r(t);var r=n(10),i=n(41),a=n(6),o=n(4),s=n.n(o),c=n(12),l=n(17),u=n(9),d=n(165),p=n(30),m=n(91),f=n(244),h=n(518),v=n(147),g=n(55),b=n(142),_=n(124),y=n(20),E=n(199),C=n(764),w=Object(y.a)({resolved:{},chunkName:function(){return"card"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("card").then(n.bind(null,1123))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1123}}),k={openSimilar:m.a.openSimilar},S=750,O=100,R=Object(l.a)(c.b(null,k),u.b),T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._shouldShowPreviewImmediately=!1,n._getResults=function(){var e,t=n.props,r=t.searchResponse,a=Object(i.a)(t,["searchResponse"]);if(!r)return[];var o=[].concat(r.items),s=p.o(o);return!s||a.selectedResult&&a.selectedResult.id===s.id||(o=o.concat(p.n(s))),(null===(e=r.branding)||void 0===e?void 0:e.banner)&&(o=o.filter(function(e){return"direct"!==e.type})),a.orgpageId&&(o=o.filter(function(e){return e.id!==a.orgpageId})),a.selectedResult&&(o=o.filter(function(e){return!p.b(e,a.selectedResult)})),o.filter(function(e){return e.displayCoordinates&&"collection"!==e.type}).filter(function(e){return!p.y(e)||p.y(e)&&!p.z(e)})},n._decolorizeAdverts=function(e){return e.map(function(e){return"businessProperties"in e&&e.businessProperties?Object(r.a)(Object(r.a)({},e),{},{businessProperties:Object(r.a)(Object(r.a)({},e.businessProperties),{},{geoproduct_poi_color:"#999",geoproduct_poi_label_color:"#999"})}):e})},n._onPlacemarkClick=function(e){var t=n.props;if(!t.selectedResult||!p.b(t.selectedResult,e)){var r,i,a=p.o(t.searchResponse.items),o=(null!==(r=null==a?void 0:null===(i=a.relatedAdverts)||void 0===i?void 0:i.nearbyOnMap)&&void 0!==r?r:[]).find(function(t){return t.id===e.id});o?t.openSimilar(o):t.onResultClick(e)}},n._onPlacemarkMouseEnter=function(e){var t=n.props.config.experiments.ui;if(n.props.highlightResult(e),t.searchPlacemarksHover){var r=n._shouldShowPreviewImmediately?O:S;n._showPreviewTimer=window.setTimeout(function(){n._shouldShowPreviewImmediately=!0,n.setState({isPreviewShown:!0})},r)}},n._onPlacemarkMouseLeave=function(e){window.clearTimeout(n._showPreviewTimer);var t=n.props.unhighlightResult;n.state.isPreviewShown?n._hoverPreviewTimer=window.setTimeout(function(){return t(e)},O):t(e)},n._onPreviewMouseEnter=function(e){window.clearTimeout(n._hoverPreviewTimer),n.props.highlightResult(e)},n._onAdvertActionClick=function(e){var t,r;n.props.unhighlightResult(e);var i=null===(t=e.advert)||void 0===t?void 0:null===(r=t.actionButtons)||void 0===r?void 0:r[0];i&&n.setState({previewAction:i})},n._onDragStart=function(){n.setState({isPreviewShown:!1,isPreviewDisabled:!0})},n._onDragEnd=function(){n.setState({isPreviewDisabled:!1})},n._renderDirectCounter=function(e,t){var n="direct"in e?e.direct:null;return n?o.createElement(f.a,{key:e.requestId+"_"+n.counterUrl+"_"+t,url:n.counterUrl}):null},n._renderDebugBounds=function(){var e=n.props,t=e.searchResponse;return e.showDebugBounds&&t?o.createElement(o.Fragment,null,t.requestBounds?n._renderBounds(t.requestBounds,"#f00"):null,t.bounds?n._renderBounds(t.bounds,"#0f0"):null):null},n._renderBounds=function(e,t){var n=e[0],r=n[0],i=n[1],a=e[1],s=a[0],c=a[1];return o.createElement(b.a,{geometry:{type:"Polygon",coordinates:[[[r,i],[s,i],[s,c],[r,c]]]},drawingStyle:{fillOpacity:0,stroke:[{color:t,width:5}]}})},n._renderPreview=function(){var e=n.props.highlightedResult;return e&&"business"===e.type&&n.state.isPreviewShown&&!n.state.isPreviewDisabled?o.createElement(_.a,{coordinates:e.displayCoordinates,position:["top","bottom"],showArrow:!1,offset:{main:e.advert?10:0,side:0},onMouseEnter:function(){return n._onPreviewMouseEnter(e)},onMouseLeave:function(){return n.props.unhighlightResult(e)},key:e.uri,isShown:!0},o.createElement(w,{result:e,openCard:function(){return n.props.onResultClick(e)},onRouteClick:n.props.onRouteClick,onAdvertActionClick:n._onAdvertActionClick})):null},n._renderPreviewActionIframe=function(){n.props;var e=n.state.previewAction;return e&&"url"===e.type&&e.iframe?o.createElement(E.a,{isOpen:!0,href:e.value,iframeStyle:{border:"none",width:e.iframe.width,height:e.iframe.height},onClose:function(){return n.setState({previewAction:void 0})},fullView:!0}):null},n.state={isPreviewShown:!1},n}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.searchResponse,t=e.categories,n=e.chain;t&&t.length>0?d.a.reachGoal("search_rubrics"):n&&d.a.reachGoal("search_chain")},n.componentDidUpdate=function(e){var t=this.props.highlightedResult;!t&&this.state.isPreviewShown&&this.setState({isPreviewShown:!1}),e.searchResponse!==this.props.searchResponse&&(this._shouldShowPreviewImmediately=!1),e.highlightedResult&&e.highlightedResult!==t&&(window.clearTimeout(this._showPreviewTimer),window.clearTimeout(this._hoverPreviewTimer))},n.componentWillUnmount=function(){window.clearTimeout(this._showPreviewTimer),window.clearTimeout(this._hoverPreviewTimer)},n.render=function(){var e=this.props,t=this._getResults(),n=t.filter(function(e){return!("lowRelevance"in e)}),r=!e.alongRoute&&n.length>0&&p.y(n[0]);r&&(t=this._decolorizeAdverts(t));var i=p.d(e.searchResponse);return o.createElement(v.a,{key:e.searchResponse.requestSerpId,name:"search_results",nodeState:i},o.createElement(h.default,{results:t,hiddenResults:e.hiddenResults,selectedResult:e.selectedResult,mapLocation:e.mapLocation,isLoading:e.isLoading,visitedBusinesses:e.visitedBusinesses,onPlacemarkClick:this._onPlacemarkClick,highlightedResult:e.highlightedResult,highlightResult:this._onPlacemarkMouseEnter,unhighlightResult:this._onPlacemarkMouseLeave}),r?o.createElement(C.a,{name:"gray-poi",dataSourceIds:["map","indoor"]}):null,t.map(this._renderDirectCounter),this._renderDebugBounds(),this._renderPreview(),this._renderPreviewActionIframe(),o.createElement(g.b,{onDragStart:this._onDragStart,onDragEnd:this._onDragEnd}))},t}(o.PureComponent);t.default=R(T)},785:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n(84),o=n.n(a),s=n(60),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._uuid=o.a.v4(),t._getCollidingPrimitiveId=function(e){return t._uuid+":"+e.id},t._getCollidingPrimitives=function(e){var n=new Map;return e.forEach(function(e){n.set(t._getCollidingPrimitiveId(e),{anchor:e.anchor,rect:{minX:e.pixelSize[0][0],minY:e.pixelSize[0][1],maxX:e.pixelSize[1][0],maxY:e.pixelSize[1][1]}})}),n},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=this._getCollidingPrimitives(e.placemarks);e.map.addInvisibleCollidingPrimitives(t)},n.shouldComponentUpdate=function(){return!this.props.preventUpdates},n.componentDidUpdate=function(){var e=this,t=this.props,n=t.map.getInvisibleCollidingPrimitives(),r=[],i=this._getCollidingPrimitives(t.placemarks);n.forEach(function(t,n){n.startsWith(e._uuid+":")&&r.push(n)}),t.map.removeInvisibleCollidingPrimitives(r),t.map.addInvisibleCollidingPrimitives(i)},n.componentWillUnmount=function(){var e=this.props;e.map.removeInvisibleCollidingPrimitives(e.placemarks.map(this._getCollidingPrimitiveId))},n.render=function(){return null},t}(i.Component);t.a=Object(s.b)({shouldWait:!0})(c)},786:function(e,t,n){"use strict";var r=n(119);function i(){}var a=Object(r.a)("config",{addSwipeListener:i,removeSwipeListener:i}),o=a.connect;a.Provider;t.a=o},787:function(e,t,n){"use strict";var r=n(13),i=n(6),a=(n(788),n(4)),o=n(7),s=n(35),c=n(519),l=Object(o.a)("filter-pictured-carousel"),u=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e,t=this.props;return a.createElement(s.a,Object(r.a)({clickStep:2,buttonOffset:8,buttonSize:"m",className:l(),resetCarouselRef:t.resetCarouselRef,arrowStyle:{horizontalOffset:0,topVerticalOffset:(null!==(e=t.imageScale)&&void 0!==e?e:1)*c.a/2},itemsGap:8,padding:16},t.carouselOptions),t.children)},t}(a.PureComponent);t.a=u},788:function(e,t,n){},790:function(e,t,n){},792:function(e,t,n){"use strict";t.a={updatePersons:function(e){return void 0===e&&(e=2),{type:"DEEP_EXTEND",payload:{booking:{personsAmount:e}}}},updateDates:function(e){return{type:"DEEP_EXTEND",payload:{booking:{dateFrom:e&&e[0],dateTo:e&&e[1]}}}}}},81:function(e,t,n){},90:function(e,t,n){"use strict";n(301);var r=n(4),i=n(7),a=n(27),o=Object(i.a)("card-section-header");t.a=Object(a.b)(function(e){var t=e.type;return r.createElement("div",{className:o({"small-bottom-gutter":e.smallBottomGutter,"medium-bottom-gutter":e.mediumBottomGutter,wide:e.isWideCard,type:e.type})},r.createElement(t,{className:o("title",{wide:e.isWideCard})},e.children),e.rightContent?r.createElement("div",{className:o("right-content")},e.rightContent):null)})},93:function(e,t,n){"use strict";var r=n(6),i=n(4),a=n(46),o=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={shouldRender:t.immediately||Boolean(t.config.uatraits.isRobot)},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){!e.immediately&&this.props.immediately&&this.setState({shouldRender:!0})},n.render=function(){var e=this,t=this.props;if(this.state.shouldRender)return this.props.children;var n=t.placeholder||null;return i.createElement(a.a,{style:{width:"100%",height:"100%"},rootMargin:"100px",onChange:function(t){return e.setState({shouldRender:t})}},n)},t}(i.PureComponent);t.a=Object(o.b)(s)},943:function(e,t,n){"use strict";n.r(t);var r={toggle:function(e){return function(t,n){i(t,{isExpanded:!n().share.isExpanded,result:e})}},close:function(){return function(e){i(e,{isExpanded:!1})}}};function i(e,t){e({type:"EXTEND",payload:{share:t}})}t.default=r},95:function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return v});var r=n(235),i=n(0),a=n(32),o=["mastercardStandart","goldMastercard","worldMastercard","platinumMastercard","worldMastercardBlackEdition","worldEliteMastercard"],s=["mastercardBusinessCard","mastercardWorldBusinessCard","mastercardPreferredBusinessCard","mastercardCorporateCard"],c=[].concat(o,s);function l(e){i.a.set("promo_mastercard_type",e)}function u(){var e=i.a.get("promo_mastercard_type");return Array.isArray(e)?e.filter(function(e){return c.includes(e)}):[]}function d(e){var t=e.bunker.mastercard;return t&&Array.isArray(t.types)?t.types.filter(function(e){var t=e.id;return void 0===t||c.includes(t)}):[]}function p(e,t,n){return function(e){return Boolean(e.bunker.mastercard&&e.bunker.mastercard.serp.isActive)}(n)?f(e,t,n):null}function m(e,t,n){return f(e,t,n)}function f(e,t,n){var i=a.f(n);return e&&Object(r.a)(a.g(i),{start:e.startDate,end:e.endDate})?function(e,t){return function(e){var t=e.some(function(e){return o.includes(e)}),n=e.some(function(e){return s.includes(e)}),r=t&&n?[]:function(e,t){var n=t?o:s;return[].concat(e).sort(function(e,t){return n.indexOf(t)-n.indexOf(e)})}(e,o.includes(e[0]));return[].concat(r,["anyCard"])}(t).map(function(t){return e.find(function(e){return e.id===t})}).filter(function(e){return Boolean(e)})[0]}(e.offers,t):null}var h={anyCard:"",mastercardStandart:"mastercard_standard",goldMastercard:"gold_mastercard",worldMastercard:"world_mastercard",platinumMastercard:"platinum_mastercard",worldMastercardBlackEdition:"worldblack_mastercard",worldEliteMastercard:"worldelite_mastercard",mastercardBusinessCard:"business_mastercard",mastercardWorldBusinessCard:"worldbusiness_mastercard",mastercardPreferredBusinessCard:"preferredbusiness_mastercard",mastercardCorporateCard:"corporate_mastercard"};function v(e,t){if(void 0===t&&(t=u()),!e.includes("provider:mastercardoffers"))return e;var n=e.replace(/\(? ?feature:\(mastercards_types.*?\)( \|)?\)?/,"");return 0===t.length?n:n+"("+t.map(function(e){return"feature:(mastercards_types:"+h[e]+")"}).join(" | ")+")"}},956:function(e,t,n){"use strict";var r=n(342);var i=n(252),a=n(341),o=n(450),s=n(193);function c(e){var t=[[0,0],[0,0]];e.length&&(t=function(e,t,n){var i=[[1/0,1/0],[-1/0,-1/0]],a=e.length;return[0,1].forEach(function(o){if(n[o]){e.sort(function(e,t){return e[o]-t[o]});var s=0;e.forEach(function(n,c){var l=c+1,u=l===a?e[0]:e[l],d=Object(r.a)(u[o]-n[o],0,t);d>=s&&(s=d,i[0][o]=u[o],i[1][o]=n[o])}),i[0][o]>i[1][o]&&(i[1][o]+=t)}else e.forEach(function(e){i[0][o]=Math.min(i[0][o],e[o]),i[1][o]=Math.max(i[1][o],e[o])})}),i}(e.map(function(e){return Object(i.a)(e,s.g)}),Object(a.a)(s.g),s.k).map(function(e){return Object(o.a)(e,s.g)}));return t}n.d(t,"a",function(){return c})},98:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(24);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t);return n.setHours(0,0,0,0),n}},99:function(e,t,n){"use strict";var r=n(41),i=n(10),a=n(159),o=n(2796),s=n(322),c=n(2809),l=n(25),u=n(95),d="search_",p="",m={fetch:function(e,t){return Object(l.a)("search",{query:h(e,t)},t).then(function(e){return p=e.requestId,e})},fetchSearchResult:function(e,t){if("poi"===e.from)return e.uri?m.loadPoiByUri(e.uri,t).then(function(t){return Object(i.a)(Object(i.a)({},t),{},{items:t.items.map(function(t,n){return Object(i.a)(Object(i.a)({},t),{},{hotspotProperties:e.hotspotProperties,displayCoordinates:e.coordinates&&0===n?e.coordinates:t.displayCoordinates})})})}):m.loadPoiByCoordinates(e.coordinates,t);if("whatshere"===e.from)return m.loadWhatshere(e,t);var n=Object(i.a)(Object(i.a)({},e),{},{count:1,searchType:"TEXT"});return n.uri&&(n.mode="uri"),m.fetch(n,t)},prepareChainSearchRequest:function(e,t){return m.fetch({count:1,kind:"locality",text:Object(o.a)(e.center,{reverse:!0}),origin:"chain-city"},t).then(function(t){var n={searchType:"TEXT",displayText:e.chain.name,text:"chain_id:("+e.chain.id+")",origin:e.origin||"chain"},r=t.bounds;if(r){var i=Object(s.a)(r);n.center=i.center,n.span=i.span}return n})},loadPoiByCoordinates:function(e,t){return m.fetch({text:Object(o.a)(e,{reverse:!0}),count:1,origin:"poi",snippets:f(t)},t)},loadPoiByUri:function(e,t){return m.fetch({mode:"uri",uri:e,count:1,origin:"poi",snippets:f(t)},t)},loadWhatshere:function(e,t){var n=e.origin,i=Object(r.a)(e,["origin"]);return m.fetch({pin:!0,text:Object(o.a)(i.coordinates,{reverse:!0}),zoom:i.zoom,span:[.001,.001],count:1,origin:n||"poi",addBuildingGeometry:e.addGeometry},t).then(function(e){var t=e.items[0];return t?("poi"===n&&(t.displayCoordinates=t.coordinates),e):null}).catch(function(){return null})}};function f(e){return e.search.snippets.filter(function(e){return"related_adverts/1.x"!==e&&"related_adverts_1org/1.x"!==e})}function h(e,t){var n,r=e.clientId||"maps",s=e.origin?r+"-"+e.origin:r,l=((n={text:e.text,lang:t.locale,yandex_gid:t.userRegion.id,client_id:e.clientId,origin:s,results:e.count,ctx:e.context,mode:e.mode,lr:e.lr,uri:e.uri,business_oid:e.id,z:e.zoom,sort:e.sort,business_filter:e.filters,autoscale:e.autoscale,distinguish_layers:e.distinguishLayers,correct_misspell:e.correctMisspell,geocoder_kind:e.kind,skip:e.skip,rspn:e.restrictSpan,rearr:e.rearr,groupchains_advert:e.groupchains_advert,relev_ranking_formula:e.relev_ranking_formula,relev_allow_combined_drugs:e.relev_allow_combined_drugs,maxadv:e.maxadv})[a.e]=e[a.e],n.eventsBranch=t.query.eventsBranch,n);return e.addBuildingGeometry&&(l.search_geometry="2"),e.sortOrigin&&(l.sort_origin=e.sortOrigin.join()),e.center&&(l.ll=e.center.join()),e.span&&(l.spn=e.span.join()),e.bbox&&(l.bbox=e.bbox.join("~")),e.snippets?l.snippets=e.snippets.join():l.snippets=t.search.snippets.join(),e.direct&&(l=Object(i.a)(Object(i.a)({},l),t.advert.direct.params)),e.pin&&(l.geocoder_pin=1),e.type&&(l.type=e.type.join()),e.routeCoordinates&&e.bounds&&e.routeCoordinates.some(function(t){return Object(c.a)(e.bounds,t)})&&(l.business_rll=e.routeCoordinates.map(function(e){return Object(o.a)(e,{fractionDigits:5})}).join("~")),e.clientUsecase&&(l.client_usecase=e.clientUsecase),e.suggestReqid&&"form"===e.origin&&(l.suggest_reqid=e.suggestReqid),e.serpId&&(l.serpid=e.serpId),(e.parentReqId||p||t.searchPreloadedResults)&&(l.parent_reqid=e.parentReqId||p||t.searchPreloadedResults.requestId),(t.experiments.ui.whatshereInDistrictTop||t.experiments.ui.whatshereInDistrictBottom)&&(l.includeWhatshereInDistrict=1),e.geoWhere&&(l.geowhere=[].concat(e.geoWhere).reverse().join()),e.businessMode&&(l.business_mode=e.businessMode),"boolean"==typeof e.businessShowClosed&&(l.business_show_closed=e.businessShowClosed?1:0),l.text=l.text&&u.e(l.text),Object(i.a)(Object(i.a)(Object(i.a)({},l),e.rawParams),function(e){var t=Object(i.a)({},e.experiments.geoSearchParams||{}),n=e.experiments.boxes;n&&(t["test-buckets"]=n);return Object.keys(e.query).forEach(function(n){n.startsWith(d)&&(t[n]=e.query[n])}),t}(t))}t.a=m}}]);