(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["home","dialog"],{1038:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n(10),a=n(4),i=n.n(a),s=n(12),c=n(17),l=n(23),u=n(9),d=n(16),p=n(91),m=n(189),f=n(383),h=n(1764),v=n(20),g=n(118),_=n(1778),b=n.n(_),y=Object(v.a)({resolved:{},chunkName:function(){return"base"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(null,33))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 33}}),w=Object(v.a)({resolved:{},chunkName:function(){return"emergency"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("emergency").then(n.bind(null,166))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 166}},{ssr:!1}),E={openCategory:p.a.openCategory,runPromoAction:f.a.runPromoAction,close:l.a.closeHomePanel,openCatalog:m.a.openCatalog,openHomePanel:l.a.openHomePanel},C="home",S=Object(c.a)(s.b(function(e){return Object(o.a)({mode:d.d(e,!1),mapLocation:e.map.location,isMasstransitActive:e.masstransit.isLayerShown,notifications:e.masstransit.isLayerShown?e.masstransit.notifications:e.notifications},e.homePanel)},E),u.b),O=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onCatalogItemClick=function(e){t.props.openCategory(e.category,{mobileViewState:"mini"},{origin:"form",displayText:e.displayText})},t._renderContent=function(){var e,n,r=t.props;return a.createElement(h.a,{locationInfo:r.locationInfo,mapLocation:r.mapLocation,onCatalogItemClick:t._onCatalogItemClick,onPromoAction:r.runPromoAction,openCatalog:r.openCatalog,bannerId:null===(e=r.config.banner)||void 0===e?void 0:null===(n=e.blockIds)||void 0===n?void 0:n.home})},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props;e.config.locationInfo||e.mode!==C||e.isLoading||e.openHomePanel()},n.componentDidUpdate=function(e){var t=this.props;e.mode!==C&&t.mode===C&&t.isOpen&&!t.isLoading&&t.openHomePanel()},n.render=function(){var e=this.props;return a.createElement(a.Fragment,null,a.createElement(y,{name:C,analyticsName:"home_panel",onClose:void 0,view:"full",isLoading:e.isLoading&&!0,hideCloseButton:!1},null,this._renderContent()),e.config.locationInfo?a.createElement(g.a,{type:"home_page"}):null)},t}(a.Component);O.displayName="HomeComponent",t.default=S(O)},118:function(e,t,n){"use strict";var r=n(6),o=n(4),a=n(141),i=n(9),s=n(160),c=n(16),l=n(218),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!t.isTimingLogged){var e=this.props,n=e.config.pageMode;"search-result"===e.config.pageMode&&(n="search"),"metro_page"===e.type&&(n="metro"),function(e){switch(e){case"routes_page":return"routes";case"org_page":return"orgpage";case"discovery_page":return"discovery";case"home_page":return"home";case"panorama_page":case"panorama_page_new":return"panoramas";case"photos_page":return"photos";case"search_card_page":case"search_list_page":return"search";case"traffic_page":return"traffic";case"masstransit_stop_page":case"masstransit_route_page":return"masstransit";case"catalog_page":return"catalog";case"metro_page":return"metro"}}(e.type)===n&&(t.isTimingLogged=!0,c.n(Object(l.a)(e.config))||this.setState({ready:a.a.getTimeToNow()}))}},n.render=function(){var e=this.props.type;return"undefined"==typeof window?null:o.createElement(s.a,{type:e,ready:this.state.ready,extraState:{show:window.timingsMarks&&e in window.timingsMarks?window.timingsMarks[e]:this.state.ready}})},t}(o.PureComponent);u.isTimingLogged=!1,t.a=Object(i.b)(u)},131:function(e,t,n){"use strict";var r=n(13),o=n(41),a=n(71),i=n(6),s=n(4),c=n(2779),l=n(9),u=!0,d=new Map,p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._ref=s.createRef(),t._getTitleFromChildren=function(){var e=t.props.children;if("string"==typeof e)return e},t._getDefaultTitle=function(){return "Яндекс.Карты"},t._updateTitle=function(){var e=t._ref.current,n=t._getTitleFromChildren()||e.innerText||e.textContent,r=n&&n.replace(/\s/g," ").trim();r&&(d.set(Object(a.a)(t),r),t._setDocumentTitle(r))},t._setDocumentTitle=function(e){u?u=!1:window.document.title=e?Object(c.a)(e)+" — "+t._getDefaultTitle():t._getDefaultTitle()},t}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateTitle()},n.getSnapshotBeforeUpdate=function(){return this._ref.current.textContent},n.componentDidUpdate=function(e,t,n){n!==this._ref.current.textContent&&this._updateTitle()},n.componentWillUnmount=function(){d.delete(this);var e=d.values().next().value;this._setDocumentTitle(e)},n.render=function(){var e=this.props,t=e.children,n=(e.config,Object(o.a)(e,["children","config"]));return s.createElement("h1",Object(r.a)({},n,{ref:this._ref}),t)},t}(s.PureComponent);t.a=Object(l.b)(p)},134:function(e,t,n){"use strict";n(148);var r=n(4),o=n(7),a=n(8),i=Object(o.a)("something-wrong-view");t.a=function(e){return r.createElement(a.a,{name:"error"},r.createElement("div",{className:i()},r.createElement("div",{className:i("image")}),r.createElement("div",{className:i("text")},e.children)))}},143:function(e,t,n){"use strict";var r=n(195),o=n(183),a=n(122),i=n(100);t.a=function(e,t,n){if(!Object(i.a)(n))return!1;var s=typeof t;return!!("number"==s?Object(o.a)(n)&&Object(a.a)(t,n.length):"string"==s&&t in n)&&Object(r.a)(n[t],e)}},148:function(e,t,n){},170:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("discovery").then(n.bind(null,408))},{load:!0,highlightOrganization:!0,unhighlightOrganization:!0,selectOrganization:!0,unselectOrganization:!0})},1764:function(e,t,n){"use strict";var r=n(6),o=n(1765),a=n.n(o),i=n(1767),s=n.n(i),c=n(4),l=n.n(c),u=n(7),d=n(20),p=n(9),m=n(21),f=n(596),h=n(131),v=n(597),g=n(491),_=n(282),b=n(221),y=n(1769),w=n(123),E=n(2760),C=n(1776),S=n.n(C),O=n(1777),j=Object(d.a)({resolved:{},chunkName:function(){return"tooltip"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("tooltip").then(n.bind(null,271))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 271}}),k=3,x=Object(u.a)("home-panel-content-view"),N=function(e){function t(t){var n;return(n=e.call(this,t)||this)._addBrandings=function(e){var t,r=null===(t=n.props.locationInfo)||void 0===t?void 0:t.brandingIcons;return r?r.reduce(function(e,t){var r=n.state.isCatalogExpanded?t.openedIndex:t.closedIndex,o=Math.min(e.length-1,null!=r?r:-1);return-1!==o&&(e[o]={id:"branding_"+t.id,icon:{baseColor:t.icon.backgroundColor,url:t.icon.glyph},text:t.text,data:t}),e},[].concat(e)):e},n._addPromo=function(e){return n.state.promoIcon?[].concat(e.slice(0,k),[n.state.promoIcon],e.slice(k)):e},n._onItemClick=function(e){var t,r=n.props;"more"===e?(null===(t=r.locationInfo)||void 0===t?void 0:t.hasCatalog)?r.openCatalog(r.locationInfo.region):n.setState({isCatalogExpanded:!0}):"action"in e?r.onPromoAction(e.action,"form"):r.onCatalogItemClick(e)},n._wrapTooltip=function(e,t){if(!n.state.promoIcon||t!==k)return e;var r=n.props.config.bunker.promoCategoryTooltip;return r?c.createElement(j,{id:n.state.promoIcon.id,title:r.title,text:r.text,position:"right",offset:{main:-14,side:-10}},e):e},n._renderCatalog=function(){var e,t=n.props,r=n.state.isCatalogExpanded,o=null===(e=t.locationInfo)||void 0===e?void 0:e.region,a=t.config.experiments.ui.homeThreeLines,i=a?O.a:void 0,s=r?16:a?12:8,l=f.a(i,{limit:s,region:o,config:t.config,modifyItems:n._addPromo});return r||(l[l.length-1]={id:"more",data:"more",icon:{baseColor:"transparent",url:S.a},url:o?m.d(o,void 0,t.config):void 0,text:"Все места"}),c.createElement("div",{className:x("catalog")},c.createElement(v.a,{items:n._addBrandings(l),onClick:n._onItemClick,theme:"color",size:"large",modifyItemRender:n._wrapTooltip,useH3:!0}))},n._renderBodyContent=function(){return c.createElement("div",{className:x("wrapper")},n._renderCatalog(),c.createElement("div",{className:x("special-tip")},c.createElement(E.a,null)))},n._renderGeoproductPromo=function(){var e=n.props;return e.config.experiments.ui.promoInHome?c.createElement(y.a,e.mapLocation):null},n._renderWeather=function(e){return c.createElement("div",{className:x("weather")},c.createElement(g.a,{weather:e,size:"m",utm:{campaign:"informer",content:"home_informer"}}))},n.state={isCatalogExpanded:!1,promoIcon:"string"==typeof t.config.query.promo?M(t.config,t.config.query.promo):void 0},n}return Object(r.a)(t,e),t.prototype.render=function(){var e,t=this.props;return c.createElement("div",{className:x()},t.locationInfo?c.createElement("div",{className:x("header")},c.createElement(h.a,{className:x("header-text")},t.locationInfo.region.names.nominative),t.locationInfo.weather?this._renderWeather(t.locationInfo.weather):null):null,c.createElement("div",{className:x("body")},t.bannerId?c.createElement(_.a,{bannerId:t.bannerId},this._renderBodyContent()):this._renderBodyContent(),this._renderGeoproductPromo()),(null===(e=t.locationInfo)||void 0===e?void 0:e.hasCatalog)?c.createElement(w.a,{chunk:"catalog"}):null,c.createElement(b.a,{type:"home_page"}))},t}(c.Component);function M(e,t){return"coffee"===t?{id:"promo_coffee",color:"rgb(96, 168, 240)",icon:"cafe",category:{name:"Кофейни",id:"35193114937",seoname:"coffee_shop"}}:"flowers"===t?{id:"promo_flowers",color:"rgb(96, 168, 240)",icon:"flower-shop",category:{name:"Магазин цветов",id:"184108325",seoname:"flower_shop"}}:void 0}t.a=Object(p.b)(N)},1765:function(e,t,n){},1767:function(e,t,n){},1769:function(e,t,n){"use strict";var r=n(10),o=n(6),a=(n(1770),n(4)),i=n(12),s=n(17),c=n(7),l=n(9),u=n(35),d=n(8),p=n(18),m=n(99),f=n(121),h=n(322),v={openCard:f.a.openCard},g=Object(s.a)(i.b(null,v),l.b),_=["cafe","pizzeria","restaurant","sushi","coffee_shop","hookah_bar","pub_bar","fast_food","canteen","sports_bar","soft_drinks_bar","entertainment_center","amusement_park","cinema","malls","giftshop","spa","sauna","beauty","hairdressers","fitness_club","workout_center","swimming_pool","clothing_store","supermarket","fish_store","electronics_store","items_for_mobile_phones"],b=Object(c.a)("geoproduct-promo"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this)._fetchSearch=function(){p.a.cancel(n._fetchAction);var e=n.props,t=e.bounds?Object(h.a)(e.bounds):{center:e.center,zoom:e.zoom},o=m.a.fetch(Object(r.a)(Object(r.a)({},t),{},{text:JSON.stringify({text:_[0],what:[{attr_name:"rubric",attr_values:_}]}),origin:"internal",count:25,snippets:["photos/2.x"],groupchains_advert:1,maxadv:25,rearr:"scheme_Local/Geo/Adverts/TopMaxadv=25"}),e.config);n._fetchAction=p.a.create(o,{success:function(e){return n.setState({promo:w(e)})}})},n._onPromoClick=function(e){n.props.openCard({from:"search",id:e.id,origin:"exp-homePromo"})},n._renderPromoItem=function(e){var t,r=e.advert,o=r.promo,i=o.banner||r.photo||((null===(t=e.photos)||void 0===t?void 0:t.urlTemplate)||"").replace("%s","M");return a.createElement(d.a,{name:"promo_item",nodeState:{title:o.title,id:e.id},key:e.id,logClick:!0},a.createElement("div",{className:b("item"),onClick:function(){return n._onPromoClick(e)}},a.createElement("div",{className:b("image"),style:{backgroundImage:"url("+i+")"}},a.createElement("div",{className:b("info")},a.createElement("div",{className:b("name")},e.shortTitle||e.title),a.createElement("div",{className:b("address")},e.address))),a.createElement("div",{className:b("text")},E(o.title)?o.title:o.text)))},n.state={},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._fetchSearch()},n.componentWillUnmount=function(){p.a.cancel(this._fetchAction)},n.render=function(){var e=this.state;return e.promo?a.createElement(d.a,{name:"promo"},a.createElement("div",{className:b()},a.createElement("div",{className:b("title")},"Акции рядом"),a.createElement("div",null,a.createElement(u.a,{itemsGap:16,padding:16,className:b("promo")},e.promo.map(this._renderPromoItem))))):null},t}(a.Component);function w(e){if(e&&e.items){var t=e.items.filter(function(e){var t=e.advert;return t&&t.promo&&(E(t.promo.title||"")||E(t.promo.text||""))});return t.length>1?t:void 0}}function E(e){return e.includes("р.")||e.includes("руб")||e.includes(" за ")||e.includes("%")||e.includes("кидка")}t.a=g(y)},1770:function(e,t,n){},1772:function(e,t,n){},1774:function(e,t,n){},1776:function(e,t,n){e.exports=n.p+"_/99ea2ca9261862f2371f1e22dbbd5c15.svg"},1777:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=["food","grocery-store","drugstore","beauty","gasoline","auto-repair","clinic","hotels","atm","skating-rink","landmark","covid19","cinemas","malls","fitness","construction-shop","government","post-office","pet-clinic","sport","bars","flower-shop","cafe","museum","entertainment","food","groceries-delivery","housewares"]},1778:function(e,t){},178:function(e,t,n){"use strict";var r=Math.floor,o=Math.random;var a=function(e,t){return e+r(o()*(t-e+1))},i=n(143),s=n(343),c=parseFloat,l=Math.min,u=Math.random;var d=function(e,t,n){if(n&&"boolean"!=typeof n&&Object(i.a)(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Object(s.a)(e),void 0===t?(t=e,e=0):t=Object(s.a)(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=u();return l(e+o*(t-e+c("1e-"+((o+"").length-1))),t)}return a(e,t)},p=n(84),m=n.n(p);n.d(t,"b",function(){return g}),n.d(t,"c",function(){return _}),n.d(t,"g",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return w}),n.d(t,"d",function(){return E}),n.d(t,"a",function(){return C});var f=[],h=97,v=122;function g(){for(var e="",t=0;t<10*Math.random();t++)e+=" ";return e}function _(e){return e.filter(function(e){return!f.includes(e.abuseInfo)})}function b(e){f.push(e)}function y(){var e=new Array(d(1,5)).fill(0);return(e=e.map(function(){return String.fromCharCode(d(h,v))})).join("")+"__"+m.a.v4().replace(/-|\d/g,"")}function w(e){return Object.entries(e).map(function(e){return E(e[1])}).join("")}function E(e){return"."+e.selector+"{"+e.style+"}"}function C(e){return void 0===t&&(t="webmaps"),"utm_source="+t+"&utm_medium="+"gp_label"+"&utm_campaign="+(e?"orgpage_label":"previewcard_label");var t}},189:function(e,t,n){"use strict";var r=n(26);t.a=Object(r.a)(function(){return n.e("catalog").then(n.bind(null,407))},{openCatalog:!0,openGroup:!0,cancelFetch:!0})},221:function(e,t,n){"use strict";var r,o=n(6),a=n(4),i=n(9),s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={didHydrate:r},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.didHydrate||(r=!0,this.setState({didHydrate:r}))},n.render=function(){var e=this.props;return this.state.didHydrate?null:a.createElement("script",{type:"text/javascript",nonce:e.config.cspNonce,dangerouslySetInnerHTML:{__html:"window.timingsMarks."+e.type+" = performance.now();"}})},t}(a.Component);t.a=Object(i.b)(s)},223:function(e,t,n){"use strict";var r=n(4),o=n(28);t.a=function(e){return r.createElement(o.a,{selector:"head"},r.createElement("style",{type:"text/css"},e.stylesString))}},235:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(24);function o(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=t||{},a=Object(r.a)(e,n).getTime(),i=Object(r.a)(o.start,n).getTime(),s=Object(r.a)(o.end,n).getTime();if(!(i<=s))throw new RangeError("Invalid interval");return a>=i&&a<=s}},2760:function(e,t,n){"use strict";var r=n(6),o=n(4),a=n(12),i=(n(1772),n(7)),s=n(8),c=(n(1774),n(40)),l=n(760),u=n(39),d=Object(i.a)("business-iframe-dialog"),p=function(e){return o.createElement(c.default,{isOpen:e.isShown,showCloseButton:!0,onClose:e.onClose},o.createElement("div",{className:d({width:e.width})},e.title?o.createElement("div",{className:d("title")},e.title):null,o.createElement("div",{className:d("frame")},o.createElement(l.a,{url:e.url,placeholder:o.createElement(u.a,{view:"xlarge",withoutMargin:!0})}))))},m=Object(i.a)("certificates-tip"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onDialogClose=function(){n.setState({isDialogOpen:!1})},n._onTipClick=function(){n.setState({isDialogOpen:!0})},n.state={isDialogOpen:!1},n}Object(r.a)(t,e);var n=t.prototype;return n._renderDialog=function(){var e=this.props.iframe;return e?o.createElement(s.a,{name:"certificates_iframe"},o.createElement(p,{url:e.src,isShown:this.state.isDialogOpen,onClose:this._onDialogClose,width:"stretch"})):null},n._renderTip=function(){var e=this.props.tip;return o.createElement(s.a,{name:"certificates_tip",logClick:!0},o.createElement("a",{className:m(),onClick:this._onTipClick,href:e.url,target:e.target},o.createElement("div",{className:m("icon"),style:{backgroundImage:"url("+e.icon+")"}}),o.createElement("div",{className:m("title"),dangerouslySetInnerHTML:{__html:e.title}}),o.createElement("div",{className:m("description"),dangerouslySetInnerHTML:{__html:e.description}})))},n.render=function(){return o.createElement(o.Fragment,null,this._renderTip(),this._renderDialog())},t}(o.Component),h=a.b(function(e){var t=(e.mapRegion||{}).id,n=e.config.bunker.certificates;return n&&(!n.regionIds||n.regionIds.some(function(e){return e===t}))?{type:"certificates",tip:null==n?void 0:n.tip,iframe:null==n?void 0:n.iframe}:{type:null}}),v=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props;switch(e.type){case"certificates":return o.createElement(f,{tip:e.tip,iframe:e.iframe});default:return null}},t}(o.Component);t.a=h(v)},282:function(e,t,n){"use strict";var r=n(6),o=n(283),a=n.n(o),i=n(4),s=n.n(i),c=n(178),l=n(9),u=n(223),d=n(8),p=n(7),m=n(20),f=Object(m.a)({resolved:{},chunkName:function(){return"promo"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("promo").then(n.bind(null,144))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,Promise.resolve(this.importAsync(e)).then(function(e){return t.resolved[n]=!0,e})},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 144}},{ssr:!1}),h=Object(p.a)("banner-wrapper-view"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this)._bannerContainerRef=i.createRef(),n._timerId=-1,n._collectStyles=function(e){var t=Object(c.d)(e.emptyBannerStyle)+Object(c.d)(e.containersStyle);return e.slots.forEach(function(e){t+=Object(c.d)(n._getSlotStyleSet(e))}),t},n._getSlotStyleSet=function(e){var t=n.props.bannerFirst;return"banner"===e.type?t?e.beforeChildrenStyle:e.afterChildrenStyle:"children"===e.type?t?e.afterBannerStyle:e.beforeBannerStyle:e.style},n._renderBanner=function(){var e=n.props;return i.createElement(d.a,{name:"banner",nodeState:{isBlocked:n.state.isBlocked}},i.createElement(f,{id:e.bannerId,fallback:e.fallback,fallbackDirect:e.fallbackDirect,fallbackView:e.fallbackView}))},n._renderSlot=function(e){var t=n.props,r=n._getSlotStyleSet(e);return"banner"===e.type?i.createElement("div",{key:r.selector,className:r.selector,style:t.bannerStyle,ref:n._bannerContainerRef},n._renderBanner()):"children"===e.type?i.createElement("div",{key:r.selector,className:r.selector},t.children):i.createElement("div",{key:r.selector,className:r.selector},i.createElement("div",{className:e.childrenClassNames[0]},i.createElement("div",{className:e.childrenClassNames[1]}),i.createElement("div",{className:e.childrenClassNames[2]})))},n.state={},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._timerId=window.setTimeout(function(){var t,n;(null===(t=e._bannerContainerRef.current)||void 0===t?void 0:null===(n=t.style)||void 0===n?void 0:n.cssText)&&e.setState({isBlocked:!0})},5e3)},n.componentWillUnmount=function(){clearTimeout(this._timerId)},n.render=function(){var e=this.props,t=e.config.bannerLayout;if(g()){var n={order:e.bannerFirst?2:0};return i.createElement("div",{className:h("")},i.createElement("div",{className:h("content"),style:n},e.children),i.createElement("div",{className:h("banner")},this._renderBanner()),i.createElement(u.a,{stylesString:Object(c.d)({selector:"banner-wrapper-view__banner",style:""})}))}return i.createElement("div",{className:t.containersStyle.selector},i.createElement(u.a,{stylesString:this._collectStyles(t)}),t.slots.map(this._renderSlot))},t}(i.Component);function g(){return Math.random()==Math.random()}t.a=Object(l.b)(v)},283:function(e,t,n){},322:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(194),o=n(232);function a(e){var t=e[0][1],n=[e[1][0]-e[0][0],e[1][1]-t],a=Math.tan(Object(r.a)(t+90)/2),i=Math.tan(Object(r.a)(n[1])/2),s=Math.max((-a*a-a*i)/(a*i-1),0),c=.5*Math.log(s),l=2*(Math.atan(Math.exp(c))-.25*Math.PI);return{center:[(e[0][0]+e[1][0])/2,Object(o.a)(l)],span:n}}},35:function(e,t,n){"use strict";var r=n(10),o=n(6),a=(n(63),n(4)),i=n(2800),s=n(2765),c=n(7),l=n(50),u=n(86),d=n(9),p=(n(65),n(8)),m=n(11),f=n(67),h=n.n(f),v=n(68),g=n.n(v),_={l:h.a,m:g.a},b={l:40,m:32},y=Object(c.a)("carousel"),w=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._onPrevClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(-1)},t._onNextClick=function(e){return e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.props.setOffsetByDirection(1)},t._renderButton=function(e){var n;if(!t.props.showButtons[e])return null;var r=t.props,o=r.arrowStyle,i=void 0===o?{}:o,s=r.buttonSize,c=void 0===s?"l":s,l=i.horizontalOffset,u=void 0===l?0:l,d=i.topVerticalOffset,f=b[c]/2,h=void 0!==d,v=h?d-f:0;return a.createElement("div",{className:y("arrow-wrapper",(n={centered:!h},n[e]=!0,n.size=c,n))},a.createElement(p.a,{name:e,logClick:!0,useParentState:!0},a.createElement("div",{className:y("arrow",{size:c}),style:{margin:v+"px "+u+"px"},onClick:"prev"===e?t._onPrevClick:t._onNextClick,onMouseEnter:t.props.onMouseEnter,onMouseLeave:t.props.onMouseLeave},a.createElement(m.a,{className:y("arrow-image"),url:_[c]}))))},t}return Object(o.a)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this._renderButton("prev"),this._renderButton("next"))},t}(a.Component),E=n(85),C=n(110),S=21,O=Object(c.a)("carousel"),j=function(e){function t(t){var n;return(n=e.call(this,t)||this)._analyticsRef=a.createRef(),n._scrollable=a.createRef(),n._isProgrammaticScroll=!1,n._contentNode=null,n._elementWidth=0,n._insideButton=!1,n._isClickAllowed=!0,n._isSwiping=!1,n._swipeStartScreen=0,n._getCurrentScreen=function(){var e=n._scrollable.current.scrollLeft/(n._elementWidth+n.props.itemsGap),t=n.props.children.length-1;return Math.max(0,Math.min(t,e))},n._onScroll=function(){n.props.snap&&(n._isSwiping?n._checkSwipeEndDebounced():n._onSwipeStart()),n.props.onScroll&&n._scrollable.current&&n.props.onScroll(n._getCurrentScreen(),n._isProgrammaticScroll),n._updateArrowsVisibility()},n._checkSwipeEnd=function(){var e=n._getCurrentScreen();Math.abs(e-Math.round(e))<.03&&n._onSwipeEnd()},n._onSwipeStart=function(){var e,t;(n._isSwiping=!0,n._swipeStartScreen=Math.round(n._getCurrentScreen()),n._isProgrammaticScroll)||(null===(e=(t=n.props).onSwipeStart)||void 0===e||e.call(t))},n._onSwipeEnd=function(){var e,t,r;Math.round(n._getCurrentScreen())===n._swipeStartScreen||n._isProgrammaticScroll||(null===(e=n._analyticsRef.current)||void 0===e||e.logEvent("swipe"));n._isProgrammaticScroll||(null===(t=(r=n.props).onSwipeEnd)||void 0===t||t.call(r));n._isSwiping=!1,n._isProgrammaticScroll=!1},n._setScrollPosition=function(e){if(void 0!==e){var t=e*(n._elementWidth+n.props.itemsGap);n._setOffset(t)}},n._contentRef=function(e){if(n._contentNode=e,e){var t=n.props.padding,r=void 0===t?0:t,o=n.props.expandWidth||{left:0};n._elementWidth=e.children[0].offsetWidth-(r+o.left),setTimeout(n._updateHeight,0)}},n._updateHeight=function(){n._contentNode&&n.setState({height:n._contentNode.clientHeight})},n._updateArrowsVisibility=function(){var e=n._scrollable.current,t=e.scrollLeft,r=e.scrollWidth-e.clientWidth-t,o=n.props.buttonOffset,a=void 0===o?1:o,i=t>a,s=r>a,c=n.state.showButtons;i===c.prev&&s===c.next||(n.setState({showButtons:{prev:i,next:s}}),n._leaveButton())},n._enterButton=function(){n._insideButton=!0,n._isClickAllowed=!1},n._leaveButton=function(){n._insideButton=!1},n._onMouseMove=function(){n._insideButton||n._isClickAllowed||(n._isClickAllowed=!0)},n._checkClick=function(e){n._isClickAllowed||(e.preventDefault(),e.stopPropagation())},n._setOffset=function(e){var t=n._scrollable.current,r=n.state.smoothScroll;t&&(n._isProgrammaticScroll=!0,"scrollBehavior"in document.body.style?t.scrollLeft=e:Object(l.a)({duration:r?350:0,element:t,horizontal:!0,targetPosition:e},n.props.config))},n._setOffsetByDirection=function(e){if(n._scrollable.current){var t=n.props,r=n._elementWidth+t.itemsGap,o=n._scrollable.current.scrollLeft+(t.clickStep||1)*r*e,a=1===e?Math.floor:Math.ceil;n._setOffset(a(o/r)*r)}},n._getScrollableContainerStyles=function(e){var t=n.props,o=n.state,a=Object(r.a)({},t.scrollContainerStyle);t.snap&&!e.has.snapAlign&&(a.scrollSnapPointsX="repeat("+(n._elementWidth+t.itemsGap)+"px)");var i=o.height;return i&&(a.height=i+S,a.paddingBottom=S),a},t.scrollableRef&&(n._scrollable=t.scrollableRef),n.state={showButtons:{prev:!1,next:!0},smoothScroll:!1},n._onScrollThrottled=Object(i.a)(n._onScroll,20),n._checkSwipeEndDebounced=Object(s.a)(n._checkSwipeEnd,200),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props;t.resetCarouselRef&&t.resetCarouselRef(function(){return e._setOffset(0)}),t.setPositionRef&&t.setPositionRef(function(t){return e._setScrollPosition(t)}),this._scrollable.current.addEventListener("scroll",this._onScrollThrottled,{passive:!0}),this._updateArrowsVisibility(),this._setScrollPosition(t.initialPosition),this.setState({smoothScroll:!t.config.query["no-animation"]})},n.componentDidUpdate=function(e){a.Children.count(e.children)!==a.Children.count(this.props.children)&&this._updateArrowsVisibility()},n.componentWillUnmount=function(){var e=this.props;e.resetCarouselRef&&e.resetCarouselRef(void 0),e.setPositionRef&&e.setPositionRef(void 0),this._scrollable.current.removeEventListener("scroll",this._onScrollThrottled),this._onScrollThrottled.cancel(),this._checkSwipeEndDebounced.cancel()},n.render=function(){var e=this,t=this.props,n=this.state,o=t.expandWidth||{left:0,right:0},i=t.padding||0,s=i+o.left,c=i+o.right,l=a.Children.toArray(t.children).filter(Boolean),d={"old-browsers-workaround":!t.disableOldBrowsersWorkaround,theme:t.theme||"white","show-arrows":"always"===t.showArrows};return a.createElement(p.a,{name:"carousel",useParentState:!0,nodeRef:this._analyticsRef},a.createElement("div",{className:O(d)+(t.className?" "+t.className:""),style:Object(r.a)({height:n.height,marginLeft:-o.left,marginRight:-o.right},t.style),ref:t.forwardedRef},a.createElement(u.a,null,function(r){var o,i;return a.createElement("div",{className:O("scrollable",{snap:t.snap,"smooth-scroll":n.smoothScroll}),style:e._getScrollableContainerStyles(r),ref:e._scrollable,onClickCapture:e._checkClick,onMouseMove:e._onMouseMove},a.createElement("div",{className:O("content"),ref:e._contentRef},l.map(function(e,n){return a.createElement("div",{key:"object"==typeof e&&e&&"key"in e?e.key||void 0:n,className:O("item"),style:{paddingLeft:0===n?s:t.itemsGap,paddingRight:n===l.length-1?c:void 0}},e)}),a.createElement(E.a,{onResize:function(){e._updateHeight(),e._updateArrowsVisibility()}})),null!==(o=null===(i=t.renderInScrollContainer)||void 0===i?void 0:i.call(t))&&void 0!==o?o:null)}),"never"!==t.showArrows?a.createElement(w,{showButtons:n.showButtons,arrowStyle:t.arrowStyle,buttonSize:t.buttonSize,onMouseEnter:this._enterButton,onMouseLeave:this._leaveButton,setOffsetByDirection:this._setOffsetByDirection}):null))},t}(a.Component);t.a=Object(C.a)(Object(d.b)(j))},383:function(e,t,n){"use strict";var r=n(132),o=n(91),a=n(170),i=n(254),s={runPromoAction:function(e,t){return function(n){switch(e.type){case"search":n(o.a.search({origin:t,text:e.searchText,displayText:e.displayText||e.searchText,searchType:"TEXT",rawParams:e.params}));break;case"videoUrl":n(r.a.show({videoUrl:e.url,name:e.name,description:e.description,share:e.share,textSize:"l",origin:t}));break;case"externalLink":window.open(e.href,e.target);break;case"discovery":n(a.a.load(e.id));break;case"covid":e.isolation?n(i.a.openIsolation()):n(i.a.open())}}}};t.a=s},40:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(56),n(4)),a=n(7),i=n(28),s=n(80),c=n(9),l=n(53),u=n(31),d=n(52),p=n(8),m=Object(a.a)("dialog"),f=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._container=o.createRef(),t._ref=o.createRef(),t._focusContainer=function(){if(t._container.current&&(!window.document.activeElement||!t._container.current.contains(window.document.activeElement))){var e=t._ref.current.scrollTop;t._container.current.focus(),t._ref.current.scrollTop=e}},t._onClose=function(){t.props.onClose()},t._onMouseDown=function(e){var n=e.currentTarget,r=!!(n.scrollHeight>n.offsetHeight)&&n.offsetWidth===n.clientWidth?15:0;e.target===e.currentTarget&&e.clientX+r<e.currentTarget.clientWidth&&t._onClose()},t._onScroll=function(){var e=t._ref.current,n=e.clientHeight+e.scrollTop>=e.scrollHeight;t.props.onScrollToEnd&&n&&t.props.onScrollToEnd()},t._renderClose=function(){if(!t.props.showCloseButton)return null;var e=Boolean(!1);return o.createElement(p.a,{name:"close",useParentState:!0,logClick:!0},o.createElement(u.a,{onClick:t._onClose,offset:e?"small":"large",circle:!0,usePortal:!1}))},t._renderContainer=function(){var e=t.props,n=Boolean(!1);return o.createElement("div",{className:m("container"),ref:t._container,tabIndex:1},o.createElement(s.a,{handlers:{key:l.a.ESC,callback:t._onClose,allowInEditable:!0},stopPropagation:!0}),o.createElement("div",{className:m("content",{"with-title":n})},n?o.createElement(i.a,{selector:".body"},o.createElement("div",{className:m("title")},e.mobileTitle)):null,t._renderClose(),e.children))},t._renderDialog=function(){var e=t.props;return o.createElement(p.a,{name:"dialog",useParentState:!0,logClick:!0},o.createElement(o.Fragment,null,o.createElement("div",{className:m({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:t._ref,onMouseDown:t._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:t.props.onScrollToEnd?t._onScroll:void 0},t._renderContainer()),o.createElement("div",{className:m("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0})))},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?o.createElement(d.a,null,t):o.createElement(i.a,{selector:".body"},o.createElement(d.a,null,t))},t}(o.Component);t.default=Object(c.b)(f)},491:function(e,t,n){"use strict";var r=n(6),o=(n(492),n(4)),a=n(7),i=n(8),s=n(43),c=Object(a.a)("weather-view"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._getUrl=function(){var e=t.props;if(e.weather.url)return e.weather.url+"?utm_source=yamaps&utm_medium=web&utm_campaign="+e.utm.campaign+"&utm_content="+e.utm.content},t._renderContent=function(){var e=t.props.weather,n=e.temperature<0?"&minus;"+Math.abs(e.temperature):String(e.temperature);return o.createElement(o.Fragment,null,o.createElement("img",{className:c("icon"),src:"//yastatic.net/weather/i/icons/funky/dark/"+e.icon+".svg"}),o.createElement("span",{className:c("temperature"),dangerouslySetInnerHTML:{__html:n+"&deg;C"}}))},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=this._getUrl();return t?o.createElement(s.a,{text:"Посмотреть прогноз",position:"right"},o.createElement(i.a,{name:"weather_link",logClick:!0},o.createElement("a",{className:c({link:!0,size:e.size}),href:t,target:"_blank"},this._renderContent()))):o.createElement("div",{className:c({size:e.size})},this._renderContent())},t}(o.Component);t.a=l},492:function(e,t,n){},50:function(e,t,n){"use strict";function r(e,t){var n=e.duration,r=void 0===n?0:n,a=e.element,i=e.targetPosition,s=e.horizontal,c=e.onStart,l=void 0===c?function(){}:c,u=e.onEnd,d=void 0===u?function(){}:u,p=s?a.scrollLeft:a.scrollTop,m=Math.round(i-p);if(i===p)return l(),void d();t.query["no-animation"]&&(r=0);var f,h=0;l(),r?window.requestAnimationFrame(function e(t){f=f||t;var n=t-f;var i=n>=r?1:(c=n/r,c<.5?8*c*c*c*c:1-8*--c*c*c*c);var c;h=p+Math.ceil(m*i);o(a,h,s);i<1?window.requestAnimationFrame(e):d()}):(o(a,i,s),d())}function o(e,t,n){n?e.scrollLeft=t:e.scrollTop=t}function a(){}n.d(t,"a",function(){return r}),t.b=function(e,t){var n=e.targetElement,o=e.duration,i=void 0===o?0:o,s=e.insideElement,c=e.offset,l=void 0===c?0:c,u=e.onStart,d=void 0===u?a:u,p=e.onEnd,m=void 0===p?a:p,f=e.horizontal;if(n&&s){var h=s.getBoundingClientRect(),v=n.getBoundingClientRect();"center"===l&&(l=-1*Math.round(h.width/2-v.width/2));var g=f?s.scrollLeft:s.scrollTop;r({duration:i,element:s,targetPosition:Math.min(g+l+(f?v.left-h.left:v.top-h.top),f?s.scrollWidth:s.scrollHeight),horizontal:f,onStart:d,onEnd:m},t)}}},56:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){e.exports=n.p+"_/5e75b507edc611b46cc0cdfebd5ff33c.svg"},68:function(e,t,n){e.exports=n.p+"_/8156832d990b20d84ae2fa43ba364ee4.svg"},760:function(e,t,n){"use strict";var r=n(6),o=(n(761),n(4)),a=n(9),i=n(134),s=n(7),c=Object(s.a)("business-iframe"),l=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onLoad=function(){n.setState({isLoading:!1})},n._onError=function(){n.setState({isLoading:!1,isError:!0})},n.state={isLoading:!0,isError:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.url!==this.props.url&&this.setState({isLoading:!0,isError:!1})},n.render=function(){var e=this.props.config.uatraits,t="MobileSafari"===e.BrowserName&&Number(e.OSVersion)<13;return o.createElement("div",{className:c()},this.state.isLoading?o.createElement("div",{className:c("paranja",{spinner:!0})},this.props.placeholder):null,this.state.isError?o.createElement("div",{className:c("paranja",{error:!0})},o.createElement(i.a,null,"Что-то пошло не так.\nПопробуйте обновить страницу\nили зайти позднее.")):null,o.createElement("iframe",{className:c("frame"),src:this.props.url,frameBorder:0,height:"100%",onLoad:this._onLoad,onError:this._onError,scrolling:t?"no":void 0}))},t}(o.PureComponent);t.a=Object(a.b)(l)},761:function(e,t,n){},95:function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return v});var r=n(235),o=n(0),a=n(32),i=["mastercardStandart","goldMastercard","worldMastercard","platinumMastercard","worldMastercardBlackEdition","worldEliteMastercard"],s=["mastercardBusinessCard","mastercardWorldBusinessCard","mastercardPreferredBusinessCard","mastercardCorporateCard"],c=[].concat(i,s);function l(e){o.a.set("promo_mastercard_type",e)}function u(){var e=o.a.get("promo_mastercard_type");return Array.isArray(e)?e.filter(function(e){return c.includes(e)}):[]}function d(e){var t=e.bunker.mastercard;return t&&Array.isArray(t.types)?t.types.filter(function(e){var t=e.id;return void 0===t||c.includes(t)}):[]}function p(e,t,n){return function(e){return Boolean(e.bunker.mastercard&&e.bunker.mastercard.serp.isActive)}(n)?f(e,t,n):null}function m(e,t,n){return f(e,t,n)}function f(e,t,n){var o=a.f(n);return e&&Object(r.a)(a.g(o),{start:e.startDate,end:e.endDate})?function(e,t){return function(e){var t=e.some(function(e){return i.includes(e)}),n=e.some(function(e){return s.includes(e)}),r=t&&n?[]:function(e,t){var n=t?i:s;return[].concat(e).sort(function(e,t){return n.indexOf(t)-n.indexOf(e)})}(e,i.includes(e[0]));return[].concat(r,["anyCard"])}(t).map(function(t){return e.find(function(e){return e.id===t})}).filter(function(e){return Boolean(e)})[0]}(e.offers,t):null}var h={anyCard:"",mastercardStandart:"mastercard_standard",goldMastercard:"gold_mastercard",worldMastercard:"world_mastercard",platinumMastercard:"platinum_mastercard",worldMastercardBlackEdition:"worldblack_mastercard",worldEliteMastercard:"worldelite_mastercard",mastercardBusinessCard:"business_mastercard",mastercardWorldBusinessCard:"worldbusiness_mastercard",mastercardPreferredBusinessCard:"preferredbusiness_mastercard",mastercardCorporateCard:"corporate_mastercard"};function v(e,t){if(void 0===t&&(t=u()),!e.includes("provider:mastercardoffers"))return e;var n=e.replace(/\(? ?feature:\(mastercards_types.*?\)( \|)?\)?/,"");return 0===t.length?n:n+"("+t.map(function(e){return"feature:(mastercards_types:"+h[e]+")"}).join(" | ")+")"}},99:function(e,t,n){"use strict";var r=n(41),o=n(10),a=n(159),i=n(2796),s=n(322),c=n(2809),l=n(25),u=n(95),d="search_",p="",m={fetch:function(e,t){return Object(l.a)("search",{query:h(e,t)},t).then(function(e){return p=e.requestId,e})},fetchSearchResult:function(e,t){if("poi"===e.from)return e.uri?m.loadPoiByUri(e.uri,t).then(function(t){return Object(o.a)(Object(o.a)({},t),{},{items:t.items.map(function(t,n){return Object(o.a)(Object(o.a)({},t),{},{hotspotProperties:e.hotspotProperties,displayCoordinates:e.coordinates&&0===n?e.coordinates:t.displayCoordinates})})})}):m.loadPoiByCoordinates(e.coordinates,t);if("whatshere"===e.from)return m.loadWhatshere(e,t);var n=Object(o.a)(Object(o.a)({},e),{},{count:1,searchType:"TEXT"});return n.uri&&(n.mode="uri"),m.fetch(n,t)},prepareChainSearchRequest:function(e,t){return m.fetch({count:1,kind:"locality",text:Object(i.a)(e.center,{reverse:!0}),origin:"chain-city"},t).then(function(t){var n={searchType:"TEXT",displayText:e.chain.name,text:"chain_id:("+e.chain.id+")",origin:e.origin||"chain"},r=t.bounds;if(r){var o=Object(s.a)(r);n.center=o.center,n.span=o.span}return n})},loadPoiByCoordinates:function(e,t){return m.fetch({text:Object(i.a)(e,{reverse:!0}),count:1,origin:"poi",snippets:f(t)},t)},loadPoiByUri:function(e,t){return m.fetch({mode:"uri",uri:e,count:1,origin:"poi",snippets:f(t)},t)},loadWhatshere:function(e,t){var n=e.origin,o=Object(r.a)(e,["origin"]);return m.fetch({pin:!0,text:Object(i.a)(o.coordinates,{reverse:!0}),zoom:o.zoom,span:[.001,.001],count:1,origin:n||"poi",addBuildingGeometry:e.addGeometry},t).then(function(e){var t=e.items[0];return t?("poi"===n&&(t.displayCoordinates=t.coordinates),e):null}).catch(function(){return null})}};function f(e){return e.search.snippets.filter(function(e){return"related_adverts/1.x"!==e&&"related_adverts_1org/1.x"!==e})}function h(e,t){var n,r=e.clientId||"maps",s=e.origin?r+"-"+e.origin:r,l=((n={text:e.text,lang:t.locale,yandex_gid:t.userRegion.id,client_id:e.clientId,origin:s,results:e.count,ctx:e.context,mode:e.mode,lr:e.lr,uri:e.uri,business_oid:e.id,z:e.zoom,sort:e.sort,business_filter:e.filters,autoscale:e.autoscale,distinguish_layers:e.distinguishLayers,correct_misspell:e.correctMisspell,geocoder_kind:e.kind,skip:e.skip,rspn:e.restrictSpan,rearr:e.rearr,groupchains_advert:e.groupchains_advert,relev_ranking_formula:e.relev_ranking_formula,relev_allow_combined_drugs:e.relev_allow_combined_drugs,maxadv:e.maxadv})[a.e]=e[a.e],n.eventsBranch=t.query.eventsBranch,n);return e.addBuildingGeometry&&(l.search_geometry="2"),e.sortOrigin&&(l.sort_origin=e.sortOrigin.join()),e.center&&(l.ll=e.center.join()),e.span&&(l.spn=e.span.join()),e.bbox&&(l.bbox=e.bbox.join("~")),e.snippets?l.snippets=e.snippets.join():l.snippets=t.search.snippets.join(),e.direct&&(l=Object(o.a)(Object(o.a)({},l),t.advert.direct.params)),e.pin&&(l.geocoder_pin=1),e.type&&(l.type=e.type.join()),e.routeCoordinates&&e.bounds&&e.routeCoordinates.some(function(t){return Object(c.a)(e.bounds,t)})&&(l.business_rll=e.routeCoordinates.map(function(e){return Object(i.a)(e,{fractionDigits:5})}).join("~")),e.clientUsecase&&(l.client_usecase=e.clientUsecase),e.suggestReqid&&"form"===e.origin&&(l.suggest_reqid=e.suggestReqid),e.serpId&&(l.serpid=e.serpId),(e.parentReqId||p||t.searchPreloadedResults)&&(l.parent_reqid=e.parentReqId||p||t.searchPreloadedResults.requestId),(t.experiments.ui.whatshereInDistrictTop||t.experiments.ui.whatshereInDistrictBottom)&&(l.includeWhatshereInDistrict=1),e.geoWhere&&(l.geowhere=[].concat(e.geoWhere).reverse().join()),e.businessMode&&(l.business_mode=e.businessMode),"boolean"==typeof e.businessShowClosed&&(l.business_show_closed=e.businessShowClosed?1:0),l.text=l.text&&u.e(l.text),Object(o.a)(Object(o.a)(Object(o.a)({},l),e.rawParams),function(e){var t=Object(o.a)({},e.experiments.geoSearchParams||{}),n=e.experiments.boxes;n&&(t["test-buckets"]=n);return Object.keys(e.query).forEach(function(n){n.startsWith(d)&&(t[n]=e.query[n])}),t}(t))}t.a=m}}]);